<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.38" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://xlc520.github.io/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html"><meta property="og:site_name" content="StudyNote"><meta property="og:title" content="Podmanå¼€æºçš„å®¹å™¨"><meta property="og:description" content="Docker å¤§åŠ¿å·²å»ï¼ŒPodman å³å°†å´›èµ·"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-03-20T06:45:22.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="xlc520"><meta property="article:tag" content="Linux"><meta property="article:published_time" content="2022-02-28T00:00:00.000Z"><meta property="article:modified_time" content="2022-03-20T06:45:22.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><title>Podmanå¼€æºçš„å®¹å™¨ | StudyNote</title><meta name="description" content="Docker å¤§åŠ¿å·²å»ï¼ŒPodman å³å°†å´›èµ·">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.60b19feb.css">
    <link rel="modulepreload" href="/assets/app.e4dbe2f9.js"><link rel="modulepreload" href="/assets/Podmanå¼€æºçš„å®¹å™¨.html.78968d6b.js"><link rel="modulepreload" href="/assets/Podmanå¼€æºçš„å®¹å™¨.html.3576e103.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.svg" alt="StudyNote"><!----><span class="site-name hide-in-pad">StudyNote</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" arialabel="Home"><i class="icon iconfont icon-home"></i>Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/study/" class="nav-link" arialabel="å­¦ä¹ "><i class="icon iconfont icon-note"></i>å­¦ä¹ <!----></a></div><div class="nav-item hide-in-mobile"><a href="/java/" class="nav-link" arialabel="Java"><i class="icon iconfont icon-java"></i>Java<!----></a></div><div class="nav-item hide-in-mobile"><a href="/linux/" class="nav-link active" arialabel="Linux"><i class="icon iconfont icon-linux"></i>Linux<!----></a></div><div class="nav-item hide-in-mobile"><a href="/script/" class="nav-link" arialabel="è„šæœ¬"><i class="icon iconfont icon-script"></i>è„šæœ¬<!----></a></div><div class="nav-item hide-in-mobile"><a href="/tools/" class="nav-link" arialabel="å·¥å…·"><i class="icon iconfont icon-tool"></i>å·¥å…·<!----></a></div><div class="nav-item hide-in-mobile"><a href="/source_code/" class="nav-link" arialabel="æºç "><i class="icon iconfont icon-code"></i>æºç <!----></a></div><div class="nav-item hide-in-mobile"><a href="/git/" class="nav-link" arialabel="Git"><i class="icon iconfont icon-git"></i>Git<!----></a></div><div class="nav-item hide-in-mobile"><a href="/daily/" class="nav-link" arialabel="æ—¥å¸¸"><i class="icon iconfont icon-date"></i>æ—¥å¸¸<!----></a></div><div class="nav-item hide-in-mobile"><a href="/pc/" class="nav-link" arialabel="ç”µè„‘"><i class="icon iconfont icon-computer"></i>ç”µè„‘<!----></a></div><div class="nav-item hide-in-mobile"><a href="/article/" class="nav-link" arialabel="æ–‡ç« "><i class="icon iconfont icon-article"></i>æ–‡ç« <!----></a></div><div class="nav-item hide-in-mobile"><a href="/other/" class="nav-link" arialabel="å…¶ä»–"><i class="icon iconfont icon-others"></i>å…¶ä»–<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://git.xulc.workers.dev/" rel="noopener noreferrer" target="_blank" arialabel="DownGit" class="nav-link"><i class="icon iconfont icon-github"></i>DownGit<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/xlc520/xlc520.github.io" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" arialabelledby="outlook"><title id="outlook" lang="en">outlook icon</title><g fill="currentColor"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></g></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/linux/" class="nav-link sidebar-link sidebar-page" arialabel="Linux"><i class="icon iconfont icon-linux"></i>Linux<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/Centos7Minimal.html" class="nav-link sidebar-link sidebar-page" arialabel="Centos7 Minimal å®‰è£…ååˆå§‹åŒ–é…ç½®"><!---->Centos7 Minimal å®‰è£…ååˆå§‹åŒ–é…ç½®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/Euserv.html" class="nav-link sidebar-link sidebar-page" arialabel="Euserv"><i class="icon iconfont icon-page"></i>Euserv<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/Linux%E6%80%BB%E7%BB%93.html" class="nav-link sidebar-link sidebar-page" arialabel="Linuxç³»ç»Ÿæ€»ç»“"><!---->Linuxç³»ç»Ÿæ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/Nginx%E4%B8%87%E5%AD%97%E6%80%BB%E7%BB%93.html" class="nav-link sidebar-link sidebar-page" arialabel="Nginxä¸‡å­—æ€»ç»“"><!---->Nginxä¸‡å­—æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/Nginx%E5%AE%89%E8%A3%85Web%E5%BA%94%E7%94%A8%E9%98%B2%E7%81%AB%E5%A2%99.html" class="nav-link sidebar-link sidebar-page" arialabel="Nginxå®‰è£…Webåº”ç”¨é˜²ç«å¢™"><i class="icon iconfont icon-page"></i>Nginxå®‰è£…Webåº”ç”¨é˜²ç«å¢™<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/openssl%E4%B8%80%E9%94%AE%E8%87%AA%E7%AD%BE%E8%AF%81%E4%B9%A6.html" class="nav-link sidebar-link sidebar-page" arialabel="Opensslä¸€é”®è‡ªç­¾è¯ä¹¦"><i class="icon iconfont icon-page"></i>Opensslä¸€é”®è‡ªç­¾è¯ä¹¦<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="Podmanå¼€æºçš„å®¹å™¨"><!---->Podmanå¼€æºçš„å®¹å™¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#ä»€ä¹ˆæ˜¯podman" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="ä»€ä¹ˆæ˜¯Podmanï¼Ÿ"><!---->ä»€ä¹ˆæ˜¯Podmanï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#podmanå¸¸ç”¨å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="Podmanå¸¸ç”¨å‘½ä»¤"><!---->Podmanå¸¸ç”¨å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#ã€Œpodman-åŠ é€Ÿå™¨ã€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="ã€ŒPodman åŠ é€Ÿå™¨ã€"><!---->ã€ŒPodman åŠ é€Ÿå™¨ã€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#ã€Œä½¿ç”¨-podmanã€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="ã€Œä½¿ç”¨ Podmanã€"><!---->ã€Œä½¿ç”¨ Podmanã€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#ã€Œç”¨æˆ·æ“ä½œã€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="ã€Œç”¨æˆ·æ“ä½œã€"><!---->ã€Œç”¨æˆ·æ“ä½œã€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#å·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="å·"><!---->å·<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/linux/Windows%E5%AD%90%E7%B3%BB%E7%BB%9F.html" class="nav-link sidebar-link sidebar-page" arialabel="Windowså­ç³»ç»Ÿ"><!---->Windowså­ç³»ç»Ÿ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/NodeJS-Maven-Mysql.html" class="nav-link sidebar-link sidebar-page" arialabel="å®‰è£…NodeJS-Maven-Mysql"><i class="icon iconfont icon-page"></i>å®‰è£…NodeJS-Maven-Mysql<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/bt.html" class="nav-link sidebar-link sidebar-page" arialabel="å®å¡”é¢æ¿ç»•è¿‡ç»‘å®šè´¦å·"><!---->å®å¡”é¢æ¿ç»•è¿‡ç»‘å®šè´¦å·<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/linux/%E5%AE%9E%E7%94%A8%20shell%20%E8%84%9A%E6%9C%AC.html" class="nav-link sidebar-link sidebar-page" arialabel="å®ç”¨ shell è„šæœ¬"><!---->å®ç”¨ shell è„šæœ¬<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Podmanå¼€æºçš„å®¹å™¨</h1><div class="article-info"><span class="author-info" arialabel="ä½œè€…ğŸ–Š" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><span class="author-item">xlc520</span></span><span property="author" content="xlc520"></span></span><!----><span class="date-info" arialabel="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022å¹´2æœˆ28æ—¥</span><meta property="datePublished" content="2022-02-28T00:00:00.000Z"></span><span class="category-info" arialabel="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category category0 clickable" role="navigation">Linux</li><meta property="articleSection" content="Linux"></ul></span><span arialabel="æ ‡ç­¾ğŸ·" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag tag0 clickable" role="navigation">Linux</li></ul><meta property="keywords" content="Linux"></span><span class="reading-time-info" arialabel="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" arialabelledby="timer"><title id="timer" lang="en">timer icon</title><g fill="currentColor"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></g></svg><span>å¤§çº¦ 12 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT12M"></span><span class="words-info" arialabel="å­—æ•°ğŸ” " data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" arialabelledby="word"><title id="word" lang="en">word icon</title><g fill="currentColor"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></g></svg><span>çº¦ 3561 å­—</span><meta property="wordCount" content="3561"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#ä»€ä¹ˆæ˜¯podman" class="router-link-active router-link-exact-active toc-link level3">ä»€ä¹ˆæ˜¯Podmanï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#podmanå¸¸ç”¨å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">Podmanå¸¸ç”¨å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#ã€Œpodman-åŠ é€Ÿå™¨ã€" class="router-link-active router-link-exact-active toc-link level3">ã€ŒPodman åŠ é€Ÿå™¨ã€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#ã€Œä½¿ç”¨-podmanã€" class="router-link-active router-link-exact-active toc-link level3">ã€Œä½¿ç”¨ Podmanã€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#ã€Œç”¨æˆ·æ“ä½œã€" class="router-link-active router-link-exact-active toc-link level3">ã€Œç”¨æˆ·æ“ä½œã€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/linux/Podman%E5%BC%80%E6%BA%90%E7%9A%84%E5%AE%B9%E5%99%A8.html#å·" class="router-link-active router-link-exact-active toc-link level3">å·</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><p><img src="https://mmbiz.qpic.cn/mmbiz_png/GjuWRiaNxhnQ7UdGu7GkFW1JTLG84Sbke4nPJmv0419zZF8UBbuvqNQc9PscMEOQUf9Q11xX4no3LKadzfhNZoA/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="å›¾ç‰‡" loading="lazy"></p><p>æ¥æºï¼šhttp://t-t.ink/0V26K</p><h3 id="ä»€ä¹ˆæ˜¯podman" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯podman" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯Podmanï¼Ÿ</h3><p>Podman æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨è¿è¡Œæ—¶é¡¹ç›®ï¼Œå¯åœ¨å¤§å¤šæ•° Linux å¹³å°ä¸Šä½¿ç”¨ã€‚Podman æä¾›ä¸ Docker éå¸¸ç›¸ä¼¼çš„åŠŸèƒ½ã€‚æ­£å¦‚å‰é¢æåˆ°çš„é‚£æ ·ï¼Œå®ƒä¸éœ€è¦åœ¨ä½ çš„ç³»ç»Ÿä¸Šè¿è¡Œä»»ä½•å®ˆæŠ¤è¿›ç¨‹ï¼Œå¹¶ä¸”å®ƒä¹Ÿå¯ä»¥åœ¨æ²¡æœ‰ root æƒé™çš„æƒ…å†µä¸‹è¿è¡Œã€‚</p><p>Podman å¯ä»¥ç®¡ç†å’Œè¿è¡Œä»»ä½•ç¬¦åˆ OCIï¼ˆOpen Container Initiativeï¼‰è§„èŒƒçš„å®¹å™¨å’Œå®¹å™¨é•œåƒã€‚Podman æä¾›äº†ä¸€ä¸ªä¸ Docker å…¼å®¹çš„å‘½ä»¤è¡Œå‰ç«¯æ¥ç®¡ç† Docker é•œåƒã€‚</p><p>Podman å®˜ç½‘åœ°å€ï¼šhttps://podman.io/</p><h4 id="ã€Œpodmanå’Œdockerçš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆ-ã€" tabindex="-1"><a class="header-anchor" href="#ã€Œpodmanå’Œdockerçš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆ-ã€" aria-hidden="true">#</a> <strong>ã€ŒPodmanå’ŒDockerçš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿã€</strong></h4><ul><li>dockersåœ¨å®ç°CRIçš„æ—¶å€™ï¼Œå®ƒéœ€è¦ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œå…¶æ¬¡éœ€è¦ä»¥rootè¿è¡Œï¼Œå› æ­¤è¿™ä¹Ÿå¸¦æ¥äº†å®‰å…¨éšæ‚£ã€‚</li><li>podmanä¸éœ€è¦å®ˆæŠ¤ç¨‹åºï¼Œä¹Ÿä¸éœ€è¦rootç”¨æˆ·è¿è¡Œï¼Œä»é€»è¾‘æ¶æ„ä¸Šï¼Œæ¯”dockeræ›´åŠ åˆç†ã€‚</li><li>åœ¨dockerçš„è¿è¡Œä½“ç³»ä¸­ï¼Œéœ€è¦å¤šä¸ªdaemonæ‰èƒ½è°ƒç”¨åˆ°OCIçš„å®ç°RunCã€‚</li><li>åœ¨å®¹å™¨ç®¡ç†çš„é“¾è·¯ä¸­ï¼ŒDocker Engineçš„å®ç°å°±æ˜¯dockerd</li><li>daemonï¼Œå®ƒåœ¨linuxä¸­éœ€è¦ä»¥rootè¿è¡Œï¼Œdockerdè°ƒç”¨containerdï¼Œcontainerdè°ƒç”¨containerd-shimï¼Œç„¶åæ‰èƒ½è°ƒç”¨runCã€‚é¡¾åæ€ä¹‰shimèµ·çš„ä½œç”¨ä¹Ÿå°±æ˜¯â€œå«ç‰‡â€ï¼Œé¿å…çˆ¶è¿›ç¨‹é€€å‡ºå½±å“å®¹å™¨çš„è¿è®­</li><li>podmanç›´æ¥è°ƒç”¨OCI,runtimeï¼ˆrunCï¼‰ï¼Œé€šè¿‡commonä½œä¸ºå®¹å™¨è¿›ç¨‹çš„ç®¡ç†å·¥å…·ï¼Œä½†ä¸éœ€è¦dockerdè¿™ç§ä»¥rootèº«ä»½è¿è¡Œçš„å®ˆæŠ¤è¿›ç¨‹ã€‚(<a href="http://mp.weixin.qq.com/s?__biz=MzU5NTgzMDYyMA==&amp;mid=2247499357&amp;idx=1&amp;sn=77697f0fbec449d80e58cafbfb1f7eb4&amp;chksm=fe694c6ec91ec578753a087ef6d28719f095f9750d3d13785c253b719dc0b08a89fe3df53700&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">ç‚¹å‡»ä¸‹è½½2021å¹´æœ€æ–°é˜¿é‡Œp7é¢è¯•é¢˜<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æ•™ç¨‹)</li><li>åœ¨podmanä½“ç³»ä¸­ï¼Œæœ‰ä¸ªç§°ä¹‹ä¸ºcommonçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå…¶è¿è¡Œè·¯å¾„é€šå¸¸æ˜¯/usr/libexec/podman/conmonï¼Œå®ƒæ˜¯å„ä¸ªå®¹å™¨è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ï¼Œæ¯ä¸ªå®¹å™¨å„æœ‰ä¸€ä¸ªï¼Œcommonçš„çˆ¶åˆ™é€šå¸¸æ˜¯1å·è¿›ç¨‹ã€‚podmanä¸­çš„commonå…¶å®ç›¸å½“äºdockerä½“ç³»ä¸­çš„containerd-shimã€‚</li></ul><p>å›¾ä¸­æ‰€ä½“ç°çš„äº‹æƒ…æ˜¯ï¼Œpodmanä¸éœ€è¦å®ˆæŠ¤è¿›ç¨‹ï¼Œè€Œdorkeréœ€è¦å®ˆæŠ¤è¿›ç¨‹ã€‚åœ¨è¿™ä¸ªå›¾çš„ç¤ºæ„ä¸­ï¼Œdorckerçš„containerd-shimä¸podmançš„commonè¢«å½’åœ¨Containerä¸€å±‚ã€‚</p><h4 id="ã€Œpodmançš„ä½¿ç”¨ä¸dockeræœ‰ä»€ä¹ˆåŒºåˆ«-ã€" tabindex="-1"><a class="header-anchor" href="#ã€Œpodmançš„ä½¿ç”¨ä¸dockeræœ‰ä»€ä¹ˆåŒºåˆ«-ã€" aria-hidden="true">#</a> <strong>ã€ŒPodmançš„ä½¿ç”¨ä¸dockeræœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿã€</strong></h4><p>podmançš„å®šä½ä¹Ÿæ˜¯ä¸dockerå…¼å®¹ï¼Œå› æ­¤åœ¨ä½¿ç”¨ä¸Šé¢å°½é‡é è¿‘dockerã€‚åœ¨ä½¿ç”¨æ–¹é¢ï¼Œå¯ä»¥åˆ†æˆä¸¤ä¸ªæ–¹é¢æ¥è¯´ï¼Œä¸€æ˜¯ç³»ç»Ÿæ„å»ºè€…çš„è§’åº¦ï¼ŒäºŒæ˜¯ä½¿ç”¨è€…çš„è§’åº¦ã€‚</p><p>åœ¨ç³»ç»Ÿæ„å»ºè€…æ–¹é¢ï¼Œç”¨podmançš„é»˜è®¤è½¯ä»¶ï¼Œä¸dockerçš„åŒºåˆ«ä¸å¤§ï¼Œåªæ˜¯åœ¨è¿›ç¨‹æ¨¡å‹ã€è¿›ç¨‹å…³ç³»æ–¹é¢æœ‰æ‰€åŒºåˆ«ã€‚å¦‚æœä¹ æƒ¯äº†dockerå‡ ä¸ªå…³è”è¿›ç¨‹çš„è°ƒè¯•æ–¹æ³•ï¼Œåœ¨podmanä¸­åˆ™éœ€è¦é€‚åº”ã€‚å¯ä»¥é€šè¿‡pstreeå‘½ä»¤æŸ¥çœ‹è¿›ç¨‹çš„æ ‘çŠ¶ç»“æ„ã€‚æ€»ä½“æ¥çœ‹ï¼Œpodmanæ¯”dockerè¦ç®€å•ã€‚ç”±äºpodmanæ¯”dockerå°‘äº†ä¸€å±‚daemonï¼Œå› æ­¤é‡å¯çš„æœºåˆ¶ä¹Ÿå°±ä¸åŒäº†ã€‚</p><p>åœ¨ä½¿ç”¨è€…æ–¹é¢ï¼Œpodmanä¸dockerçš„å‘½ä»¤åŸºæœ¬å…¼å®¹ï¼Œéƒ½åŒ…æ‹¬å®¹å™¨è¿è¡Œæ—¶ï¼ˆrun/start/kill/ps/inspectï¼‰ï¼Œæœ¬åœ°é•œåƒï¼ˆimages/rmi/buildï¼‰ã€é•œåƒä»“åº“ï¼ˆlogin/pull/pushï¼‰ç­‰å‡ ä¸ªæ–¹é¢ã€‚å› æ­¤podmançš„å‘½ä»¤è¡Œå·¥å…·ä¸dockerç±»ä¼¼ï¼Œæ¯”å¦‚æ„å»ºé•œåƒã€å¯åœå®¹å™¨ç­‰ã€‚ç”šè‡³å¯ä»¥é€šè¿‡alias</p><p>docker=podmanå¯ä»¥è¿›è¡Œæ›¿æ¢ã€‚å› æ­¤ï¼Œå³ä¾¿ä½¿ç”¨äº†podmanï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨docker.ioä½œä¸ºé•œåƒä»“åº“ï¼Œè¿™ä¹Ÿæ˜¯å…¼å®¹æ€§æœ€å…³é”®çš„éƒ¨åˆ†ã€‚</p><h3 id="podmanå¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#podmanå¸¸ç”¨å‘½ä»¤" aria-hidden="true">#</a> Podmanå¸¸ç”¨å‘½ä»¤</h3><h4 id="ã€Œå®¹å™¨ã€" tabindex="-1"><a class="header-anchor" href="#ã€Œå®¹å™¨ã€" aria-hidden="true">#</a> <strong>ã€Œå®¹å™¨ã€</strong></h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>podman run           åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨
podman start         å¯åŠ¨å®¹å™¨
podman ps            æŸ¥çœ‹å®¹å™¨
podman stop          ç»ˆæ­¢å®¹å™¨
podman restart       é‡å¯å®¹å™¨
podman attach        è¿›å…¥å®¹å™¨
podman exec          è¿›å…¥å®¹å™¨
podman export        å¯¼å‡ºå®¹å™¨
podman import        å¯¼å…¥å®¹å™¨å¿«ç…§
podman rm            åˆ é™¤å®¹å™¨
podman logs          æŸ¥çœ‹æ—¥å¿—
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="ã€Œé•œåƒã€" tabindex="-1"><a class="header-anchor" href="#ã€Œé•œåƒã€" aria-hidden="true">#</a> <strong>ã€Œé•œåƒã€</strong></h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>podman search                æ£€ç´¢é•œåƒ
podman pull                  è·å–é•œåƒ
podman images                åˆ—å‡ºé•œåƒ
podman image Is              åˆ—å‡ºé•œåƒ
podman rmi                   åˆ é™¤é•œåƒ
podman image rm              åˆ é™¤é•œåƒ
podman save                  å¯¼å‡ºé•œåƒ
podman load                  å¯¼å…¥é•œåƒ
podmanfile                   å®šåˆ¶é•œåƒï¼ˆä¸‰ä¸ªï¼‰
  podman build             æ„å»ºé•œåƒ
    podman run               è¿è¡Œé•œåƒ
    podmanfile               å¸¸ç”¨æŒ‡ä»¤ï¼ˆå››ä¸ªï¼‰
      COPY                 å¤åˆ¶æ–‡ä»¶
        ADD                  é«˜çº§å¤åˆ¶
        CMD                  å®¹å™¨å¯åŠ¨å‘½ä»¤
        ENV                  ç¯å¢ƒå˜é‡
        EXPOSE               æš´éœ²ç«¯å£
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="ã€Œéƒ¨ç½²-podmanã€" tabindex="-1"><a class="header-anchor" href="#ã€Œéƒ¨ç½²-podmanã€" aria-hidden="true">#</a> <strong>ã€Œéƒ¨ç½² Podmanã€</strong></h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//å®‰è£…podman
[root@localhost ~]# yum -y install podman
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="ã€Œpodman-åŠ é€Ÿå™¨ã€" tabindex="-1"><a class="header-anchor" href="#ã€Œpodman-åŠ é€Ÿå™¨ã€" aria-hidden="true">#</a> <strong>ã€ŒPodman åŠ é€Ÿå™¨ã€</strong></h3><p>ç‰ˆæœ¬7é…ç½®åŠ é€Ÿå™¨</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//ä»“åº“é…ç½®
[root@localhost ~]# vim /etc/containers/registries.conf
[registries.search]
#registries = [&quot;registry.access.redhat.com&quot;, &quot;registry.redhat.io&quot;, &quot;docker.io&quot;]   #è¿™ä¸ªæ˜¯æŸ¥æ‰¾ï¼Œä»è¿™ä¸‰ä¸ªåœ°æ–¹æŸ¥æ‰¾

registries = [&quot;docker.io&quot;]    #å¦‚æœåªç•™ä¸€ä¸ªï¼Œåˆ™åªåœ¨ä¸€ä¸ªæºé‡ŒæŸ¥æ‰¾
[[docker.io]]
location=&quot;j3m2itm3.mirror.aliyuncs.com&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ç‰ˆæœ¬8é…ç½®åŠ é€Ÿå™¨</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>#unqualified-search-registries = [&quot;registry.fedoraproject.org&quot;, &quot;registry.access.redhat.com&quot;, &quot;registry.centos.org&quot;, &quot;docker.io&quot;]     #ç›´æ¥æ³¨é‡Šæ‰
unqualified-search-registries = [&quot;docker.io&quot;]    #æ·»åŠ ä¸€ä¸ªdocker.io
[[registry]]
prefix = &quot;docker.io&quot;
location = &quot;j3m2itm3.mirror.aliyuncs.com&quot; ï¼ˆä¸ç”¨åŠ https://  ç›´æ¥åŠ åœ°å€ï¼‰
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="ã€Œä½¿ç”¨-podmanã€" tabindex="-1"><a class="header-anchor" href="#ã€Œä½¿ç”¨-podmanã€" aria-hidden="true">#</a> <strong>ã€Œä½¿ç”¨ Podmanã€</strong></h3><p>ä½¿ç”¨ Podman éå¸¸çš„ç®€å•ï¼ŒPodman çš„æŒ‡ä»¤è·Ÿ Docker å¤§å¤šæ•°éƒ½æ˜¯ç›¸åŒçš„ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹å‡ ä¸ªå¸¸ç”¨çš„ä¾‹å­ï¼š</p><h4 id="è¿è¡Œä¸€ä¸ªå®¹å™¨" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œä¸€ä¸ªå®¹å™¨" aria-hidden="true">#</a> è¿è¡Œä¸€ä¸ªå®¹å™¨</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# podman run -d --name httpd docker.io/library/httpd
Trying to pull docker.io/library/httpd...
Getting image source signatures
Copying blob e5ae68f74026 done  
Copying blob d3576f2b6317 done  
Copying blob bc36ee1127ec done  
Copying blob f1aa5f54b226 done  
Copying blob aa379c0cedc2 done  
Copying config ea28e1b82f done  
Writing manifest to image destination
Storing signatures
0492e405b9ecb05e6e6be1fec0ac1a8b6ba3ff949df259b45146037b5f355035

//æŸ¥çœ‹é•œåƒ
[root@localhost ~]# podman images
REPOSITORY                  TAG      IMAGE ID       CREATED       SIZE
docker.io/library/httpd     latest   ea28e1b82f31   11 days ago   148 MB
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="åˆ—å‡ºè¿è¡Œçš„å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ—å‡ºè¿è¡Œçš„å®¹å™¨" aria-hidden="true">#</a> åˆ—å‡ºè¿è¡Œçš„å®¹å™¨</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# podman ps
CONTAINER ID  IMAGE                             COMMAND           CREATED             STATUS                 PORTS  NAMES
0492e405b9ec  docker.io/library/httpd:latest    httpd-foreground  About a minute ago  Up About a minute ago         httpd
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æ³¨æ„ï¼šå¦‚æœåœ¨pså‘½ä»¤ä¸­æ·»åŠ -aï¼ŒPodman å°†æ˜¾ç¤ºæ‰€æœ‰å®¹å™¨ã€‚</p><h4 id="æ£€æŸ¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#æ£€æŸ¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨" aria-hidden="true">#</a> æ£€æŸ¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨</h4><p>æ‚¨å¯ä»¥â€œæ£€æŸ¥â€æ­£åœ¨è¿è¡Œçš„å®¹å™¨çš„å…ƒæ•°æ®å’Œæœ‰å…³å…¶è‡ªèº«çš„è¯¦ç»†ä¿¡æ¯ã€‚æˆ‘ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨ inspect å­å‘½ä»¤æŸ¥çœ‹åˆ†é…ç»™å®¹å™¨çš„ IP åœ°å€ã€‚ç”±äºå®¹å™¨ä»¥æ— æ ¹æ¨¡å¼è¿è¡Œï¼Œå› æ­¤æœªåˆ†é… IP åœ°å€ï¼Œå¹¶ä¸”è¯¥å€¼å°†åœ¨æ£€æŸ¥çš„è¾“å‡ºä¸­åˆ—ä¸ºâ€œæ— â€ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# podman inspect -l | grep IPAddress\&quot;: 
            &quot;SecondaryIPAddresses&quot;: null, 
            &quot;IPAddress&quot;: &quot;10.88.0.5&quot;,

[root@localhost ~]# curl 10.88.0.5
&lt;html&gt;&lt;body&gt;&lt;h1&gt;It works!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æ³¨æ„ï¼š-l æ˜¯æœ€æ–°å®¹å™¨çš„ä¾¿åˆ©å‚æ•°ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å®¹å™¨çš„ ID ä»£æ›¿ -lã€‚</p><h4 id="æŸ¥çœ‹ä¸€ä¸ªè¿è¡Œä¸­å®¹å™¨çš„æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹ä¸€ä¸ªè¿è¡Œä¸­å®¹å™¨çš„æ—¥å¿—" aria-hidden="true">#</a> æŸ¥çœ‹ä¸€ä¸ªè¿è¡Œä¸­å®¹å™¨çš„æ—¥å¿—</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>é€‰é¡¹
  --latest    #æœ€è¿‘çš„
  
[root@localhost ~]# podman logs --latest
AH00558: httpd: Could not reliably determine the server&#39;s fully qualified domain name, using 10.88.0.5. Set the &#39;ServerName&#39; directive globally to suppress this message
AH00558: httpd: Could not reliably determine the server&#39;s fully qualified domain name, using 10.88.0.5. Set the &#39;ServerName&#39; directive globally to suppress this message
[Mon Dec 13 15:17:53.690844 2021] [mpm_event:notice] [pid 1:tid 140665160166720] AH00489: Apache/2.4.51 (Unix) configured -- resuming normal operations
[Mon Dec 13 15:17:53.690946 2021] [core:notice] [pid 1:tid 140665160166720] AH00094: Command line: &#39;httpd -D FOREGROUND&#39;
10.88.0.1 - - [13/Dec/2021:15:19:48 +0000] &quot;GET / HTTP/1.1&quot; 200 45
10.88.0.1 - - [13/Dec/2021:15:20:47 +0000] &quot;GET / HTTP/1.1&quot; 200 45
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>æŸ¥çœ‹ä¸€ä¸ªè¿è¡Œå®¹å™¨ä¸­çš„è¿›ç¨‹èµ„æºä½¿ç”¨æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨topè§‚å¯Ÿå®¹å™¨ä¸­çš„ nginx pid</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>è¯­æ³•ï¼š
  podman top &lt;container_id&gt;  
  
[root@localhost ~]# podman top httpd
USER       PID   PPID   %CPU    ELAPSED            TTY   TIME   COMMAND
root       1     0      0.000   15m38.599711321s   ?     0s     httpd -DFOREGROUND 
www-data   7     1      0.000   15m38.599783256s   ?     0s     httpd -DFOREGROUND 
www-data   8     1      0.000   15m38.599845342s   ?     0s     httpd -DFOREGROUND 
www-data   9     1      0.000   15m38.599880444s   ?     0s     httpd -DFOREGROUND 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="åœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#åœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨" aria-hidden="true">#</a> åœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# podman stop --latest
2f3edf712621d3a41e03fa8c7f6a5cdba56fbbad43a7a59ede26cc88f31006c4
[root@localhost ~]# podman ps
CONTAINER ID  IMAGE  COMMAND  CREATED  STATUS  PORTS  NAMES
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="åˆ é™¤ä¸€ä¸ªå®¹å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ é™¤ä¸€ä¸ªå®¹å™¨" aria-hidden="true">#</a> åˆ é™¤ä¸€ä¸ªå®¹å™¨</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# podman rm --latest
2f3edf712621d3a41e03fa8c7f6a5cdba56fbbad43a7a59ede26cc88f31006c4
[root@localhost ~]# podman ps -a
CONTAINER ID  IMAGE  COMMAND  CREATED  STATUS  PORTS  NAMES
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ä»¥ä¸Šè¿™äº›ç‰¹æ€§åŸºæœ¬ä¸Šéƒ½å’Œ Docker ä¸€æ ·ï¼ŒPodman é™¤äº†å…¼å®¹è¿™äº›ç‰¹æ€§å¤–ï¼Œè¿˜æ”¯æŒäº†ä¸€äº›æ–°çš„ç‰¹æ€§ã€‚</p><h4 id="ä¸Šä¼ é•œåƒ" tabindex="-1"><a class="header-anchor" href="#ä¸Šä¼ é•œåƒ" aria-hidden="true">#</a> ä¸Šä¼ é•œåƒ</h4><p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨ docker.io ä¸Šåˆ†äº«æˆ‘ä»¬æ–°å»ºçš„ Nginx å®¹å™¨é•œåƒï¼Œè¿™å¾ˆå®¹æ˜“ã€‚é¦–å…ˆç™»å½•ç å¤´ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost nginx]# tree 
.
â”œâ”€â”€ Dockerfile
â””â”€â”€ files
    â””â”€â”€ nginx-1.20.1.tar.gz

[root@localhost nginx]# cat Dockerfile 
FROM docker.io/library/centos

ENV PATH /usr/local/nginx/sbin:$PATH
ADD files/nginx-1.20.1.tar.gz /usr/src
RUN useradd -r -M -s /sbin/nologin nginx &amp;&amp; \
    yum -y install pcre-devel openssl openssl-devel gd-devel gcc gcc-c++ make &amp;&amp; \
    mkdir -p /var/log/nginx &amp;&amp; \
    cd /usr/src/nginx-1.20.1 &amp;&amp; \
    ./configure \
    --prefix=/usr/local/nginx \
    --user=nginx \
    --group=nginx \
    --with-debug \
    --with-http_ssl_module \
    --with-http_realip_module \
    --with-http_image_filter_module \
    --with-http_gunzip_module \
    --with-http_gzip_static_module \
    --with-http_stub_status_module \
    --http-log-path=/var/log/nginx/access.log \
    --error-log-path=/var/log/nginx/error.log &amp;&amp; \
  make &amp;&amp; make install

CMD [&quot;nginx&quot;,&quot;-g&quot;,&quot;daemon off&quot;]
[root@localhost nginx]# podman build -t nginx .

// ä¿®æ”¹é•œåƒå
 [root@localhost ~]# podman tag docker.io/library/nginx:latest docker.io/1314444/test:latest

// ç™»å½•å¹¶ä¸Šä¼ é•œåƒ
[root@localhost ~]# podman login docker.io // éœ€è¦å‘Šè¯‰å…¶è¦ç™»å½•åˆ°dockerä»“åº“
[root@localhost ~]# podman login docker.io
Username: 1314444    #è´¦æˆ·
Password: ********    #å¯†ç 
Login Succeeded!

[root@localhost nginx]# podman push docker.io/1314444/test:latest  //ä¸Šä¼ é•œåƒ
Getting image source signatures
Copying blob 38c40d6c2c85 done
Copying blob fee76a531659 done
Copying blob c2adabaecedb done
Copying config 7f3589c0b8 done
Writing manifest to image destination
Copying config 7f3589c0b8 done
Writing manifest to image destination
Storing signatures


//è¯·æ³¨æ„ï¼Œæˆ‘ä»¬å°†å››å±‚æ¨é€åˆ°æˆ‘ä»¬çš„æ³¨å†Œè¡¨ï¼Œç°åœ¨å¯ä¾›å…¶ä»–äººå…±äº«ã€‚å¿«é€Ÿæµè§ˆä¸€ä¸‹ï¼š
[root@localhost ~]# podman inspect 1314444/test:nginx
//è¾“å‡ºï¼š
[
    {
        &quot;Id&quot;: &quot;7f3589c0b8849a9e1ff52ceb0fcea2390e2731db9d1a7358c2f5fad216a48263&quot;,
        &quot;Digest&quot;: &quot;sha256:7822b5ba4c2eaabdd0ff3812277cfafa8a25527d1e234be028ed381a43ad5498&quot;,
        &quot;Repotag&quot;: [
            &quot;docker.io/1314444/test:nginx&quot;,
    ......
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div><p>æ€»è€Œè¨€ä¹‹ï¼ŒPodman ä½¿æŸ¥æ‰¾ã€è¿è¡Œã€æ„å»ºå’Œå…±äº«å®¹å™¨å˜å¾—å®¹æ˜“ã€‚</p><h4 id="é…ç½®åˆ«å" tabindex="-1"><a class="header-anchor" href="#é…ç½®åˆ«å" aria-hidden="true">#</a> é…ç½®åˆ«å</h4><p>å¦‚æœä¹ æƒ¯äº†ä½¿ç”¨ Docker å‘½ä»¤ï¼Œå¯ä»¥ç›´æ¥ç»™ Podman é…ç½®ä¸€ä¸ªåˆ«åæ¥å®ç°æ— ç¼è½¬ç§»ã€‚ä½ åªéœ€è¦åœ¨ .bashrc ä¸‹åŠ å…¥ä»¥ä¸‹è¡Œå†…å®¹å³å¯ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# echo &quot;alias docker=podman&quot; &gt;&gt; .bashrc
source .bashrc
[root@localhost ~]# alias
alias cp=&#39;cp -i&#39;
alias docker=&#39;podman&#39;
.......
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="ã€Œç”¨æˆ·æ“ä½œã€" tabindex="-1"><a class="header-anchor" href="#ã€Œç”¨æˆ·æ“ä½œã€" aria-hidden="true">#</a> <strong>ã€Œç”¨æˆ·æ“ä½œã€</strong></h3><p>åœ¨å…è®¸æ²¡æœ‰rootç‰¹æƒçš„ç”¨æˆ·è¿è¡ŒPodmanä¹‹å‰ï¼Œç®¡ç†å‘˜å¿…é¡»å®‰è£…æˆ–æ„å»ºPodmanå¹¶å®Œæˆä»¥ä¸‹é…ç½®</p><p>cgroup V2Linuxå†…æ ¸åŠŸèƒ½å…è®¸ç”¨æˆ·é™åˆ¶æ™®é€šç”¨æˆ·å®¹å™¨å¯ä»¥ä½¿ç”¨çš„èµ„æºï¼Œå¦‚æœä½¿ç”¨cgroupV2å¯ç”¨äº†è¿è¡ŒPodmançš„Linuxå‘è¡Œç‰ˆï¼Œåˆ™å¯èƒ½éœ€è¦æ›´æ”¹é»˜è®¤çš„OCIè¿è¡Œæ—¶ã€‚æŸäº›è¾ƒæ—§çš„ç‰ˆæœ¬runcä¸é€‚ç”¨äºcgroupV2ï¼Œå¿…é¡»åˆ‡æ¢åˆ°å¤‡ç”¨OCIè¿è¡Œæ—¶crunã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# yum -y install crun     //centos8ç³»ç»Ÿè‡ªå¸¦

[root@localhost ~]# vi /usr/share/containers/containers.conf 
    446 # Default OCI runtime
    447 # 
    448 runtime = &quot;crun&quot;      //å–æ¶ˆæ³¨é‡Šå¹¶å°†runcæ”¹ä¸ºcrun

[root@localhost ~]# podman run -d --name web -p 80:80 docker.io/library/nginx
c8664d2e43c872e1e5219f82d41f63048ed3a5ed4fb6259c225a14d6c243677f

[root@localhost ~]# podman inspect web | grep crun
        &quot;OCIRuntime&quot;: &quot;crun&quot;,
            &quot;crun&quot;,
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="å®‰è£…slirp4netnså’Œfuse-overlayfs" tabindex="-1"><a class="header-anchor" href="#å®‰è£…slirp4netnså’Œfuse-overlayfs" aria-hidden="true">#</a> å®‰è£…slirp4netnså’Œfuse-overlayfs</h4><p>åœ¨æ™®é€šç”¨æˆ·ç¯å¢ƒä¸­ä½¿ç”¨Podmanæ—¶ï¼Œå»ºè®®ä½¿ç”¨fuse-overlayfsè€Œä¸æ˜¯VFSæ–‡ä»¶ç³»ç»Ÿï¼Œè‡³å°‘éœ€è¦ç‰ˆæœ¬0.7.6ã€‚ç°åœ¨æ–°ç‰ˆæœ¬é»˜è®¤å°±æ˜¯äº†ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# yum -y install slirp4netns

[root@localhost ~]# yum -y install fuse-overlayfs
[root@localhost ~]# vi /etc/containers/storage.conf
77 mount_program = &quot;/usr/bin/fuse-overlayfs&quot;     //å–æ¶ˆæ³¨é‡Š
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="etc-subuidå’Œ-etc-subgidé…ç½®" tabindex="-1"><a class="header-anchor" href="#etc-subuidå’Œ-etc-subgidé…ç½®" aria-hidden="true">#</a> / etc / subuidå’Œ/ etc / subgidé…ç½®</h4><p>Podmanè¦æ±‚è¿è¡Œå®ƒçš„ç”¨æˆ·åœ¨/ etc / subuidå’Œ/ etc / subgidæ–‡ä»¶ä¸­åˆ—å‡ºä¸€ç³»åˆ—UID,shadow-utilsæˆ–newuidåŒ…æä¾›è¿™äº›æ–‡ä»¶</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# yum -y install shadow-utils

å¯ä»¥åœ¨/ etc / subuidå’Œ/ etc / subgidæŸ¥çœ‹ï¼Œæ¯ä¸ªç”¨æˆ·çš„å€¼å¿…é¡»å”¯ä¸€ä¸”æ²¡æœ‰ä»»ä½•é‡å ã€‚

[root@localhost ~]# useradd zz
[root@localhost ~]# cat /etc/subuid
zz:100000:65536
[root@localhost ~]# cat /etc/subgid
zz:100000:65536

// å¯åŠ¨éç‰¹æƒping 
[root@localhost ~]# sysctl -w &quot;net.ipv4.ping_group_range=0 200000&quot; //å¤§äº100000è¿™ä¸ªå°±è¡¨ç¤ºtomå¯ä»¥æ“ä½œpodman
net.ipv4.ping_group_range = 0 200000
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>è¿™ä¸ªæ–‡ä»¶çš„æ ¼å¼æ˜¯ USERNAME:UID:RANGEä¸­/etc/passwdæˆ–è¾“å‡ºä¸­åˆ—å‡ºçš„ç”¨æˆ·ågetpwentã€‚</p><ul><li>ä¸ºç”¨æˆ·åˆ†é…çš„åˆå§‹ UIDã€‚</li><li>ä¸ºç”¨æˆ·åˆ†é…çš„ UID èŒƒå›´çš„å¤§å°ã€‚</li></ul><p>è¯¥usermodç¨‹åºå¯ç”¨äºä¸ºç”¨æˆ·åˆ†é… UID å’Œ GIDï¼Œè€Œä¸æ˜¯ç›´æ¥æ›´æ–°æ–‡ä»¶ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# usermod --add-subuids 200000-201000 --add-subgids 200000-201000 hh
grep hh /etc/subuid /etc/subgid
/etc/subuid:hh:200000:1001
/etc/subgid:hh:200000:1001
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="ç”¨æˆ·é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ç”¨æˆ·é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> ç”¨æˆ·é…ç½®æ–‡ä»¶</h4><p>ä¸‰ä¸ªä¸»è¦çš„é…ç½®æ–‡ä»¶æ˜¯**ã€Œcontainer.confã€<strong>ã€</strong>ã€Œstorage.confã€<strong>å’Œ</strong>ã€Œregistries.confã€**ã€‚ç”¨æˆ·å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹è¿™äº›æ–‡ä»¶ã€‚</p><p>container.conf</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// ç”¨æˆ·é…ç½®æ–‡ä»¶
[root@localhost ~]# cat /usr/share/containers/containers.conf
[root@localhost ~]# cat /etc/containers/containers.conf
[root@localhost ~]# cat ~/.config/containers/containers.conf  //ä¼˜å…ˆçº§æœ€é«˜
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¦‚æœå®ƒä»¬ä»¥è¯¥é¡ºåºå­˜åœ¨ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½å¯ä»¥è¦†ç›–ç‰¹å®šå­—æ®µçš„å‰ä¸€ä¸ªæ–‡ä»¶ã€‚</p><p>é…ç½®storage.confæ–‡ä»¶</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1./etc/containers/storage.conf
2.$HOME/.config/containers/storage.conf
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>åœ¨æ™®é€šç”¨æˆ·ä¸­**/etc/containers/storage.conf**çš„ä¸€äº›å­—æ®µå°†è¢«å¿½ç•¥</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]#  vi /etc/containers/storage.conf
[storage]

# Default Storage Driver, Must be set for proper operation.
driver = &quot;overlay&quot;    #æ­¤å¤„æ”¹ä¸ºoverlay
.......
mount_program = &quot;/usr/bin/fuse-overlayfs&quot;    #å–æ¶ˆæ³¨é‡Š

[root@localhost ~]# sysctl user.max_user_namespaces=15000  #å¦‚æœç‰ˆæœ¬ä¸º8ä»¥ä¸‹ï¼Œåˆ™éœ€è¦åšä»¥ä¸‹æ“ä½œï¼š
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>åœ¨æ™®é€šç”¨æˆ·ä¸­è¿™äº›å­—æ®µé»˜è®¤</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>graphroot=&quot;$HOME/.local/share/containers/storage&quot;
runroot=&quot;$XDG_RUNTIME_DIR/containers&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>registries.conf</p><p>é…ç½®æŒ‰æ­¤é¡ºåºè¯»å…¥,è¿™äº›æ–‡ä»¶ä¸æ˜¯é»˜è®¤åˆ›å»ºçš„,å¯ä»¥ä»**/usr/share/containers**ã€Œæˆ–å¤åˆ¶æ–‡ä»¶ã€<strong>/etc/containers</strong>å¹¶è¿›è¡Œä¿®æ”¹ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>1./etc/containers/registries.conf
2./etc/containers/registries.d/*
3.HOME/.config/containers/registries.conf
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æˆæƒæ–‡ä»¶</p><p>æ­¤æ–‡ä»¶é‡Œé¢å†™äº†dockerè´¦å·çš„å¯†ç ï¼Œä»¥åŠ å¯†æ–¹å¼æ˜¾ç¤º</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# podman login
Username: 1314444
Password: 
Login Succeeded!
[root@localhost ~]# cat /run/user/0/containers/auth.json 
{
        &quot;auths&quot;: {
                &quot;registry.fedoraproject.org&quot;: {
                        &quot;auth&quot;: &quot;MTMxNDQ0NDpIMjAxNy0xOA==&quot;
                }
        }
}
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>æ™®é€šç”¨æˆ·æ˜¯æ— æ³•çœ‹è§rootç”¨æˆ·çš„é•œåƒçš„</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>//rootç”¨æˆ·
[root@localhost ~]# podman images
REPOSITORY                  TAG      IMAGE ID       CREATED       SIZE
docker.io/library/httpd     latest   ea28e1b82f31   11 days ago   146 MB

//æ™®é€šç”¨æˆ·
[root@localhost ~]# su - zz
[zz@localhost ~]$ podman images
REPOSITORY  TAG         IMAGE ID    CREATED     SIZE
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="å·" tabindex="-1"><a class="header-anchor" href="#å·" aria-hidden="true">#</a> å·</h3><ul><li>å®¹å™¨ä¸rootç”¨æˆ·ä¸€èµ·è¿è¡Œï¼Œåˆ™rootå®¹å™¨ä¸­çš„ç”¨æˆ·å®é™…ä¸Šå°±æ˜¯ä¸»æœºä¸Šçš„ç”¨æˆ·ã€‚</li><li>UID GIDæ˜¯åœ¨/etc/subuidå’Œ/etc/subgidç­‰ä¸­ç”¨æˆ·æ˜ å°„ä¸­æŒ‡å®šçš„ç¬¬ä¸€ä¸ªUID GIDã€‚</li><li>å¦‚æœæ™®é€šç”¨æˆ·çš„èº«ä»½ä»ä¸»æœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸­ä»¥æ ¹ç”¨æˆ·èº«ä»½åˆ›å»ºæ–‡ä»¶ï¼Œåˆ™ä¼šçœ‹åˆ°å®ƒå®é™…ä¸Šæ˜¯ä½ çš„ç”¨æˆ·åœ¨ä¸»æœºä¸Šæ‹¥æœ‰çš„ã€‚</li></ul><h4 id="ä½¿ç”¨å·" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨å·" aria-hidden="true">#</a> ä½¿ç”¨å·</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# su - zz
[zz@localhost ~]$ pwd
/home/zz
[zz@localhost ~]$ mkdir /home/zz/data

[zz@localhost ~]$ podman run -it -v &quot;$(pwd)&quot;/data:/data docker.io/library/busybox /bin/sh
Trying to pull docker.io/library/busybox:latest...
Getting image source signatures
Copying blob 3cb635b06aa2 done  
Copying config ffe9d497c3 done  
Writing manifest to image destination
Storing signatures
/ # ls
bin   data  dev   etc   home  proc  root  run   sys   tmp   usr   var
/ # cd data/
/data # ls
/data # touch 123
/data # ls -l
total 0
-rw-r--r--    1 root     root             0 Dec 13 00:17 123
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="åœ¨ä¸»æœºä¸ŠæŸ¥çœ‹" tabindex="-1"><a class="header-anchor" href="#åœ¨ä¸»æœºä¸ŠæŸ¥çœ‹" aria-hidden="true">#</a> åœ¨ä¸»æœºä¸ŠæŸ¥çœ‹</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[zz@localhost ~]$ ll data/
æ€»ç”¨é‡ 0
-rw-r--r-- 1 zz zz 0 12æœˆ 13 00:17 123

//å†™å…¥æ–‡ä»¶
[zz@localhost ~]$ echo &quot;hell world&quot; &gt;&gt; 123
[zz@localhost ~]$ cat 123
hell world
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="å®¹å™¨é‡ŒæŸ¥çœ‹" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨é‡ŒæŸ¥çœ‹" aria-hidden="true">#</a> å®¹å™¨é‡ŒæŸ¥çœ‹</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>/data # cat 123
hell world

//æˆ‘ä»¬å¯ä»¥å‘ç°åœ¨å®¹å™¨é‡Œé¢çš„æ–‡ä»¶çš„å±ä¸»å’Œå±ç»„éƒ½å±äºrootï¼Œé‚£ä¹ˆå¦‚ä½•æ‰èƒ½è®©å…¶å±äºtomç”¨æˆ·å‘¢ï¼Ÿä¸‹é¢å‘Šè¯‰ä½ ç­”æ¡ˆ
/data # ls -l
total 4
-rw-rw-r--    1 root     root            12 Dec 13 00:20 123

//åªè¦åœ¨è¿è¡Œå®¹å™¨çš„æ—¶å€™åŠ ä¸Šä¸€ä¸ª--userns=keep-idå³å¯ã€‚
[zz@localhost ~]$ podman run -it --name test -v &quot;$(pwd)&quot;/data:/data --userns=keep-id docker.io/library/busybox /bin/sh
~ $ cd data/
/data $ ls -l
total 4
-rw-r--r--    1 zz       zz              11 Dec 13 00:21 123
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>ä½¿ç”¨æ™®é€šç”¨æˆ·æ˜ å°„å®¹å™¨ç«¯å£æ—¶ä¼šæŠ¥â€œ permission deniedâ€çš„é”™è¯¯</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[zz@localhost ~]$ podman run  -d -p 80:80 httpd
Error: rootlessport cannot expose privileged port 80, you can add &#39;net.ipv4.ip_unprivileged_port_start=80&#39; to /etc/sysctl.conf (currently 1024), or choose a larger port number (&gt;= 1024): listen tcp 0.0.0.0:80: bind: permission denied
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>æ™®é€šç”¨æˆ·å¯ä»¥æ˜ å°„&gt;= 1024çš„ç«¯å£</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[zz@localhost ~]$ podman run  -d -p 1024:80 httpd
58613a6bdc70d4d4f9f624583f795a62a610596d166f0873bdff8fb26aa15092
[zz@localhost ~]$ ss -anlt
State       Recv-Q      Send-Q           Local Address:Port           Peer Address:Port      Process      
LISTEN      0           128                    0.0.0.0:22                  0.0.0.0:*                      
LISTEN      0           128                          *:1024                      *:*                      
LISTEN      0           128                       [::]:22                     [::]:* 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>é…ç½®echo â€˜net.ipv4.ip_unprivileged_port_start=80â€™ &gt;&gt; /etc/sysctl.confåå¯ä»¥æ˜ å°„å¤§äºç­‰äº80çš„ç«¯å£</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[root@localhost ~]# echo  &#39;net.ipv4.ip_unprivileged_port_start=80&#39;  &gt;&gt; /etc/sysctl.conf
[root@localhost ~]# sysctl -p
net.ipv4.ip_unprivileged_port_start = 80

[zz@localhost ~]$ podman run -d -p 80:80 httpd
1215455a0c300d78e7bf6afaefc9873f818c6b0f26affeee4e2bc17954e72d8e
[zz@localhost ~]$ ss -anlt
State       Recv-Q      Send-Q           Local Address:Port           Peer Address:Port      Process      
LISTEN      0           128                    0.0.0.0:22                  0.0.0.0:*                      
LISTEN      0           128                          *:1024                      *:*                      
LISTEN      0           128                          *:80                        *:*                      
LISTEN      0           128                       [::]:22                     [::]:*  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/xlc520/xlc520.github.io/edit/master/notes/linux/Podmanå¼€æºçš„å®¹å™¨.md" rel="noopener noreferrer" target="_blank" arialabel="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/3/20 06:45:22</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 2215400217@qq.com">xlc520</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/linux/openssl%E4%B8%80%E9%94%AE%E8%87%AA%E7%AD%BE%E8%AF%81%E4%B9%A6.html" class="nav-link prev" arialabel="Opensslä¸€é”®è‡ªç­¾è¯ä¹¦"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><i class="icon iconfont icon-page"></i>Opensslä¸€é”®è‡ªç­¾è¯ä¹¦</div></a><a href="/linux/Windows%E5%AD%90%E7%B3%BB%E7%BB%9F.html" class="nav-link next" arialabel="Windowså­ç³»ç»Ÿ"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">Windowså­ç³»ç»Ÿ<!----></div></a></nav><!----><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">ä¸¤æƒ…è‹¥æ˜¯ä¹…é•¿æ—¶ï¼Œåˆå²‚åœ¨æœæœæš®æš®</div><div class="copyright">Copyright Â© 2022 xlc520</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.e4dbe2f9.js" defer></script>
  </body>
</html>
