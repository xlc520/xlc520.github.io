<template><h1 id="bingå¿…åº”api" tabindex="-1"><a class="header-anchor" href="#bingå¿…åº”api" aria-hidden="true">#</a> Bingå¿…åº”API</h1>
<p>http://xlc.pp.ua/bing-api/index.php?rand=true</p>
<h2 id="_1" tabindex="-1"><a class="header-anchor" href="#_1" aria-hidden="true">#</a> 1</h2>
<p>http://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1</p>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>https://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1
https://cn.bing.com/HPImageArchive.aspx?format=xml&amp;cc=jp&amp;idx=0&amp;n=1
å¦‚æœæˆ‘ä»¬æƒ³æµè§ˆæ˜¨å¤©ï¼Œå‰å¤©çš„å›¾ç‰‡å‘¢ï¼Ÿ
 
å›åˆ°æœ€åˆçš„ç½‘å€ä¸Šï¼Œhttp://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1 åœ¨è¿™é‡Œï¼Œæ›´æ¢ idx= è¿™ä¸ªå‚æ•°å°±å¯ä»¥äº†ã€‚
 
 å¦‚ http://cn.bing.com/HPImageArchive.aspx?idx=1&amp;n=1 å°†è¦å¾—åˆ°æ˜¨å¤©çš„å›¾ç‰‡
http://cn.bing.com/HPImageArchive.aspx?idx=2&amp;n=1å¾—åˆ°å‰å¤©çš„å›¾ç‰‡
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_2" tabindex="-1"><a class="header-anchor" href="#_2" aria-hidden="true">#</a> 2</h2>
<p>https://bing.biturl.top/?resolution=1920&amp;format=image&amp;index=0&amp;mkt=zh-CN</p>
<h3 id="_3" tabindex="-1"><a class="header-anchor" href="#_3" aria-hidden="true">#</a> 3</h3>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>1. è®¿é—® https://api.ioliu.cn/bing/ , è¿”å›bingæ¯æ—¥æœ€æ–°èƒŒæ™¯å›¾, å¯é€‰å‚æ•°[w,h]
2. è®¿é—® https://api.ioliu.cn/bing/?d=n (n>=0), è¿”å›ä»¥å½“æ—¥ä¸ºèµ·ç‚¹ç¬¬nå¤©å‰çš„å£çº¸, å¯é€‰å‚æ•°[w,h]
3. è®¿é—® https://api.ioliu.cn/bing/json/ , è¿”å›bingæ¯æ—¥æœ€æ–°å£çº¸çš„ç›¸å…³(ä»‹ç»ã€å›¾ç‰‡åœ°å€ç­‰)ä¿¡æ¯(jsonæ ¼å¼), å¯é€‰å‚æ•°[callback].
4. è®¿é—® https://api.ioliu.cn/bing/rand/ , è¿”å›éšæœºå›¾ç‰‡, å¯é€‰å‚æ•°[w,h]
5. è®¿é—® https://api.ioliu.cn/bing/blur/ , è¿”å›é«˜æ–¯æ¨¡ç³Šå›¾ç‰‡, å¯é€‰å‚æ•°[d,w,h]
   å¸¦[w,h]ç”¨æ³•ï¼š https://api.ioliu.cn/bing/rand/?w=1920&amp;h=1200

ç›®å‰å·²çŸ¥å›¾ç‰‡åˆ†è¾¨ç‡
1920x1200   1920x1080    1366x768   1280x768    
1024x768    800x600       800x480   768x1280  
720x1280    640x480       480x800   400x240     
320x240     240x320 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_4" tabindex="-1"><a class="header-anchor" href="#_4" aria-hidden="true">#</a> 4</h2>
<p>https://www.talklee.com/api/bing/</p>
<p>è°ƒç”¨å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:left">å‚æ•°ä»£ç </th>
<th style="text-align:left">å‚æ•°å«ä¹‰</th>
<th style="text-align:left">å¯ç”¨å‚æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">rand</td>
<td style="text-align:left">æ˜¯å¦éšæœºæ˜¾ç¤ºæœ€è¿‘8å¤©å†…çš„å›¾ç‰‡</td>
<td style="text-align:left">true or false</td>
</tr>
<tr>
<td style="text-align:left">day</td>
<td style="text-align:left">æ˜¾ç¤ºæŒ‡å®šçš„æœ€è¿‘å›¾ç‰‡</td>
<td style="text-align:left">-1ï¼Œ0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7(0ä¸ºä»Šå¤©ï¼Œ-1ä¸ºæ˜¨å¤©)</td>
</tr>
<tr>
<td style="text-align:left">size</td>
<td style="text-align:left">æŒ‡å®šè·å–å›¾ç‰‡å¤§å°</td>
<td style="text-align:left">è¯¦è§ä¸‹æ–¹å¯ç”¨åˆ†è¾¨ç‡</td>
</tr>
<tr>
<td style="text-align:left">info</td>
<td style="text-align:left">è·å–å›¾ç‰‡åŸºç¡€ä¿¡æ¯ï¼ˆjsonæ ¼å¼ï¼‰</td>
<td style="text-align:left">true or false</td>
</tr>
</tbody>
</table>
<ul>
<li>ä»¥ä¸Šæ‰€æœ‰å‚æ•°å‡éå¿…è¦ï¼Œé»˜è®¤å‚æ•°ä¸ºrand=falseï¼Œday=0ï¼Œsize=1920Ã—1080ï¼Œinfo=false</li>
</ul>
<p>å¯ç”¨åˆ†è¾¨ç‡ï¼š</p>
<ul>
<li>1920Ã—1080</li>
<li>1366Ã—768</li>
<li>1280Ã—768</li>
<li>1024Ã—768</li>
<li>800Ã—600</li>
<li>800Ã—480</li>
<li>768Ã—1280</li>
<li>720Ã—1280</li>
<li>640Ã—480</li>
<li>480Ã—800</li>
<li>400Ã—240</li>
<li>320Ã—240</li>
<li>240Ã—320</li>
<li>æ³¨ï¼šä¸­é—´çš„xä¸ºè‹±æ–‡å­—æ¯x</li>
</ul>
<h2 id="_5" tabindex="-1"><a class="header-anchor" href="#_5" aria-hidden="true">#</a> 5</h2>
<h3 id="bing-pictures-interface-å¿…åº”å£çº¸æ¥å£" tabindex="-1"><a class="header-anchor" href="#bing-pictures-interface-å¿…åº”å£çº¸æ¥å£" aria-hidden="true">#</a> Bing Pictures Interface | å¿…åº”å£çº¸æ¥å£</h3>
<blockquote>
<p>ğŸ”¨ <code>Bing å£çº¸ Api</code>é‡è£…ä¸Šé˜µå•¦ ğŸ˜„ <a href="http://bing.ioliu.cn/" target="_blank" rel="noopener noreferrer">http://bing.ioliu.cn<ExternalLinkIcon/></a></p>
</blockquote>
<h3 id="ç›®å‰å¼€æ”¾çš„å£çº¸æ¥å£" tabindex="-1"><a class="header-anchor" href="#ç›®å‰å¼€æ”¾çš„å£çº¸æ¥å£" aria-hidden="true">#</a> ç›®å‰å¼€æ”¾çš„å£çº¸æ¥å£ï¼š</h3>
<ul>
<li>
<p><code>/v1{d,w,h,p,size,callback}</code> è¿”å›ä»Šæ—¥çš„å£çº¸å®Œæ•´æ•°æ®(<code>å¯é€‰å‚æ•°{d,w,h,p,size,callback}</code>)ï¼š</p>
<blockquote>
<p>è‹¥æŒ‡å®šå‚æ•°<code>{w,h}</code> ï¼Œåˆ™ç›´æ¥è¿”å›å›¾ç‰‡</p>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>ç±»å‹</th>
<th>æ˜¯å¦å¿…è¦</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td><code>Int</code></td>
<td>å¦</td>
<td>è‡ªä»Šæ—¥èµ·ç¬¬<code>d</code>å¤©å‰çš„æ•°æ®</td>
</tr>
<tr>
<td>w</td>
<td><code>Int</code></td>
<td>å¦</td>
<td>å›¾ç‰‡å®½åº¦</td>
</tr>
<tr>
<td>h</td>
<td><code>Int</code></td>
<td>å¦</td>
<td>å›¾ç‰‡é«˜åº¦</td>
</tr>
<tr>
<td>p</td>
<td><code>Int</code></td>
<td>å¦</td>
<td><code>Page é¡µç </code>:ç¬¬xé¡µ</td>
</tr>
<tr>
<td>size</td>
<td><code>Int</code></td>
<td>å¦</td>
<td><code>Size æ¡æ•°</code>:æ¯é¡µæ¡æ•°</td>
</tr>
<tr>
<td>callback</td>
<td><code>String</code></td>
<td>å¦</td>
<td>JSONPçš„å›è°ƒå‡½æ•°å</td>
</tr>
</tbody>
</table>
<ul>
<li><code>/v1/rand{w,h,type,callback}</code> è¿”å›éšæœºçš„å£çº¸(<code>å¯é€‰å‚æ•°{w,h,type,callback}</code>)ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>ç±»å‹</th>
<th>æ˜¯å¦å¿…è¦</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>w</td>
<td><code>Int</code></td>
<td>å¦</td>
<td>å›¾ç‰‡å®½åº¦</td>
</tr>
<tr>
<td>h</td>
<td><code>Int</code></td>
<td>å¦</td>
<td>å›¾ç‰‡é«˜åº¦</td>
</tr>
<tr>
<td>type</td>
<td><code>String</code></td>
<td>å¦</td>
<td>è¿”å›å€¼ç±»å‹(<code>json</code>)</td>
</tr>
<tr>
<td>callback</td>
<td><code>String</code></td>
<td>å¦</td>
<td>JSONPçš„å›è°ƒå‡½æ•°å</td>
</tr>
</tbody>
</table>
<ul>
<li><code>/v1/blur{d,w,h,r}</code> è¿”å›é«˜æ–¯æ¨¡ç³Šå£çº¸(<code>å¯é€‰å‚æ•°{d,w,h,r}</code>)ï¼š</li>
</ul>
<table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>ç±»å‹</th>
<th>æ˜¯å¦å¿…è¦</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>d</td>
<td><code>Int</code></td>
<td>å¦</td>
<td>è‡ªä»Šæ—¥èµ·ç¬¬<code>d</code>å¤©å‰çš„æ•°æ®</td>
</tr>
<tr>
<td>w</td>
<td><code>Int</code></td>
<td>å¦</td>
<td>å›¾ç‰‡å®½åº¦</td>
</tr>
<tr>
<td>h</td>
<td><code>Int</code></td>
<td>å¦</td>
<td>å›¾ç‰‡é«˜åº¦</td>
</tr>
<tr>
<td>r</td>
<td><code>Int</code></td>
<td>å¦</td>
<td>æ¨¡ç³ŠåŠå¾„(<code>1~50</code>)</td>
</tr>
</tbody>
</table>
<h3 id="âš ï¸-é«˜æ–¯æ¨¡ç³Šæ¥å£ç›®å‰åªæ”¯æŒæŒ‡å®šåˆ†è¾¨ç‡-w-h-çš„å›¾ç‰‡-å…·ä½“åˆ†è¾¨ç‡å¦‚ä¸‹" tabindex="-1"><a class="header-anchor" href="#âš ï¸-é«˜æ–¯æ¨¡ç³Šæ¥å£ç›®å‰åªæ”¯æŒæŒ‡å®šåˆ†è¾¨ç‡-w-h-çš„å›¾ç‰‡-å…·ä½“åˆ†è¾¨ç‡å¦‚ä¸‹" aria-hidden="true">#</a> <strong>âš ï¸</strong> <code>é«˜æ–¯æ¨¡ç³Š</code>æ¥å£ç›®å‰åªæ”¯æŒæŒ‡å®šåˆ†è¾¨ç‡(<code>w,h</code>)çš„å›¾ç‰‡ï¼Œå…·ä½“åˆ†è¾¨ç‡å¦‚ä¸‹ï¼š</h3>
<div class="language-text ext-text line-numbers-mode"><pre v-pre class="language-text"><code>/**
 * å·²çŸ¥åˆ†è¾¨ç‡
 */
resolutions: [
    '1920x1200',
    '1920x1080',
    '1366x768',
    '1280x768',
    '1024x768',
    '800x600',
    '800x480',
    '768x1280',
    '720x1280',
    '640x480',
    '480x800',
    '400x240',
    '320x240',
    '240x320'
]
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="_6" tabindex="-1"><a class="header-anchor" href="#_6" aria-hidden="true">#</a> 6</h2>
<p><a href="http://bing.getlove.cn/bingImage" target="_blank" rel="noopener noreferrer">http://bing.getlove.cn/bingImage<ExternalLinkIcon/></a></p>
<h2 id="_7" tabindex="-1"><a class="header-anchor" href="#_7" aria-hidden="true">#</a> 7</h2>
<ul>
<li>https://api.7-89.cn/bing/today</li>
<li>https://api.kdcc.cn/img/</li>
<li>https://api.kdcc.cn/img/rand.phpï¼ˆéšæœºï¼‰</li>
<li>https://api.kdcc.cn/img/jump.php</li>
<li>https://open.saintic.com/api/bingPic/</li>
<li>http://47.103.144.215:2020/showtoday</li>
<li>https://www.talklee.com/api/bing</li>
<li>https://api.dujin.org/bing/1920.php</li>
</ul>
<h2 id="ä»£ç ä¸€" tabindex="-1"><a class="header-anchor" href="#ä»£ç ä¸€" aria-hidden="true">#</a> ä»£ç ä¸€</h2>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code>  <span class="token variable">$time</span> <span class="token operator">=</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Ymd"</span><span class="token punctuation">,</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$log</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"./log/"</span> <span class="token operator">.</span> <span class="token variable">$time</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'.txt'</span><span class="token punctuation">;</span>
    <span class="token comment">//åˆ¤æ–­ç¼“å­˜æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$log</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//è¯»å–ç¼“å­˜</span>
        <span class="token variable">$imgurl</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$log</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·³è½¬è‡³å›¾ç‰‡åœ°å€</span>
        <span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Location: <span class="token interpolation"><span class="token variable">$imgurl</span></span>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">//è·å–bingèƒŒæ™¯å›¾</span>
        <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'http://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è§£æBingå®˜æ–¹æ¥å£Json</span>
        <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">,</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//ä¸ƒç‰›CDNé•œåƒåŠ é€Ÿ</span>
        <span class="token variable">$imgurl</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'http://s.cn.bing.net'</span><span class="token operator">.</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'images'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'urlbase'</span><span class="token punctuation">]</span><span class="token operator">.</span> <span class="token string single-quoted-string">'_1920x1080.jpg'</span><span class="token punctuation">;</span>
        <span class="token comment">//å†™å…¥TXTç”¨ä½œç¼“å­˜</span>
        <span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token variable">$log</span><span class="token punctuation">,</span> <span class="token variable">$imgurl</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·³è½¬è‡³å›¾ç‰‡åœ°å€</span>
        <span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Location: <span class="token interpolation"><span class="token variable">$imgurl</span></span>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="ä»£ç äºŒ" tabindex="-1"><a class="header-anchor" href="#ä»£ç äºŒ" aria-hidden="true">#</a> ä»£ç äºŒ</h2>
<div class="language-php ext-php line-numbers-mode"><pre v-pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">//åˆ¤æ–­æ˜¯å¦éšæœºè°ƒç”¨</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'rand'</span><span class="token punctuation">]</span><span class="token operator">===</span><span class="token string single-quoted-string">'true'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$gettime</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
<span class="token comment">//è‹¥ä¸ä¸ºéšæœºè°ƒç”¨åˆ™åˆ¤æ–­æ˜¯å¦æŒ‡å®šæ—¥æœŸ</span>
  <span class="token variable">$gettimebase</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'day'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$gettimebase</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$gettime</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token variable">$gettime</span> <span class="token operator">=</span> <span class="token variable">$gettimebase</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//è·å–Bing Jsonä¿¡æ¯</span>
<span class="token variable">$json_string</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'https://www.bing.com/HPImageArchive.aspx?format=js&amp;idx='</span><span class="token operator">.</span><span class="token variable">$gettime</span><span class="token operator">.</span><span class="token string single-quoted-string">'&amp;n=1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//è½¬æ¢ä¸ºPHPæ•°ç»„</span>
<span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">json_decode</span><span class="token punctuation">(</span><span class="token variable">$json_string</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//æå–åŸºç¡€url</span>
<span class="token variable">$imgurlbase</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"https://www.bing.com"</span><span class="token operator">.</span><span class="token variable">$data</span><span class="token operator">-></span><span class="token punctuation">{</span><span class="token string double-quoted-string">"images"</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-></span><span class="token punctuation">{</span><span class="token string double-quoted-string">"urlbase"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//åˆ¤æ–­æ˜¯å¦æŒ‡å®šå›¾ç‰‡å¤§å°</span>
<span class="token variable">$imgsizebase</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'size'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$imgsizebase</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token variable">$imgsize</span> <span class="token operator">=</span> <span class="token string double-quoted-string">"1920x1080"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
  <span class="token variable">$imgsize</span> <span class="token operator">=</span> <span class="token variable">$imgsizebase</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//å»ºç«‹å®Œæ•´url</span>
<span class="token variable">$imgurl</span> <span class="token operator">=</span> <span class="token variable">$imgurlbase</span><span class="token operator">.</span><span class="token string double-quoted-string">"_"</span><span class="token operator">.</span><span class="token variable">$imgsize</span><span class="token operator">.</span><span class="token string double-quoted-string">".jpg"</span><span class="token punctuation">;</span>
<span class="token comment">//è·å–å…¶ä»–ä¿¡æ¯</span>
<span class="token variable">$imgtime</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token operator">-></span><span class="token punctuation">{</span><span class="token string double-quoted-string">"images"</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-></span><span class="token punctuation">{</span><span class="token string double-quoted-string">"startdate"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token variable">$imgtitle</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token operator">-></span><span class="token punctuation">{</span><span class="token string double-quoted-string">"images"</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-></span><span class="token punctuation">{</span><span class="token string double-quoted-string">"copyright"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token variable">$imglink</span> <span class="token operator">=</span> <span class="token variable">$data</span><span class="token operator">-></span><span class="token punctuation">{</span><span class="token string double-quoted-string">"images"</span><span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-></span><span class="token punctuation">{</span><span class="token string double-quoted-string">"copyrightlink"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//åˆ¤æ–­æ˜¯å¦åªè·å–å›¾ç‰‡ä¿¡æ¯</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'info'</span><span class="token punctuation">]</span><span class="token operator">===</span><span class="token string single-quoted-string">'true'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">echo</span> <span class="token string double-quoted-string">"{title:"</span><span class="token operator">.</span><span class="token variable">$imgtitle</span><span class="token operator">.</span><span class="token string double-quoted-string">",url:"</span><span class="token operator">.</span><span class="token variable">$imgurl</span><span class="token operator">.</span><span class="token string double-quoted-string">",link:"</span><span class="token operator">.</span><span class="token variable">$imglink</span><span class="token operator">.</span><span class="token string double-quoted-string">",time:"</span><span class="token operator">.</span><span class="token variable">$imgtime</span><span class="token operator">.</span><span class="token string double-quoted-string">"}"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
  <span class="token comment">//è‹¥ä¸æ˜¯åˆ™è·³è½¬url</span>
  <span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"Location: <span class="token interpolation"><span class="token variable">$imgurl</span></span>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div></template>
