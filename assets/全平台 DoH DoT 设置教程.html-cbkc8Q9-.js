import{_ as l}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as p,o,c as i,b as n,d as s,e as t,a as e}from"./app-V68d0221.js";const c={},d=e('<h1 id="全平台-doh-dot-设置教程" tabindex="-1"><a class="header-anchor" href="#全平台-doh-dot-设置教程" aria-hidden="true">#</a> 全平台 DoH DoT 设置教程</h1><h2 id="公共-dot-doh-服务器-ip-域名-大全" tabindex="-1"><a class="header-anchor" href="#公共-dot-doh-服务器-ip-域名-大全" aria-hidden="true">#</a> 公共 DoT/DoH 服务器 IP 域名 大全</h2><h3 id="国内公共-dot-doh-服务器-ip-域名-大全" tabindex="-1"><a class="header-anchor" href="#国内公共-dot-doh-服务器-ip-域名-大全" aria-hidden="true">#</a> 国内公共 DoT/DoH 服务器 IP 域名 大全</h3>',3),u=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"提供者"),n("th",{style:{"text-align":"left"}},"类型"),n("th",{style:{"text-align":"left"}},"地址"),n("th",{style:{"text-align":"left"}},"iOS用链接")])],-1),r=n("td",{style:{"text-align":"left"}},"阿里",-1),g=n("td",{style:{"text-align":"left"}},"DoT",-1),k=n("td",{style:{"text-align":"left"}},"dns.alidns.com",-1),h={style:{"text-align":"left"}},f={href:"https://gitee.com/fuangyian/encrypted-dns/raw/master/profiles/alibaba-tls.mobileconfig",target:"_blank",rel:"noopener noreferrer"},v=n("tr",null,[n("td",{style:{"text-align":"left"}},"阿里"),n("td",{style:{"text-align":"left"}},"DoH"),n("td",{style:{"text-align":"left"}},[n("code",null,"https://dns.alidns.com/dns-query")]),n("td",{style:{"text-align":"left"}},"无")],-1),y=n("td",{style:{"text-align":"left"}},"腾讯",-1),D=n("td",{style:{"text-align":"left"}},"DoH",-1),m=n("td",{style:{"text-align":"left"}},"dot.pub",-1),b={style:{"text-align":"left"}},_={href:"https://raw.githubusercontent.com/paulmillr/encrypted-dns/master/profiles/dnspod-https.mobileconfig",target:"_blank",rel:"noopener noreferrer"},x=n("td",{style:{"text-align":"left"}},"腾讯",-1),S=n("td",{style:{"text-align":"left"}},"DoT",-1),N=n("td",{style:{"text-align":"left"}},[n("code",null,"https://doh.pub/dns-query")],-1),P={style:{"text-align":"left"}},T={href:"https://gitee.com/fuangyian/encrypted-dns/raw/master/profiles/dnspod-tls.mobileconfig",target:"_blank",rel:"noopener noreferrer"},H=n("tr",null,[n("td",{style:{"text-align":"left"}},"腾讯"),n("td",{style:{"text-align":"left"}},"DoT"),n("td",{style:{"text-align":"left"}},[n("code",null,"https://sm2.doh.pub/dns-query")]),n("td",{style:{"text-align":"left"}})],-1),I=n("tr",null,[n("td",{style:{"text-align":"left"}},"TWNIC Quad 101"),n("td",{style:{"text-align":"left"}},"DoT"),n("td",{style:{"text-align":"left"}},"dns.twnic.tw"),n("td",{style:{"text-align":"left"}})],-1),A=n("tr",null,[n("td",{style:{"text-align":"left"}},"TWNIC Quad 101"),n("td",{style:{"text-align":"left"}},"DoH"),n("td",{style:{"text-align":"left"}},[n("code",null,"https://dns.twnic.tw/dns-query")]),n("td",{style:{"text-align":"left"}})],-1),C=n("h3",{id:"国外内公共-dot-doh-服务器-ip-域名-大全",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#国外内公共-dot-doh-服务器-ip-域名-大全","aria-hidden":"true"},"#"),s(" 国外内公共 DoT/DoH 服务器 IP 域名 大全")],-1),q=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"提供者"),n("th",{style:{"text-align":"left"}},"类型"),n("th",{style:{"text-align":"left"}},"地址"),n("th",{style:{"text-align":"left"}},"备注")])],-1),w=n("td",{style:{"text-align":"left"}},"Google",-1),F=n("td",{style:{"text-align":"left"}},"DoT",-1),E=n("td",{style:{"text-align":"left"}},"dns.google",-1),U={style:{"text-align":"left"}},O={href:"https://github.com/paulmillr/encrypted-dns/raw/master/profiles/google-tls.mobileconfig",target:"_blank",rel:"noopener noreferrer"},B=n("td",{style:{"text-align":"left"}},"Google",-1),L=n("td",{style:{"text-align":"left"}},"DoH",-1),W=n("td",{style:{"text-align":"left"}},[n("code",null,"https://dns.google/dns-query")],-1),z={style:{"text-align":"left"}},Q={href:"https://github.com/paulmillr/encrypted-dns/raw/master/profile/google-https.mobileconfig",target:"_blank",rel:"noopener noreferrer"},V=n("td",{style:{"text-align":"left"}},"Cloudflare",-1),G=n("td",{style:{"text-align":"left"}},"DoT",-1),M=n("td",{style:{"text-align":"left"}},"cloudflare-dns.com",-1),$={style:{"text-align":"left"}},j={href:"https://github.com/paulmillr/encrypted-dns/raw/master/profiles/cloudflare-tls.mobileconfig",target:"_blank",rel:"noopener noreferrer"},R=n("td",{style:{"text-align":"left"}},"Cloudflare",-1),Y=n("td",{style:{"text-align":"left"}},"DoH",-1),J=n("td",{style:{"text-align":"left"}},[n("code",null,"https://1dot1dot1dot1.cloudflare-dns.com/")],-1),K={style:{"text-align":"left"}},X={href:"https://github.com/paulmillr/encrypted-dns/raw/master/profiles/cloudflare-https.mobileconfig",target:"_blank",rel:"noopener noreferrer"},Z=n("tr",null,[n("td",{style:{"text-align":"left"}},"IBM Quad9"),n("td",{style:{"text-align":"left"}},"DoT"),n("td",{style:{"text-align":"left"}},"dns.quad9.net"),n("td",{style:{"text-align":"left"}})],-1),nn=n("tr",null,[n("td",{style:{"text-align":"left"}},"IBM Quad9"),n("td",{style:{"text-align":"left"}},"DoH"),n("td",{style:{"text-align":"left"}},[n("code",null,"https://dns.quad9.net/dns-query")]),n("td",{style:{"text-align":"left"}})],-1),sn=n("tr",null,[n("td",{style:{"text-align":"left"}},"DNS.SB"),n("td",{style:{"text-align":"left"}},"DoT"),n("td",{style:{"text-align":"left"}},"dot.sb"),n("td",{style:{"text-align":"left"}})],-1),an=n("tr",null,[n("td",{style:{"text-align":"left"}},"DNS.SB"),n("td",{style:{"text-align":"left"}},"DoH"),n("td",{style:{"text-align":"left"}},[n("code",null,"https://doh.dns.sb/dns-query")]),n("td",{style:{"text-align":"left"}})],-1),tn=n("tr",null,[n("td",{style:{"text-align":"left"}},"DNS.SB"),n("td",{style:{"text-align":"left"}},"DoH"),n("td",{style:{"text-align":"left"}},[n("code",null,"https://doh.sb/dns-query")]),n("td",{style:{"text-align":"left"}})],-1),en=e(`<h2 id="各平台配置方式" tabindex="-1"><a class="header-anchor" href="#各平台配置方式" aria-hidden="true">#</a> 各平台配置方式</h2><p>DoT 全称 DNS over TLS，它使用 TLS 来传输 DNS 协议。</p><p>DoH 全称 DNS over HTTPS，它使用 HTTPS 来传输 DNS 协议。</p><p>DoT 和 DoH 都是加密DNS，区别在于它们采用不同的协议和端口</p><p>两者的原理是一样的，加密传输用户和 DNS 服务器之间的 DNS 消息，从而防止中间用户窃听和域名查询隐私泄漏的作用。</p><p>两者相对来说DoH更通用一点，因为 DoT 一般走 853 端口， DoH 走的就是平时 https 的 443 端口，流量相对更加隐蔽一点。通用性也更好（有些网络可能会封这个不常见的 853 端口）</p><p>相对来说微软喜欢 DoH ，谷歌喜欢 DoT 。</p><p>至于选什么好，上方表格里的都是推荐的</p><ul><li><p><strong>你在国内就选国内的，你在国外就选国外的。</strong></p></li><li><p>你在国内想解决DNS污染问题，你能解决访问问题，<strong>并且你能接受那个延迟</strong>，那就选国外的。</p></li><li><p>国内用优先选腾讯，如果你有信仰之类的，不想选腾讯，那就选阿里云。</p></li><li><p>国外用优先选Cloudflare，其次是google。</p></li><li><p>如果你想同时满足国内和国外使用（比如一会儿在国内，一会儿在国外的瞬移人），可以用腾讯云，之所以不推荐阿里云，是因为阿里云DNS的海外节点延迟波动比较大，时卡时不卡的。</p></li></ul><h3 id="安卓" tabindex="-1"><a class="header-anchor" href="#安卓" aria-hidden="true">#</a> 安卓</h3><p>安卓的配置堪称最简单的，安卓9以上系统都自带支持DoT支持</p><ol><li>找到设置位置：</li></ol><ul><li>鸿蒙：设置-更多连接-加密 DNS</li><li>MIUI：设置-连接与共享-私人 DNS</li><li>EMUI：设置-网络和互联网-加密 DNS</li><li>原生安卓：设置-网络和互联网-高级-私人 DNS</li></ul><ol><li>选择手动或指定DNS服务之类的选项，填写上方表格中你中意的DoT类型的域名</li></ol><h3 id="ios-ipad" tabindex="-1"><a class="header-anchor" href="#ios-ipad" aria-hidden="true">#</a> iOS/iPad</h3><p>iOS的设置比较复杂，不像安卓，直接系统设置就有，往里一填就好了。</p><ol><li><p>Safari浏览器点击上边对应的【iOS用】链接</p></li><li><p>点击允许后，去设置-已下载的描述文件-安装-（可能提示警告）安装-完成。</p></li><li><p>在设置中启用对应的项目</p></li></ol><ul><li>iOS14 设置-网络-DNS</li><li>iOS15 设置-通用-设备管理-DNS</li></ul><ol><li>表格中只给了常用的配置文件，如果你想添加额外的服务器配置，请参照下方的配置文件，替换中文描述部分对应项目 PS：iphone的DoH不支持除443以外的端口，所以请注意一下你的DoH服务器的端口问题。</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">plist</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//Apple//DTD PLIST 1.0//EN&quot;</span> <span class="token string">&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plist</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dict</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadContent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>array</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dict</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>DNSSettings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dict</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>DNSProtocol<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>是TLS类型的还是HTTPS类型的，只填写英文部分<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>ServerAddresses<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>array</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>你服务器的ip<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>你服务器的ip2，如果有更多IP就继续照着往下写<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>array</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>ServerName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>DoT的地址<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dict</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>对于配置文件的描述，可自定义<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadDisplayName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>想显示dns的名称～可自定义<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadIdentifier<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>com.apple.vpn.managed.C06CADF7-7AAF-4426-933A-25E1792277CF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadType<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>com.apple.dnsSettings.managed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadUUID<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>C06CADF7-7AAF-4426-933A-25E1792277CF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadVersion<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>integer</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>integer</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>ProhibitDisablement<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>false</span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dict</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>array</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>对于配置文件的授予权限时的描述，可自定义<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadDisplayName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>想显示dns的名称～可自定义<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadIdentifier<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>fuangyians-MacBook-Air.ADA48F80asdfad-8D1C-4456-8BB8-E8859E2A2904<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadRemovalDisallowed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>false</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadType<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>Configuration<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadUUID<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>8F5E7F85-316A-4A7E-8500-E9C7951E0DC4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>PayloadVersion<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>integer</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>integer</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dict</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plist</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="win11" tabindex="-1"><a class="header-anchor" href="#win11" aria-hidden="true">#</a> WIN11</h3><p>系统DNS设置项位置：设置-网络和互联网-以太网和WIFI-DNS服务器分配-编辑</p><h4 id="你使用的是如下表所示的dns" tabindex="-1"><a class="header-anchor" href="#你使用的是如下表所示的dns" aria-hidden="true">#</a> 你使用的是如下表所示的DNS</h4><table><thead><tr><th style="text-align:left;">服务器所有者</th><th style="text-align:left;">DNS 服务器 IP 地址</th></tr></thead><tbody><tr><td style="text-align:left;">Cloudflare</td><td style="text-align:left;">1.1.1.1 1.0.0.1 2606:4700:4700::1111 2606:4700:4700::1001</td></tr><tr><td style="text-align:left;">google</td><td style="text-align:left;">8.8.8.8 8.8.4.4 2001:4860:4860::8888 2001:4860:4860::8844</td></tr><tr><td style="text-align:left;">Quad 9</td><td style="text-align:left;">9.9.9.9 149.112.112.112 2620:fe::fe 2620:fe::fe:9</td></tr></tbody></table><p>这3组w加密DNS服务器Win11其实系统已经内置了，如果你将DNS设置为下表中的这些IP地址，那么直接选择开(自动模版)，然后保存即可</p><figure><img src="https://static.xlc520.tk/blogImage/20230113145440.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h4 id="你想设置另外的doh服务器" tabindex="-1"><a class="header-anchor" href="#你想设置另外的doh服务器" aria-hidden="true">#</a> 你想设置另外的DoH服务器</h4><p>win 系统出于安全性考虑，禁止使用未绑定域名与 IP 关系的 DoH 服务器，需要自己添加服务器的域名与 IP</p><p>以下是一段比较费的话，可以跳过</p><blockquote><p>如果 DoH 服务器只写域名而没有设定 IP 的话，域名没有绑定 IP，系统需要先使用传统 DNS 请求，解析 DoH 服务器的域名，然后再去连接这个解析出的 DoH 服务器 IP，这中间有个问题，那个传统 DNS 是可信任的吗？用户连接到传统 DNS 之间的网络是可信任的吗？如果这次 DNS 解析被污染了，得到的 DoH 服务器 IP 可能并不是真实的。</p><p>但如果只写一个 IP，全球固定一个 IP，除非是 Cloudflare ，google ，Quad 9 这种与 APNIC 深度合作的，服务器节点遍布全球的服务商，用户可以就近解析，只写一个 IP 的话，用户很可能并不能连到距离他最近的服务器。</p><p>所以实际上 Win11 采用了折中处理。</p><p>你需要同时设置 DoH 服务器域名和一个内置绑定的 IP ，首次 DNS 查询一定会通过这个域名的绑定 IP ，而后续 DoH 服务器可以返回距离用户更近的节点 IP 供用户使用。</p></blockquote><h4 id="手动设定其他的dns" tabindex="-1"><a class="header-anchor" href="#手动设定其他的dns" aria-hidden="true">#</a> 手动设定其他的DNS</h4><figure><img src="https://static.xlc520.tk/blogImage/20230113145737.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><ol><li><p>DNS：写DoH服务器的IP</p></li><li><p>DNS over HTTPS：选【开（手动模版）】</p></li><li><p>DNS over HTTPS 模版：写DoH服务器的域名</p></li><li><p>将IPv4，IPv6（如果需要）里的首选和备选DNS都设置好后，保存即可</p></li></ol><h4 id="将新的-doh-服务器添加到系统内的已知服务器列表" tabindex="-1"><a class="header-anchor" href="#将新的-doh-服务器添加到系统内的已知服务器列表" aria-hidden="true">#</a> 将新的 DoH 服务器添加到系统内的已知服务器列表</h4><p>这个做法会相对安全一点，但开始相对比较麻烦</p><ol><li><p>打开开始菜单</p></li><li><p>在英文输入法状态下直接输入 “powershell”</p></li><li><p>点击以管理员身份运行</p></li></ol><figure><img src="https://static.xlc520.tk/blogImage/20230113153621.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><ol><li>按如下格式输入命令</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Add-DnsClientDohServerAddress <span class="token parameter variable">-ServerAddress</span> <span class="token string">&#39;DoH服务器IP&#39;</span> <span class="token parameter variable">-DohTemplate</span> <span class="token string">&#39;DoH服务域名&#39;</span> <span class="token parameter variable">-AllowFallbackToUdp</span> <span class="token variable">$False</span> <span class="token parameter variable">-AutoUpgrade</span> <span class="token variable">$True</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>设置腾讯云的示例</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Add-DnsClientDohServerAddress <span class="token parameter variable">-ServerAddress</span> <span class="token string">&#39;162.14.21.56&#39;</span> <span class="token parameter variable">-DohTemplate</span> <span class="token string">&#39;https://doh.pub/dns-query&#39;</span> <span class="token parameter variable">-AllowFallbackToUdp</span> <span class="token variable">$False</span> <span class="token parameter variable">-AutoUpgrade</span> <span class="token variable">$True</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>然后输入以下命令，看看你刚才设置的 DoH 服务器是不是被加进去了。</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>Get-DNSClientDohServerAddress
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li><p>DNS写DoH服务器的IP</p></li><li><p>DNS over HTTPS，选【开（手动模版）】</p></li><li><p>DNS over HTTPS 模版写DoH服务器的域名</p></li><li><p>将IPv4，IPv6（如果需要）里的首选和备选DNS都设置好后，保存即可</p></li></ol><h3 id="win10" tabindex="-1"><a class="header-anchor" href="#win10" aria-hidden="true">#</a> Win10</h3><p>Win10目前还不支持，必须要借助第三方软件，工具非常多，这里我只是列举一种</p>`,46),ln={href:"https://tjsky.lanzoum.com/ifvgz0kwqpti",target:"_blank",rel:"noopener noreferrer"},pn=n("li",null,"解压到任意位置",-1),on=n("li",null,"运行AuroraGUI.exe",-1),cn=n("li",null,"右下角托盘图标处，双击A字符",-1),dn=n("li",null,"点击第一个按钮”设为系统 DNS”使其变为深色",-1),un=n("li",null,"默认配置为腾讯云的 DoH,尽情使用吧",-1),rn=n("li",null,"如需退出软件请在托盘图标处，右键单击A字符，选中”退出并重置系统DNS”",-1),gn=e('<h3 id="chrome、edge、firefox-等浏览器们" tabindex="-1"><a class="header-anchor" href="#chrome、edge、firefox-等浏览器们" aria-hidden="true">#</a> Chrome、Edge、Firefox 等浏览器们</h3><p>如果你已经在操作系统层面设置了系统DoH服务器，其实可以不用在浏览器内设置了</p><h4 id="chrome" tabindex="-1"><a class="header-anchor" href="#chrome" aria-hidden="true">#</a> Chrome</h4><ol><li>设置位置：设置-隐私设置和安全性-安全-高级-使用安全 DNS-自定义</li><li>写入开始表格中的 DoH 服务器域名</li><li>已经好了。</li></ol><h4 id="firefox" tabindex="-1"><a class="header-anchor" href="#firefox" aria-hidden="true">#</a> Firefox</h4><ol><li>设置位置：设置-常规-网络设置-设置-启用基于 HTTPS 的 DNS – 自定义</li><li>写入开始表格中的DoH服务器域名</li><li>已经好了。</li></ol><h4 id="edge" tabindex="-1"><a class="header-anchor" href="#edge" aria-hidden="true">#</a> Edge</h4><ol><li>设置位置：设置-隐私、搜索和服务-安全性-使用安全的DNS指定如何查找网站的网络地址-请选择服务提供商</li><li>写入开始表格中的DoH服务器域名</li><li>已经好了。</li></ol><h2 id="如何检查是否正确成功设置-doh-dot服务器" tabindex="-1"><a class="header-anchor" href="#如何检查是否正确成功设置-doh-dot服务器" aria-hidden="true">#</a> 如何检查是否正确成功设置 DoH DoT服务器</h2>',9),kn={href:"https://nstool.netease.com/",target:"_blank",rel:"noopener noreferrer"},hn=e(`<h2 id="需要注意的点" tabindex="-1"><a class="header-anchor" href="#需要注意的点" aria-hidden="true">#</a> 需要注意的点</h2><ol><li>再说一次 DNS 劫持 ≠ DNS 污染 DoH DoT只能解决 DNS 劫持问题，无法解决 DNS 污染问题。 如果需要解决 DNS 污染，则要用国外 DoH / DoT 服务器。</li><li>解决 DNS 污染，谷歌之类的网站还是打不开的，但是被DNS污染的动漫花园，可以直接打开了。</li><li>DoH / DoT服务器的性能速度一般都不如传统的DNS，毕竟UDP协议和TCP协议的区别摆着这里。所以打开网站速度可能会变慢一点。</li><li>如果你非要解决DNS污染，你需要国外的DoH，DoH地址。这里只简单写一点步骤</li></ol><ul><li>修改Hosts文件，增加这如下内容</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#以下是cf反代域名列表
172.67.73.30 diii.tk
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>将DNS域名设置为<code>https://diii.tk/国外DoH服务器域名</code> 比如<code>https://diii.tk/https://dns.google/resolve</code></li><li>国内使用国外的DoH服务器会非常的卡，请自己衡量是够能够接受</li></ul>`,5);function fn(vn,yn){const a=p("ExternalLinkIcon");return o(),i("div",null,[d,n("table",null,[u,n("tbody",null,[n("tr",null,[r,g,k,n("td",h,[n("a",f,[s("iOS用"),t(a)])])]),v,n("tr",null,[y,D,m,n("td",b,[n("a",_,[s("iOS用"),t(a)])])]),n("tr",null,[x,S,N,n("td",P,[n("a",T,[s("iOS用"),t(a)])])]),H,I,A])]),C,n("table",null,[q,n("tbody",null,[n("tr",null,[w,F,E,n("td",U,[n("a",O,[s("iOS用"),t(a)])])]),n("tr",null,[B,L,W,n("td",z,[n("a",Q,[s("iOS用"),t(a)])])]),n("tr",null,[V,G,M,n("td",$,[n("a",j,[s("iOS用"),t(a)])])]),n("tr",null,[R,Y,J,n("td",K,[n("a",X,[s("iOS用"),t(a)])])]),Z,nn,sn,an,tn])]),en,n("ol",null,[n("li",null,[s("下载"),n("a",ln,[s("AuroraDNS GUI"),t(a)]),s("(密码:9jvz)")]),pn,on,cn,dn,un,rn]),gn,n("p",null,[s("访问网易的DNS检测网址："),n("a",kn,[s("点击访问"),t(a)]),s(" 他会显示你的IP和DNS信息，如果显示的DNS信息是你设置的DNS的IP或者反复刷新时会变化，并且查询IP归属是对应服务商的服务，比如腾讯和谷歌的可能每次刷新都是一个新的IP，IP归属显示为腾讯云或者谷歌域名服务。")]),hn])}const bn=l(c,[["render",fn],["__file","全平台 DoH DoT 设置教程.html.vue"]]);export{bn as default};
