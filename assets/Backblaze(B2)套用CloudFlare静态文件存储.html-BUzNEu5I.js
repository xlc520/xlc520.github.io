import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r,o as n,c,d as e,e as a,b as l,a as i}from"./app-DS3HItsn.js";const s={},p=e("h1",{id:"backblaze-b2-套用-cloudflare-静态文件存储",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#backblaze-b2-套用-cloudflare-静态文件存储"},[e("span",null,"Backblaze(B2)套用 CloudFlare 静态文件存储")])],-1),g=e("h2",{id:"官方网址",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#官方网址"},[e("span",null,"官方网址")])],-1),d={href:"https://www.backblaze.com",target:"_blank",rel:"noopener noreferrer"},b=i('<h2 id="免费额度" tabindex="-1"><a class="header-anchor" href="#免费额度"><span>免费额度</span></a></h2><p>存储容量：10GB</p><p>网络流量：1GB/天</p><p>上传流量：无限</p><p>下载请求数：<strong>2500</strong>次/天</p><p>上传请求数：<strong>2500</strong>次/天</p><p>BUCKET(桶)：100 个</p><p>BUCKET(桶)文件数：无限</p><p>超出了额度，收费$0.005 per GB per month for additional storage beyond 10 GB 和 $0.01 per GB beyond the free daily 1 GB.</p><p>这点流量能干点啥？</p><p>不过 Backblaze 加入了 CloudFlare 的 带宽联盟（ Bandwidth Alliance） ，所以 Backblaze 与 CloudFlare 之间的流量直接免费，也就是每天* *无限量**下行流量。</p><p>配上 CloudFlare 配置缓存时间更久一些，辣么下载请求无限次免费啦。看看联盟有没有你熟悉的 LOGO？</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/c57394926b319339.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="注册账号" tabindex="-1"><a class="header-anchor" href="#注册账号"><span>注册账号</span></a></h2>',14),h={href:"https://www.backblaze.com/b2/sign-up.html",target:"_blank",rel:"noopener noreferrer"},u=i('<p>填写邮箱，密码即可注册。</p><p>登陆平台 - My Account - 我的设置 - 验证 Email</p><p><strong>提醒一下，界面右下角可以切换到简体中文</strong></p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/6aa0b5180f158c7a.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="创建-bucket" tabindex="-1"><a class="header-anchor" href="#创建-bucket"><span>创建 BUCKET</span></a></h2><p>1）登陆平台 - 创作一个桶</p><p>名称随意，桶里面的档案选择公众，其他保持默认即可</p><p><strong>特别提醒：桶名称要复杂一些，小心被刷流量！建议生成 UUID</strong></p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/6bcae128a5aae3f2.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>2）创建成功后 点击 【上载/下载】可以去上传一个文件！</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/d059f7012f8e6c7f.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>3）上传成功后，单机文件可以看见文件详情内容</p><p>特别要记住友好 URL 中的域名，如图是 <strong>f004.backblazeb2.com</strong></p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/5080cc13667c7a8b.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="配置-cf" tabindex="-1"><a class="header-anchor" href="#配置-cf"><span>配置 CF</span></a></h2><h3 id="解析域名" tabindex="-1"><a class="header-anchor" href="#解析域名"><span>解析域名</span></a></h3><p>1）登陆 Cloudflare，添加一个域名。定义一个前缀 CNAME 到 <strong>f004.backblazeb2.com</strong></p>',17),m={href:"https://51.ruyo.net/17863.html",target:"_blank",rel:"noopener noreferrer"},f=e("figure",null,[e("img",{src:"https://bitbucket.org/xlc520/blogasset/raw/main/images3/f7fe01ec953be195.png",alt:"img",tabindex:"0",loading:"lazy"}),e("figcaption",null,"img")],-1),k={href:"https://b2.i0lo1o.eu.org/file/ruyonet123/default.png",target:"_blank",rel:"noopener noreferrer"},_=i('<p>格式 <code>https://域名/file/桶名称/文件名</code></p><p>经过一波骚操作，访问 URL 提示：Error 522 错误？？</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/d8f4f762cf8bb6a5.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>错误原因</p><p>Cloudflare 通过纯 HTTP 而不是 HTTPS 访问上游服务器。</p><p>但是 Backblaze 仅支持安全的 HTTPS 连接，因此 HTTP 请求失败。</p><p>为了解决这个问题，在 Cloudflare 仪表板的 【SSL/TLS 部分】，将加密模式从“灵活”更改为“完全（严格）”，以便 Cloudflare 通过 HTTPS 连接到 Backblaze，并且需要 CA 颁发的证书。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/15904fb466238d83.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="设置缓存" tabindex="-1"><a class="header-anchor" href="#设置缓存"><span>设置缓存</span></a></h3><p>这个非常有必要噢~~~</p><p>B2 桶 - 自己创建的桶 - 桶设定</p><p>桶信息填写(缓存一个月)：<code>{&quot;cache-control&quot;:&quot;max-age=2592000&quot;}</code></p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/935e290f3246a582.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p><strong>Cloudflare 域名仪表盘 - 规则 - 页面规则 - 创建页面规则</strong></p><p>URL 输入 上一步中设置的域名 <code>https://b2.i0lo1o.eu.org/*</code></p><p>设置选择： 缓存级别 - 标准，边缘缓存 TTL - 1 个月</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/370cfd749d6b3126.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="隐藏桶名" tabindex="-1"><a class="header-anchor" href="#隐藏桶名"><span>隐藏桶名</span></a></h3><p>由于 URL 中暴露了桶名，CNAME 的域名又很容易被猜到，怎么防止其他童鞋恶意刷你的免费额度呢？</p><p>下面介绍一下，怎么隐藏桶名~</p><p><strong>Cloudflare 域名仪表盘 - 规则 - 转换规则- 创建转换规则 - 重写 URL</strong></p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/238a2376952d1ca8.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>传入请求匹配时：<code>b2.i0lo1o.eu.org</code></p><p>路径重写到：选择 Dynamic 动态，<code>concat(&quot;/file/ruyonet123&quot;, http.request.uri.path)</code></p><p>这里一定要填写你自己的域名哈~~ 举一反三噢~</p>',25),x={href:"https://b2.i0lo1o.eu.org/default.png",target:"_blank",rel:"noopener noreferrer"},B=i('<h2 id="api-密钥" tabindex="-1"><a class="header-anchor" href="#api-密钥"><span>API 密钥</span></a></h2><p>路径：My Account - 应用程序键 - 添加新的应用程序密钥</p><p>名称随意，允许访问桶 建议选择 1 个，其他默认即可</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/542c803a7f301bc8.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>2）提交成功，一定要记住记住相关信息，关了以后密钥就看不到了，只能重新创建</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/0372c8e08620f583.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="文件上传" tabindex="-1"><a class="header-anchor" href="#文件上传"><span>文件上传</span></a></h2><h3 id="官网上传" tabindex="-1"><a class="header-anchor" href="#官网上传"><span>官网上传</span></a></h3><p>直接登陆官网，在桶里直接上传！</p><h3 id="wp-插件" tabindex="-1"><a class="header-anchor" href="#wp-插件"><span>WP 插件</span></a></h3><p>支持 Backblaze 的 Wordpress 插件不少呢，比如下面 2 个！填写 API 密钥即可！</p><p>wordpress.org/plugins/updraftplus/</p><p>wordpress.org/plugins/ilab-media-tools/</p><h3 id="sdk" tabindex="-1"><a class="header-anchor" href="#sdk"><span>SDK</span></a></h3><p>官方提供多种语音的 SDK</p>',15),w={href:"https://github.com/Backblaze/",target:"_blank",rel:"noopener noreferrer"},z=e("h3",{id:"其他",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#其他"},[e("span",null,"其他")])],-1),y=e("p",null,"ShareX，MiXplorer",-1),C=e("h2",{id:"最后总结",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#最后总结"},[e("span",null,"最后总结")])],-1),E=e("p",null,"Cloudflare 在国内的访问情况不太稳定。如果仅作为境外用户访问，该方式是非常不错的！",-1),T=e("p",null,"Cloudflare 规则中可以支持防盗链等等配置，这里就不多介绍了。",-1),v=e("p",null,"B2 免费额度用光，静态文件将无法访问，第二天恢复。",-1);function F(A,U){const t=r("ExternalLinkIcon");return n(),c("div",null,[p,g,e("p",null,[e("a",d,[a("https://www.backblaze.com"),l(t)])]),b,e("p",null,[e("a",h,[a("https://www.backblaze.com/b2/sign-up.html"),l(t)])]),u,e("p",null,[e("strong",null,[a("没有域名？参考文章："),e("a",m,[a("人人都可申请拥有 EU.org 免费域名"),l(t)])])]),f,e("p",null,[a("2）解析完成后，浏览器打开地址 "),e("a",k,[a("https://b2.i0lo1o.eu.org/file/ruyonet123/default.png"),l(t)])]),_,e("p",null,[e("strong",null,[a("然后浏览器打开 URL："),e("a",x,[a("https://b2.i0lo1o.eu.org/default.png"),l(t)])])]),B,e("p",null,[e("a",w,[a("https://github.com/Backblaze/"),l(t)])]),z,y,C,E,T,v])}const L=o(s,[["render",F],["__file","Backblaze(B2)套用CloudFlare静态文件存储.html.vue"]]),q=JSON.parse('{"path":"/other/Backblaze(B2)%E5%A5%97%E7%94%A8CloudFlare%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8.html","title":"Backblaze(B2)套用CloudFlare静态文件存储","lang":"zh-CN","frontmatter":{"author":"xlc520","title":"Backblaze(B2)套用CloudFlare静态文件存储","excerpt":null,"description":"Backblaze(B2)套用 CloudFlare 静态文件存储 官方网址 https://www.backblaze.com 免费额度 存储容量：10GB 网络流量：1GB/天 上传流量：无限 下载请求数：2500次/天 上传请求数：2500次/天 BUCKET(桶)：100 个 BUCKET(桶)文件数：无限 超出了额度，收费$0.005 per...","date":"2022-10-10T00:00:00.000Z","category":"other","tag":["other","CloudFlare"],"article":true,"timeline":true,"icon":"others","head":[["meta",{"property":"og:url","content":"https://blog.ciberviler.top/other/Backblaze(B2)%E5%A5%97%E7%94%A8CloudFlare%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8.html"}],["meta",{"property":"og:site_name","content":"StudyNote - 丰富的知识笔记库"}],["meta",{"property":"og:title","content":"Backblaze(B2)套用CloudFlare静态文件存储"}],["meta",{"property":"og:description","content":"Backblaze(B2)套用 CloudFlare 静态文件存储 官方网址 https://www.backblaze.com 免费额度 存储容量：10GB 网络流量：1GB/天 上传流量：无限 下载请求数：2500次/天 上传请求数：2500次/天 BUCKET(桶)：100 个 BUCKET(桶)文件数：无限 超出了额度，收费$0.005 per..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bitbucket.org/xlc520/blogasset/raw/main/images3/c57394926b319339.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T13:32:36.000Z"}],["meta",{"property":"article:author","content":"xlc520"}],["meta",{"property":"article:tag","content":"other"}],["meta",{"property":"article:tag","content":"CloudFlare"}],["meta",{"property":"article:published_time","content":"2022-10-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T13:32:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Backblaze(B2)套用CloudFlare静态文件存储\\",\\"image\\":[\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/c57394926b319339.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/6aa0b5180f158c7a.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/6bcae128a5aae3f2.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/d059f7012f8e6c7f.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/5080cc13667c7a8b.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/f7fe01ec953be195.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/d8f4f762cf8bb6a5.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/15904fb466238d83.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/935e290f3246a582.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/370cfd749d6b3126.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/238a2376952d1ca8.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/542c803a7f301bc8.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/0372c8e08620f583.png\\"],\\"datePublished\\":\\"2022-10-10T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-27T13:32:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xlc520\\"}]}"]]},"headers":[{"level":2,"title":"官方网址","slug":"官方网址","link":"#官方网址","children":[]},{"level":2,"title":"免费额度","slug":"免费额度","link":"#免费额度","children":[]},{"level":2,"title":"注册账号","slug":"注册账号","link":"#注册账号","children":[]},{"level":2,"title":"创建 BUCKET","slug":"创建-bucket","link":"#创建-bucket","children":[]},{"level":2,"title":"配置 CF","slug":"配置-cf","link":"#配置-cf","children":[{"level":3,"title":"解析域名","slug":"解析域名","link":"#解析域名","children":[]},{"level":3,"title":"设置缓存","slug":"设置缓存","link":"#设置缓存","children":[]},{"level":3,"title":"隐藏桶名","slug":"隐藏桶名","link":"#隐藏桶名","children":[]}]},{"level":2,"title":"API 密钥","slug":"api-密钥","link":"#api-密钥","children":[]},{"level":2,"title":"文件上传","slug":"文件上传","link":"#文件上传","children":[{"level":3,"title":"官网上传","slug":"官网上传","link":"#官网上传","children":[]},{"level":3,"title":"WP 插件","slug":"wp-插件","link":"#wp-插件","children":[]},{"level":3,"title":"SDK","slug":"sdk","link":"#sdk","children":[]},{"level":3,"title":"其他","slug":"其他","link":"#其他","children":[]}]},{"level":2,"title":"最后总结","slug":"最后总结","link":"#最后总结","children":[]}],"git":{"createdTime":1673687351000,"updatedTime":1714224756000,"contributors":[{"name":"xlc520","email":"2215400217@qq.com","commits":4},{"name":"xlc","email":"2215400217@qq.com","commits":2}]},"readingTime":{"minutes":3.46,"words":1037},"filePathRelative":"other/Backblaze(B2)套用CloudFlare静态文件存储.md","localizedDate":"2022年10月10日","autoDesc":true}');export{L as comp,q as data};
