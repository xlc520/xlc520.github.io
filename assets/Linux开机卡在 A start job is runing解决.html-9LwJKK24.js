import{_ as s}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as a,c as e,a as n}from"./app-AGOZjyqV.js";const i={},t=n(`<h1 id="linux开机卡在-a-start-job-is-runing解决" tabindex="-1"><a class="header-anchor" href="#linux开机卡在-a-start-job-is-runing解决"><span>Linux开机卡在 A start job is runing解决</span></a></h1><p>安装ubuntu20.04 LTS系统后，开机卡在“A start job is running for wait for network to be Configured”等待连接两分多钟。（启动作业正在运行，等待配置网络）</p><h2 id="启动作业正在运行-等待配置网络解决办法" tabindex="-1"><a class="header-anchor" href="#启动作业正在运行-等待配置网络解决办法"><span>启动作业正在运行，等待配置网络解决办法</span></a></h2><p>1、进入该目录下，修改配置文件。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /etc/systemd/system/network-online.target.wants/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2、在[Service]下添加 TimeoutStartSec=2sec，（设置超时时间为2秒）如下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>/etc/systemd/system/network-online.target.wants
<span class="token function">sudo</span> <span class="token function">vi</span> systemd-networkd-wait-online.service

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>oneshot
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/lib/systemd/systemd-networkd-wait-online
<span class="token assign-left variable">RemainAfterExit</span><span class="token operator">=</span>yes
<span class="token assign-left variable">TimeoutStartSec</span><span class="token operator">=</span>2sec
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、重启验证</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="swap相关报错-启动必须等1分30秒。" tabindex="-1"><a class="header-anchor" href="#swap相关报错-启动必须等1分30秒。"><span>swap相关报错，启动必须等1分30秒。</span></a></h2><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>a start job is running for /dev/disk/by-uuid/xxxxx.(20s / 1 min 30 s )
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1、解决1" tabindex="-1"><a class="header-anchor" href="#_1、解决1"><span><strong>1、解决1</strong></span></a></h3><p>1.1 查看交换分区挂载情况：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">swapon</span> <span class="token parameter variable">--show</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>1.2 查看交换分区情况：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> blkid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>1.3 然后再查看/etc/fstab文件中swap分区的UUID。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">cat</span> /etc/fstab
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>两个UUID不同，正好解释了为什么swap分区会挂载失败。</p><p>解决方法是删除/etc/fstab文件中swap分区的UUID，</p><p>再用sudo blkid命令得出的swap分区UUID替换。保存文件，重启系统后a start job is running for</p><p>dev-disk-by这个错误就消失了。</p><h3 id="_2、解决2" tabindex="-1"><a class="header-anchor" href="#_2、解决2"><span><strong>2、解决2</strong></span></a></h3><p>2.1 修改/etc/fstab文件，注掉swap那一行</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">cat</span> /etc/fstab
<span class="token comment"># /etc/fstab: static file system information.</span>
<span class="token comment">## Use &#39;blkid&#39; to print the universally unique identifier for a# device; this may be used with UUID= as a more robust way to name device# that works even if disks are added and removed. See fstab(5).</span>
<span class="token comment">## &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;</span>
<span class="token comment"># / was on /dev/sda2 during curtin installation/dev/disk/by-uuid/cxxxx06-xxxxc-4xxxx0-xxxxx80-xxxxxxxaac / ext4 defaults 0 1#/swap.img      none    swap    sw      0       0    </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.2 重启不让加载swap分区，即可解决此报错</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置等待时间的原因是为了给系统提供足够的时间来完成启动过程中一些必要的工作，如网络配置、服务启动等。如果系统在启动过程中遇到问题，等待时间可以给系统提供足够的时间来尝试解决问题，避免系统在遇到问题时立即崩溃或无法正常启动。同时，等待时间也可以保证系统在启动完成后能够及时提供服务，提高系统的可用性和可靠性。但是，如果等待时间过长，会导致系统启动时间过长，影响用户体验。因此，需要根据实际情况设置合理的等待时间，以保证系统的正常启动和运行。</p>`,28),d=[t];function l(r,c){return a(),e("div",null,d)}const u=s(i,[["render",l],["__file","Linux开机卡在 A start job is runing解决.html.vue"]]);export{u as default};
