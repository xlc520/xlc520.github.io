import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as c,o as p,c as o,d as a,e,b as s,a as n}from"./app-Clq2mtAP.js";const l={},r=n('<h1 id="cns-服务器搭建教程" tabindex="-1"><a class="header-anchor" href="#cns-服务器搭建教程"><span>CNS 服务器搭建教程</span></a></h1><h2 id="首先" tabindex="-1"><a class="header-anchor" href="#首先"><span>首先</span></a></h2><p>1.首先需要一台服务器，腾讯云或者阿里云，下面用腾讯云来举例。</p><p>2.登陆服务器后台</p><p>3.安装 CentOS 7.6 64bit</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/0bc8e91b11654c27b036bf749f71064c.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/f6e7f8face15443aab91a9ddc3c2db31.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>4.远程登陆服务器</p><p>可以直接用腾讯自带的登陆，点击登陆即可。<strong>进去首先输入 sudo -i</strong> 获取最高管理员权限。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/9e76c679e87942e48aff3fd934cb3575.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="方法一-一键安装" tabindex="-1"><a class="header-anchor" href="#方法一-一键安装"><span>方法一（一键安装）</span></a></h2><p>输入 Linux 一键安装代码，卸载代码也在下面，出现问题卸载重装。</p>',12),g={href:"https://github.com/mmmdbybyd/CNS",target:"_blank",rel:"noopener noreferrer"},b=n('<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>安装: <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">type</span> <span class="token function">curl</span> <span class="token operator">&amp;&gt;</span>/dev/null <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;curl -O&#39;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;wget -O cns.sh&#39;</span><span class="token variable">`</span></span> http://binary.quicknet.cyou/cns/cns.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> cns.sh  \n\n卸载: <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">type</span> <span class="token function">curl</span> <span class="token operator">&amp;&gt;</span>/dev/null <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;curl -O&#39;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;wget -O cns.sh&#39;</span><span class="token variable">`</span></span> http://binary.quicknet.cyou/cns/cns.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> cns.sh uninstall  \n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要填写的是两个信息：需要设置的 CNS 服务器端口和密码。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/fe4adc68df7445f2b98c11de6fd06d76.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>如上图，我设置的是 6688 端口，密码为 980829.</p><p>出现以下信息就代表 CNS 服务器搭建完成。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/f58fbc517c9d453db6d8dffb5a3e538a.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>CNS 服务器搭建完成后，需要放行相应的端口才可以运行。例如我使用的是 6688 端口，则需要对防火墙进行如下设置。 <img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/11bda07f400c4bdfaa11124e01e69e1c.jpeg" alt="img" loading="lazy"></p><h2 id="方法二-稍微繁琐一点-但是永久有效" tabindex="-1"><a class="header-anchor" href="#方法二-稍微繁琐一点-但是永久有效"><span>方法二（稍微繁琐一点，但是永久有效）</span></a></h2>',8),m={href:"https://github.com/AiziChen/CNS",target:"_blank",rel:"noopener noreferrer"},d=a("p",null,[e("在下面的链接里下载下载"),a("code",null,"linux-x86_64.zip"),e("，目前最新版本 0.2.3")],-1),u={href:"https://github.com/AiziChen/CNS/releases",target:"_blank",rel:"noopener noreferrer"},f=n(`<p>解压到桌面，会有两个文件。cns 文件与 config.cfg 文件</p><p>下载 FinalShell 服务器管理软件，百度一搜就有！</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/4f37415688f94330bba68a2bb50b80e6.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>如上图，依次点击这三个地方。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/2eb86558d2384c6094896e0b663c02a4.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>填写蓝色圈起来的四项。密码是服务器密码。点击确定。</p><p>会出现以你设置的用户名命名的一行。双击即可。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/3b231c3c7ac94c6ab7501108ccd675b7.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>注意：不要开任何代理软件，否则无法连接。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/64e6e716ac4e4109a0b13885fee80d1b.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>提示连接成功，即可。</p><p>在下方的 root 文件夹中新建一个名为 CNS 的文件夹。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/14c48e106ed94bb39b270dd6ecd9c087.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>双击进入 CNS 文件夹，并把我们解压到桌面的 cns 文件以及 config.cfg 文件拖拽到 CNS 文件夹内。</p><p>双击 config.cfg 打开 config 文件</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/2c9e02069a23486189b4d0ac88e2a9a6.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><div class="language-r line-numbers-mode" data-ext="r" data-title="r"><pre class="language-r"><code>proxyKey <span class="token operator">=</span> Meng <span class="token comment">#随意，但是强烈建议改一下</span>
udpFlag <span class="token operator">=</span> httpUDP
listenAddr <span class="token operator">=</span> <span class="token operator">:</span><span class="token number">6688</span>  <span class="token comment">#端口，需要在防火墙中放行</span>
password <span class="token operator">=</span> <span class="token number">123456</span>   <span class="token comment">#密码，随意</span>
udpTimeout <span class="token operator">=</span> <span class="token number">30</span>
tcpKeepAlive <span class="token operator">=</span> <span class="token number">60</span>
pidPath <span class="token operator">=</span> cns.pid
enableDnsTcpOverUdp <span class="token operator">=</span> <span class="token comment">#t</span>
enableHttpDNS <span class="token operator">=</span> <span class="token comment">#t</span>
enableTFO <span class="token operator">=</span> <span class="token comment">#t</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对端口和密码进行修改，按下 CTRL+S 保存后退出。</p><p>在 FinalShell 中输入 cd /root/CNS，进入 CNS 文件夹，注意大小写。</p><p>给 cns 文件添加 x 权限 chmod u+x cns</p><p>在输入后台启动 cns 文件的命令./cns -daemon</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/af4a6ed25d2c4e088f7b35e5d38cfd24.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>代码如下，自行复制粘贴。FinalShell 中复制为 ALT+C,粘贴为 ALT+V。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/CNS

<span class="token function">chmod</span> u+x cns

./cns <span class="token parameter variable">-daemon</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每次重启服务器都要重新运行一次./cns -daemon</p><p>这样 cns 服务器就搭建完成了。</p><p><strong>手机端配置</strong></p><p>使用龙哥模块的，首先打开 ZJL 文件，将 715 行的 IP 地址更换为 time1.cloud.tencent.com,保存。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/5fa1a096915b40aa96cb84294a9d608b.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>打开.conf 文件，进行如下修改，服务器 IP：端口都按照上面的设置来填写。建议使用最新版的龙哥模块。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/cd9ac3980991433bb140164d4acbfab4.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>保存以后，运行一次开启.sh 即可。出现如下情况，即是配置成功。</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/247457a355504576bd7a3e17dadce2a1.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p><strong>注意：如果出现 UDP 连接×，请检查以下两点：</strong></p><p><strong>1.服务器防火墙是否放行 CNS 服务器端口。</strong></p><p><strong>2.ZJL 文件的 IP 是否修改。</strong></p><p><strong>出现问题，请评论，看到即回。</strong></p>`,37);function h(k,x){const t=c("ExternalLinkIcon");return p(),o("div",null,[r,a("p",null,[e("作者的 GITHUB:"),a("a",g,[e("https://github.com/mmmdbybyd/CNS"),s(t)])]),b,a("p",null,[a("a",m,[e("作者 Github"),s(t)])]),d,a("p",null,[a("a",u,[e("https://github.com/AiziChen/CNS/releases"),s(t)])]),f])}const _=i(l,[["render",h],["__file","CNS服务器搭建教程.html.vue"]]),C=JSON.parse('{"path":"/linux/CNS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B.html","title":"CNS服务器搭建教程","lang":"zh-CN","frontmatter":{"author":"xlc520","title":"CNS服务器搭建教程","excerpt":null,"description":"CNS 服务器搭建教程 首先 1.首先需要一台服务器，腾讯云或者阿里云，下面用腾讯云来举例。 2.登陆服务器后台 3.安装 CentOS 7.6 64bit imgimg imgimg 4.远程登陆服务器 可以直接用腾讯自带的登陆，点击登陆即可。进去首先输入 sudo -i 获取最高管理员权限。 imgimg 方法一（一键安装） 输入 Linux 一键...","date":"2022-07-12T00:00:00.000Z","category":"Linux","tag":"Linux","article":true,"timeline":true,"icon":"linux","head":[["meta",{"property":"og:url","content":"https://blog.ciberviler.top/linux/CNS%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B.html"}],["meta",{"property":"og:site_name","content":"StudyNote - 丰富的知识笔记库"}],["meta",{"property":"og:title","content":"CNS服务器搭建教程"}],["meta",{"property":"og:description","content":"CNS 服务器搭建教程 首先 1.首先需要一台服务器，腾讯云或者阿里云，下面用腾讯云来举例。 2.登陆服务器后台 3.安装 CentOS 7.6 64bit imgimg imgimg 4.远程登陆服务器 可以直接用腾讯自带的登陆，点击登陆即可。进去首先输入 sudo -i 获取最高管理员权限。 imgimg 方法一（一键安装） 输入 Linux 一键..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bitbucket.org/xlc520/blogasset/raw/main/images3/0bc8e91b11654c27b036bf749f71064c.jpeg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T13:32:36.000Z"}],["meta",{"property":"article:author","content":"xlc520"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2022-07-12T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T13:32:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"CNS服务器搭建教程\\",\\"image\\":[\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/0bc8e91b11654c27b036bf749f71064c.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/f6e7f8face15443aab91a9ddc3c2db31.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/9e76c679e87942e48aff3fd934cb3575.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/fe4adc68df7445f2b98c11de6fd06d76.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/f58fbc517c9d453db6d8dffb5a3e538a.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/11bda07f400c4bdfaa11124e01e69e1c.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/4f37415688f94330bba68a2bb50b80e6.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/2eb86558d2384c6094896e0b663c02a4.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/3b231c3c7ac94c6ab7501108ccd675b7.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/64e6e716ac4e4109a0b13885fee80d1b.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/14c48e106ed94bb39b270dd6ecd9c087.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/2c9e02069a23486189b4d0ac88e2a9a6.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/af4a6ed25d2c4e088f7b35e5d38cfd24.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/5fa1a096915b40aa96cb84294a9d608b.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/cd9ac3980991433bb140164d4acbfab4.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/247457a355504576bd7a3e17dadce2a1.jpeg\\"],\\"datePublished\\":\\"2022-07-12T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-27T13:32:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xlc520\\"}]}"]]},"headers":[{"level":2,"title":"首先","slug":"首先","link":"#首先","children":[]},{"level":2,"title":"方法一（一键安装）","slug":"方法一-一键安装","link":"#方法一-一键安装","children":[]},{"level":2,"title":"方法二（稍微繁琐一点，但是永久有效）","slug":"方法二-稍微繁琐一点-但是永久有效","link":"#方法二-稍微繁琐一点-但是永久有效","children":[]}],"git":{"createdTime":1656752222000,"updatedTime":1714224756000,"contributors":[{"name":"xlc520","email":"2215400217@qq.com","commits":5},{"name":"xlc","email":"2215400217@qq.com","commits":2}]},"readingTime":{"minutes":2.95,"words":885},"filePathRelative":"linux/CNS服务器搭建教程.md","localizedDate":"2022年7月12日","autoDesc":true}');export{_ as comp,C as data};
