import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as c,o as p,c as o,b as a,d as n,e,a as t}from"./app-865676a6.js";const l={},r=t('<h1 id="cns服务器搭建教程" tabindex="-1"><a class="header-anchor" href="#cns服务器搭建教程" aria-hidden="true">#</a> CNS服务器搭建教程</h1><h2 id="首先" tabindex="-1"><a class="header-anchor" href="#首先" aria-hidden="true">#</a> 首先</h2><p>1.首先需要一台服务器，腾讯云或者阿里云，下面用腾讯云来举例。</p><p>2.登陆服务器后台</p><p>3.安装CentOS 7.6 64bit</p><figure><img src="https://static.xlc520.tk/blogImage/0bc8e91b11654c27b036bf749f71064c.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="https://static.xlc520.tk/blogImage/f6e7f8face15443aab91a9ddc3c2db31.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>4.远程登陆服务器</p><p>可以直接用腾讯自带的登陆，点击登陆即可。<strong>进去首先输入sudo -i</strong> 获取最高管理员权限。</p><figure><img src="https://static.xlc520.tk/blogImage/9e76c679e87942e48aff3fd934cb3575.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="方法一-一键安装" tabindex="-1"><a class="header-anchor" href="#方法一-一键安装" aria-hidden="true">#</a> 方法一（一键安装）</h2><p>输入Linux一键安装代码，卸载代码也在下面，出现问题卸载重装。</p>',12),g={href:"https://github.com/mmmdbybyd/CNS",target:"_blank",rel:"noopener noreferrer"},d=t('<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>安装: <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">type</span> <span class="token function">curl</span> <span class="token operator">&amp;&gt;</span>/dev/null <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;curl -O&#39;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;wget -O cns.sh&#39;</span><span class="token variable">`</span></span> http://binary.quicknet.cyou/cns/cns.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> cns.sh  \n\n卸载: <span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">type</span> <span class="token function">curl</span> <span class="token operator">&amp;&gt;</span>/dev/null <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;curl -O&#39;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;wget -O cns.sh&#39;</span><span class="token variable">`</span></span> http://binary.quicknet.cyou/cns/cns.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> cns.sh uninstall  \n\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要填写的是两个信息：需要设置的CNS服务器端口和密码。</p><figure><img src="https://static.xlc520.tk/blogImage/fe4adc68df7445f2b98c11de6fd06d76.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>如上图，我设置的是6688端口，密码为980829.</p><p>出现以下信息就代表CNS服务器搭建完成。</p><figure><img src="https://static.xlc520.tk/blogImage/f58fbc517c9d453db6d8dffb5a3e538a.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>CNS服务器搭建完成后，需要放行相应的端口才可以运行。例如我使用的是6688端口，则需要对防火墙进行如下设置。<br><img src="https://static.xlc520.tk/blogImage/11bda07f400c4bdfaa11124e01e69e1c.jpeg" alt="img" loading="lazy"></p><h2 id="方法二-稍微繁琐一点-但是永久有效" tabindex="-1"><a class="header-anchor" href="#方法二-稍微繁琐一点-但是永久有效" aria-hidden="true">#</a> 方法二（稍微繁琐一点，但是永久有效）</h2>',8),m={href:"https://github.com/AiziChen/CNS",target:"_blank",rel:"noopener noreferrer"},b=a("p",null,[n("在下面的链接里下载下载"),a("code",null,"linux-x86_64.zip"),n("，目前最新版本0.2.3")],-1),u={href:"https://github.com/AiziChen/CNS/releases",target:"_blank",rel:"noopener noreferrer"},f=t(`<p>解压到桌面，会有两个文件。cns文件与config.cfg文件</p><p>下载FinalShell服务器管理软件，百度一搜就有！</p><figure><img src="https://static.xlc520.tk/blogImage/4f37415688f94330bba68a2bb50b80e6.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>如上图，依次点击这三个地方。</p><figure><img src="https://static.xlc520.tk/blogImage/2eb86558d2384c6094896e0b663c02a4.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>填写蓝色圈起来的四项。密码是服务器密码。点击确定。</p><p>会出现以你设置的用户名命名的一行。双击即可。</p><figure><img src="https://static.xlc520.tk/blogImage/3b231c3c7ac94c6ab7501108ccd675b7.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>注意：不要开任何代理软件，否则无法连接。</p><figure><img src="https://static.xlc520.tk/blogImage/64e6e716ac4e4109a0b13885fee80d1b.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>提示连接成功，即可。</p><p>在下方的root文件夹中新建一个名为CNS的文件夹。</p><figure><img src="https://static.xlc520.tk/blogImage/14c48e106ed94bb39b270dd6ecd9c087.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>双击进入CNS文件夹，并把我们解压到桌面的cns文件以及config.cfg文件拖拽到CNS文件夹内。</p><p>双击config.cfg打开config文件</p><figure><img src="https://static.xlc520.tk/blogImage/2c9e02069a23486189b4d0ac88e2a9a6.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><div class="language-r line-numbers-mode" data-ext="r"><pre class="language-r"><code>proxyKey <span class="token operator">=</span> Meng <span class="token comment">#随意，但是强烈建议改一下</span>
udpFlag <span class="token operator">=</span> httpUDP
listenAddr <span class="token operator">=</span> <span class="token operator">:</span><span class="token number">6688</span>  <span class="token comment">#端口，需要在防火墙中放行</span>
password <span class="token operator">=</span> <span class="token number">123456</span>   <span class="token comment">#密码，随意</span>
udpTimeout <span class="token operator">=</span> <span class="token number">30</span>
tcpKeepAlive <span class="token operator">=</span> <span class="token number">60</span>
pidPath <span class="token operator">=</span> cns.pid
enableDnsTcpOverUdp <span class="token operator">=</span> <span class="token comment">#t</span>
enableHttpDNS <span class="token operator">=</span> <span class="token comment">#t</span>
enableTFO <span class="token operator">=</span> <span class="token comment">#t</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对端口和密码进行修改，按下CTRL+S保存后退出。</p><p>在FinalShell中输入cd /root/CNS，进入CNS文件夹，注意大小写。</p><p>给cns文件添加x权限chmod u+x cns</p><p>在输入后台启动cns文件的命令./cns -daemon</p><figure><img src="https://static.xlc520.tk/blogImage/af4a6ed25d2c4e088f7b35e5d38cfd24.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>代码如下，自行复制粘贴。FinalShell中复制为ALT+C,粘贴为ALT+V。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/CNS

<span class="token function">chmod</span> u+x cns

./cns <span class="token parameter variable">-daemon</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>每次重启服务器都要重新运行一次./cns -daemon</p><p>这样cns服务器就搭建完成了。</p><p><strong>手机端配置</strong></p>`,27),h={href:"http://xn--715IPtime1-2x2ph47f7fat17dw6z2vm7o8d94vd.cloud.tencent.com",target:"_blank",rel:"noopener noreferrer"},k=t('<figure><img src="https://static.xlc520.tk/blogImage/5fa1a096915b40aa96cb84294a9d608b.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>打开.conf文件，进行如下修改，服务器IP：端口都按照上面的设置来填写。建议使用最新版的龙哥模块。</p><figure><img src="https://static.xlc520.tk/blogImage/cd9ac3980991433bb140164d4acbfab4.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>保存以后，运行一次开启.sh即可。出现如下情况，即是配置成功。</p><figure><img src="https://static.xlc520.tk/blogImage/247457a355504576bd7a3e17dadce2a1.jpeg" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p><strong>注意：如果出现UDP连接×，请检查以下两点：</strong></p><p><strong>1.服务器防火墙是否放行CNS服务器端口。</strong></p><p><strong>2.ZJL文件的IP是否修改。</strong></p><p><strong>出现问题，请评论，看到即回。</strong></p>',9);function v(x,_){const s=c("ExternalLinkIcon");return p(),o("div",null,[r,a("p",null,[n("作者的GITHUB:"),a("a",g,[n("https://github.com/mmmdbybyd/CNS"),e(s)])]),d,a("p",null,[a("a",m,[n("作者Github"),e(s)])]),b,a("p",null,[a("a",u,[n("https://github.com/AiziChen/CNS/releases"),e(s)])]),f,a("p",null,[n("使用龙哥模块的，首先打开ZJL文件，"),a("a",h,[n("将715行的IP地址更换为time1.cloud.tencent.com"),e(s)]),n(",保存。")]),k])}const S=i(l,[["render",v],["__file","CNS服务器搭建教程.html.vue"]]);export{S as default};
