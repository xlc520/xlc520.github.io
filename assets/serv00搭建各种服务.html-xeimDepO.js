import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as r,c as i,b as a,d as s,e as n,a as t}from"./app-BxuroukW.js";const p={},d=a("h1",{id:"serv00-搭建各种服务",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#serv00-搭建各种服务"},[a("span",null,"serv00 搭建各种服务")])],-1),c={href:"https://www.serv00.com/",target:"_blank",rel:"noopener noreferrer"},u=t("<p><strong>Serv00</strong> 是一个提供免费虚拟主机的平台，其托管平台使用的是 <strong>FreeBSD</strong> 系统，而不是 Linux。每个账号有效期为 <strong>10 年</strong> ，超过三个月不登录 Panel 以及 SSH 则会被删除账号。以下是 Serv00 提供的服务概览：</p><ul><li><strong>存储空间</strong>：3 GB</li><li><strong>每月流量</strong>：无限制</li><li><strong>网站数量</strong>：100</li><li><strong>MySQL 数据库</strong>：10 个</li><li><strong>PostgreSQL 数据库</strong>：3 个</li><li><strong>MongoDB 数据库</strong>：3 个</li><li><strong>GIT/SVN/HG 仓库</strong>：3 个</li><li><strong>TCP/UDP 端口</strong>：3 个</li><li><strong>PHP 解释器</strong>：3 个</li><li><strong>系统进程</strong>：15 个</li><li><strong>RAM</strong>：512MB</li><li><strong>备份</strong>：7 天</li><li><strong>服务器放置</strong>：欧盟</li><li><strong>免费子域名</strong>：<code>username.serv00.net</code></li><li><strong>技术支持</strong>：只有论坛 SLA，不支持现代技术</li><li><strong>SSH 访问</strong>：支持</li><li><strong>SSH 隧道</strong>：不支持</li><li><strong>远程数据库访问</strong>：不支持</li><li><strong>固态硬盘</strong>：支持</li><li><strong>没有广告</strong>：支持</li></ul>",2),v={href:"https://github.com/qwer-search/serv00-vless",target:"_blank",rel:"noopener noreferrer"},m={href:"https://jq.qq.com/?_wv=1027&k=qssjFvAs",target:"_blank",rel:"noopener noreferrer"},b=t(`<p>经过我的尝试，成功在 Serv00 上部署了一些服务，接下来进行记录：</p><h1 id="面板自带功能" tabindex="-1"><a class="header-anchor" href="#面板自带功能"><span>面板自带功能</span></a></h1><h2 id="域名" tabindex="-1"><a class="header-anchor" href="#域名"><span>域名</span></a></h2><p>Serv00 上如果想要使用自己的域名，有两种方式，一种是通过 Cloudflare 提供的 Argo 隧道，不仅能绑域名，免配置 ssl ，还可以享受 Cloudflare 的免费 CDN 提速。第二种就是直接使用面板内自带的 DNS 服务器功能绑定自己的域名。</p><p>在 Panel 中进入 DNS zones 选项卡，使用 Add new zone 功能添加自己的域名或者自己的域名的子域，然后在 Zone list 中找到刚刚添加的域名，点击 Edit 查看 DNS 记录，把当中列出的全部记录添加到自己的域名的 DNS 记录中即可完成域名的绑定。</p><p>Serv00 本身对于绑定在其上的域名提供了许多的服务支持，这里所说的绑定在 Serv00 上的域名包括自己绑定的自己的域名，以及 Serv00 在注册账户时赠送的域名 <code>USERNAME.serv00.net</code> ，其服务包括免费的一键申请式的 SSL 证书、域名邮箱、 DNS 管理等多种功能。</p><h3 id="ssl-证书申请" tabindex="-1"><a class="header-anchor" href="#ssl-证书申请"><span>SSL 证书申请</span></a></h3><p>在 Panel 中进入 WWW websites 选项卡，点击 Manage SSL certificates ，在你需要申请 SSL 证书的域名的 A 记录指向的那个 IP 地址右侧点击 Manage ，再点击 Add certificate ， Type 选择 Generate Let’s Encrypt certificate ，Domain 选择要申请 SSL 证书的域名，再点击 Add 即可。</p><h3 id="域名邮箱" tabindex="-1"><a class="header-anchor" href="#域名邮箱"><span>域名邮箱</span></a></h3><p>Panel 中进入 E-mail 选项卡，注册账号后会自动注册一个域名邮箱，用户名是 <code>USERNAME@USERNAME.serv00.net</code> 是 Serv00 的账户密码。可以使用 Add new e-mail 功能新建邮箱账户。</p><p>也可以在 Add new alias 功能中新建别名邮箱，其别名邮箱功能也提供了和 Cloudflare 一样的 Catch-all 的 Advanced settings 选项，用来批量注册东西十分方便。</p><p>目前我的测试中，似乎没有在 Manage whitelist 中添加进白名单的域名邮箱发来的邮件全部都会被识别为垃圾邮件。所以有需要的话可以在 Manage whitlist 中添加你需要接受邮件的邮箱的域名，比如 <code>qq.com</code> 、 <code>gmail.com</code> 等等。</p><p>如果绑定了自己的域名，想要使用自己的域名配置域名邮箱的话，要在 Domain list 中找到自己的域名，点击最右边的 DKIM ， action 选择 Add DNS record automatically ，然后 Sign domain 以注册域名，使得新的域名邮箱能够通过一些邮件接收服务器的验证。</p><p>Open web client 功能就可以进入邮箱的登录页面了，其使用方法与大多数的邮箱相同，不再赘述。</p><h3 id="dns-管理" tabindex="-1"><a class="header-anchor" href="#dns-管理"><span>DNS 管理</span></a></h3><p>DNS zones 选项卡中在自己绑定的域名右侧点击 Edit ，即可查看当前域名的所有 DNS 记录，在 Add new record 中可以手动添加新的 DNS 记录，与大多数的域名服务商提供的 DNS 管理的功能类似。</p><h3 id="proxy" tabindex="-1"><a class="header-anchor" href="#proxy"><span>Proxy</span></a></h3><p>WWW websites 选项卡中可以根据语言不同添加多种网站，其中 PHP 的 <code>eval() function</code> 和 <code>exec() function</code> 都要在添加完网站后，在 Manage &gt; Details 中打开。不同类型的网页其 Details 中的选项也都有差异，可以按需查看配置，这里重点讲一下 Proxy 类型指向自己的应用程序监听端口的配置。</p><p>Add new website 功能中， Domain 填写自己的域名或者 serv00 分配的域名，或者它们的子域，展开 Advanced settings， Website type 选择 Proxy ，Proxy target 选择 localhost ， Proxy port 选择自己的应用监听的端口，其他选项留空或者保持默认，点击 Add 即可。接下来就能使用刚刚填写的域名访问自己部署的对应端口的应用了。如果需要 https 访问，再按前文的步骤去申请 SSL 证书即可。</p><h2 id="运行自己的应用" tabindex="-1"><a class="header-anchor" href="#运行自己的应用"><span>运行自己的应用</span></a></h2><p>Additional services 选项卡中找到 Run your own applications 项目，将其设置为 Enabled 即可。* <em>如果不开启这一项，自己的用户目录下的所有文件都无法添加可执行权限。</em>*</p><h2 id="file-manager" tabindex="-1"><a class="header-anchor" href="#file-manager"><span>File manager</span></a></h2><p>文件管理，有一定的在线编辑和预览的功能，兼具文件的上传下载，删除新建等各种管理功能，十分便利。</p><h2 id="port-reservation" tabindex="-1"><a class="header-anchor" href="#port-reservation"><span>Port reservation</span></a></h2><p>需要使用端口都得在这申请。</p><h2 id="数据库" tabindex="-1"><a class="header-anchor" href="#数据库"><span>数据库</span></a></h2><p>Serv00 提供了 MySQL 、 PostgreSQL 、 MongoDB 三种数据库，可以按需新建数据库、数据库用户。同时， Serv00 还提供了三种数据库的 webui ，十分便利。</p><p>需要注意的是，所有数据库在新建时，其用户名和数据库名都有一个 <code>mxxx_</code> 的前缀，在使用时容易被忽视。</p><h2 id="cron-jobs" tabindex="-1"><a class="header-anchor" href="#cron-jobs"><span>Cron jobs</span></a></h2><p>Cron jobs 选项卡提供了一些计划性任务的设置功能，在这里可以设置开机自启任务，或者定时循环任务，当然常用的还是开机自启任务的设定， Specify time 选择 After reboot 即为开机自启。</p><h1 id="部署应用前的一些准备工作" tabindex="-1"><a class="header-anchor" href="#部署应用前的一些准备工作"><span>部署应用前的一些准备工作</span></a></h1><p>在部署自己的应用之前，我建议提前安装好 pm2 以及 Cloudflared （可选）。前者是进程管理工具，用来方便开机自启，以及程序崩溃后自启，查阅进程运行情况等等。后者是 Cloudflare 的 Argo 隧道客户端，用它也可以给自己部署的应用加域名。特别是 Uptime Kuma ，更加推荐使用 Cloudflared 加域名，而不建议使用面板自带的 Proxy 。</p><h2 id="pm2" tabindex="-1"><a class="header-anchor" href="#pm2"><span>Pm2</span></a></h2><p>这个是重中之重，如果不是成功安装了 pm2 ，我甚至不会尝试探索 Serv00 这个玩具有什么用，所以 pm2 的安装方法记录在开头。</p><p>在 SSH 连接 serv00 之后，直接使用一键脚本安装 pm2 ：</p><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>bash &lt;(curl -s https://raw.githubusercontent.com/k0baya/alist_repl/main/serv00/install-pm2.sh)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>如果安装完成后执行 <code>pm2</code> 提示命令未找到，你可以断开 SSH 连接，再重新连接，即可。</p></blockquote><h2 id="cloudflared" tabindex="-1"><a class="header-anchor" href="#cloudflared"><span>Cloudflared</span></a></h2>`,38),h={href:"https://cloudflared.bowring.uk/",target:"_blank",rel:"noopener noreferrer"},k=t(`<p>关于 Cloudflared 是什么，有什么用，ARGO_TOKEN 如何获取等部分，这里不再赘述，详细可以查看我的关于 CodeSandbox 和 Hax 的文章。</p><p>创建并进入 Cloudflared 的工作目录：</p><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>mkdir -p ~/domains/cloudflared &amp;&amp; cd ~/domains/cloudflared
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>下载 Cloudflared：</p><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>wget https://cloudflared.bowring.uk/binaries/cloudflared-freebsd-latest.7z &amp;&amp; 7z x cloudflared-freebsd-latest.7z &amp;&amp; rm cloudflared-freebsd-latest.7z &amp;&amp; mv -f ./temp/* ./cloudflared &amp;&amp; rm -rf temp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>测试运行：</p><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>./cloudflared tunnel --edge-ip-version auto --protocol http2 --heartbeat-interval 10s run --token ARGO_TOKEN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>其中 ARGO_TOKEN 要替换成自己的。确定运行没有问题后，按 <code>Ctrl+c</code>即可停止运行。</p></blockquote><p>使用 pm2 启动 Cloudflared：</p><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>pm2 start ./cloudflared -- tunnel --edge-ip-version auto --protocol http2 --heartbeat-interval 10s run --token ARGO_TOKEN
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>其中 ARGO_TOKEN 要替换成自己的。</p></blockquote><p>接着去 CLoudflare 的面板中设置域名对应端口，即可使用域名访问自己搭建的服务了。</p><h2 id="安装-go1-22" tabindex="-1"><a class="header-anchor" href="#安装-go1-22"><span>安装 go1.22</span></a></h2><blockquote><p>如果你有安装自己使用 go build 构建的需求，你可以选择安装最新的 go1.22 ，这里记录其安装过程。</p></blockquote><p>由于 Serv00 服务器上并未提供 go1.22 ，只提供了 go1.20.3 ，无法正常进行构建工作，所以需要手动安装 go1.22 环境。</p><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code># 创建安装目录
mkdir -p ~/local/soft &amp;&amp; cd ~/local/soft
# 下载编译好的 go1.22 的程序包
wget https://dl.google.com/go/go1.22.0.freebsd-amd64.tar.gz
# 解压
tar -xzvf go1.22.0.freebsd-amd64.tar.gz
# 删除压缩文件
rm go1.22.0.freebsd-amd64.tar.gz
# 修改 .profile 文件
echo &#39;export PATH=~/local/soft/go/bin:$PATH&#39; &gt;&gt; ~/.profile
# 使 .profile 的修改生效
source ~/.profile
# 检查 go 版本
go version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="部署自己的应用" tabindex="-1"><a class="header-anchor" href="#部署自己的应用"><span>部署自己的应用</span></a></h1>`,17),g={href:"https://docs.serv00.com/htaccess/",target:"_blank",rel:"noopener noreferrer"},f=a("h2",{id:"wordpress",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#wordpress"},[a("span",null,"WordPress")])],-1),x={href:"https://docs.serv00.com/",target:"_blank",rel:"noopener noreferrer"},_=t(`<p>除了 WordPress 外，文档中还详细介绍了 Redis、Memcached、Imapsync、WP-CLI、Tomcat 等服务的搭建方法，有需求的都可以照着抄。</p><h2 id="kodbox" tabindex="-1"><a class="header-anchor" href="#kodbox"><span>KodBox</span></a></h2><p>虽然 Serv00 能够部署 KodBox，但是实在是不太好用。最直观的感受就是卡，因为 KodBox 运行期间需要调用多个 PHP 组件，而 Serv00 限制同时处理三个 PHP 进程，所以显得特别慢。其次， Serv00 没有 Root 权限，部分 PHP 插件没有安装，也无法安装，导致有一些 KodBox 的插件无法正常运行。</p><p>当然如果只是图新奇搭一个玩玩，也是可以的。下面是步骤：</p><p>首先在 Panel 中 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>PHP</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 安装KodBox</span>
<span class="token function">bash</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://pan.rappit.site/d/shell/kodbox1.49/serv00-kodbox-install.sh<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后去 Panel 中的 MySQL 选项卡，新建数据库和用户，用以接入 KodBox 。再去 WWW Websites 选项卡中找到 用户名.serv00.net ，点击右侧的 Manage &gt; Details 进入设置，把 GZIP compression、Allow PHP eval() function、Allow PHP exec() function 三个功能打开。</p><p>然后使用浏览器访问你的 KodBxo 的域名，进行安装配置即可。初次启动需要较长的时间，请耐心等待。</p>`,12),y={id:"lsky-pro",tabindex:"-1"},q={class:"header-anchor",href:"#lsky-pro"},S={href:"https://github.com/lsky-org/lsky-pro",target:"_blank",rel:"noopener noreferrer"},P={href:"https://docs.lsky.pro/",target:"_blank",rel:"noopener noreferrer"},E=t(`<p>本来无意在本篇文章再多写 PHP 相关的站点部署，因为过于简单。但是奈何群友有需求，遂做个简单的步骤记录：</p><p>首先在 Panel 中 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>PHP</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载图床应用</span>
<span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/lsky-org/lsky-pro/releases/latest<span class="token variable">)</span></span>
<span class="token assign-left variable">asset_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&#39;.assets[] | select(.name != &quot;source code&quot;) | .browser_download_url&#39;</span><span class="token variable">)</span></span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-o</span> temp.zip <span class="token string">&quot;<span class="token variable">$asset_url</span>&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">unzip</span> <span class="token parameter variable">-q</span> temp.zip <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> temp.zip
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> public_html <span class="token operator">&amp;&amp;</span> <span class="token function">ln</span> <span class="token parameter variable">-s</span> <span class="token string">&quot;<span class="token environment constant">$PWD</span>/public&quot;</span> <span class="token string">&quot;<span class="token environment constant">$PWD</span>/public_html&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着在 Panel 中 WWW websites 选项卡内，点击自己刚刚创建的用于部署 Lsky-Pro 的域名的 Manage &gt; Details ，在 <strong>Open Basedir directories</strong> 的最末添加：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>:/usr/home/用户名/domains/xxx.USERNAME.serv00.net
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>记得把用户名和最末的域名换成自己的。</p></blockquote><p>然后把 <strong>GZIP compression</strong> 、<strong>Allow PHP eval() function</strong> 、<strong>Allow PHP exec() function</strong> 都打开，点击 save changes 保存。</p><p>然后去 Panel 中的 MySQL 选项卡，新建数据库和用户，用以接入 Lsky-Pro 。</p><p>然后使用浏览器访问你的 Lsky-Pro 的域名，进行安装配置即可。</p><blockquote><p>上面的应用不需要占用端口。</p></blockquote><hr><blockquote><p>下面的应用每一个都能够 / 需要占用端口。</p></blockquote><h2 id="vless" tabindex="-1"><a class="header-anchor" href="#vless"><span>Vless</span></a></h2><p>这个肯定是第一时间部署的，每次遇到这样的平台，第一时间总是想着能不能搭建节点。</p><h3 id="_1" tabindex="-1"><a class="header-anchor" href="#_1"><span>①</span></a></h3><p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Vless 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 克隆源仓库</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> public_html <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> clone https://github.com/qwer-search/serv00-vless public_html <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> public_html <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> README.md
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 vim 编辑或者直接去 Panel 中的 File Manager 选项卡在线编辑 <code>app.js</code> 文件，修改端口为刚刚放行的端口。</p><p>安装依赖：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装完毕后，使用 pm2 启动并守护 vless 进程：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start app.js <span class="token parameter variable">--name</span> vless
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>接着去你的代理客户端软件中手动添加 vless 配置即可：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>地址</td><td>Panel 中 WWW Websites 选项卡里的你的 Domain name</td></tr><tr><td>端口</td><td>你放行的端口</td></tr><tr><td>用户 id</td><td>37a0bd7c-8b9f-4693-8916-bd1e2da0a817</td></tr><tr><td>传输协议</td><td>ws</td></tr><tr><td>伪装域名</td><td>同地址</td></tr><tr><td>ws path</td><td>/</td></tr></tbody></table><p>上表没有给出的可以不填。</p><h3 id="_2" tabindex="-1"><a class="header-anchor" href="#_2"><span>②</span></a></h3><p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Vless 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下，再使用 <code>npm</code> 命令安装 <code>@3Kmfi6HP/nodejs-proxy</code> ：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @3Kmfi6HP/nodejs-proxy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>被删库了可以自己换个源安装，比如：</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token parameter variable">--registry</span> http://r.cnpmjs.org <span class="token function">install</span> @3Kmfi6HP/nodejs-proxy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这个源如果也不行了请自己找其他源替换。</p><p>再使用 pm2 启动：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 记得把 PORT 替换成自己放行的端口。</span>
pm2 start npx <span class="token parameter variable">--name</span> vless -- nodejs-proxy <span class="token parameter variable">-p</span> PORT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>接着访问这个刚刚添加的站点，即可在网页上直接获取配置。 <strong>哦对，有个小 <code>bug</code> ，端口需要改成 443 ，而网页中默认给的配置是 80 。</strong></p>`,46),A=a("p",null,[s("之所以说这个 "),a("code",null,"npm"),s(" 包不安全，是因为其配置在网页上都可以看到，而且网页设计不太合理，有一个不带 "),a("code",null,"uuid"),s(" 的中转页面，所以可以使用 "),a("strong",null,"fofa"),s(" 、 "),a("strong",null,"shodan"),s(" 等网络空间扫描工具批量扫出来，而且不止 Serv00 一个平台有人使用，如果你感兴趣，你可以去搜搜看，可以收获一大批 Vless 节点。")],-1),R={href:"https://pclwgdwv.serv00.net/",target:"_blank",rel:"noopener noreferrer"},T=a("h2",{id:"alist",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#alist"},[a("span",null,"Alist")])],-1),w={href:"https://github.com/uubulb/alist-freebsd",target:"_blank",rel:"noopener noreferrer"},D=t(`<p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Alist 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 使用一键命令安装 Alist</span>
<span class="token function">wget</span> <span class="token parameter variable">-O</span> alist-freebsd.sh https://raw.githubusercontent.com/k0baya/alist_repl/main/serv00/alist-freebsd.sh <span class="token operator">&amp;&amp;</span> <span class="token function">sh</span> alist-freebsd.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>在 Panel 中进入 MySQL 选项卡，使用 Add database 功能新建一个数据库。</p><blockquote><p>密码要求含有大写字母、小写字母和数字三种字符，且长度必须超过 6 个字符。</p></blockquote><p>接下来进入 File manager 选项卡，进入 <code>~/domains/xxx.USERNAME.serv00.net/public_html/data</code> 路径，可以看到一个名为 <code>config.json</code> 的文件，右键点击，选择 View/Edit &gt; Source Editor ，进行编辑：</p>`,9),N={href:"https://link.zhihu.com/?target=https://alist.nn.ci/zh/config/configuration.html%23cdn",target:"_blank",rel:"noopener noreferrer"},L=t(`<p>scheme 部分，我选择修改 adress 为 <code>127.0.0.1</code>本地回环，是为了避免被他人使用 <code>http://ip:port</code> 的方式进行访问。至于自己怎么访问，我在本文后面的部分会进行介绍。port 要改成自己前面放行的端口。</p><p>database 部分，type 需要改成 <code>mysql</code> ，host 填写你在注册邮件中看到的 mysql 的地址， port 是默认的 3306，用户名、密码、数据库名则按照你创建的情况进行填写。</p><blockquote><p>最新版本的 Alist 如果不想开启 S3 Server，请把对应的配置文件中的端口配置为 0 。</p></blockquote><p>改完之后，点击 save 保存，接着回到 SSH 窗口中进行操作：</p><p>测试启动 Alist：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./alist server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>确定运行没有问题后，按 <code>Ctrl+c</code>即可停止运行。</p></blockquote><p>使用 pm2 启动并管理 alist：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./alist -- server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>同样的，你还可以使用 Cloudflared 隧道添加域名，而不选择使用 Proxy 。</p></blockquote>`,10),U={id:"synctv",tabindex:"-1"},M={class:"header-anchor",href:"#synctv"},O={href:"https://synctv.wiki/",target:"_blank",rel:"noopener noreferrer"},z=t(`<p>群友仿照 alist-freebsd 的仓库的 workflow 进行构筑的。部署简单，与 alist 类似。首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Synctv 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载可执行文件</span>
<span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/shangskr/synctv-freebsd/releases/latest<span class="token variable">)</span></span>
<span class="token assign-left variable">asset_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&#39;.assets[] | select(.name != &quot;source code&quot;) | .browser_download_url&#39;</span><span class="token variable">)</span></span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-o</span> synctv <span class="token string">&quot;<span class="token variable">$asset_url</span>&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x synctv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>新建启动脚本：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> start.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/sh
# 如果不希望被使用 http://ip:port 的方式访问，取消注释下一行
# export SYNCTV_SERVER_LISTEN=127.0.0.1
# 把下一行的最末的PORT改成自己放行的端口
export SYNCTV_SERVER_PORT=PORT
exec ./synctv server --data-dir ./
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>添加可执行权限：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x start.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>测试运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./start.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>确定运行没有问题后，按 <code>Ctrl+c</code>即可停止运行。</p></blockquote><p>使用 pm2 启动并管理：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./start.sh <span class="token parameter variable">--name</span> synctv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>同样的，你还可以使用 Cloudflared 隧道添加域名，而不选择使用 Proxy 。</p></blockquote><h2 id="one-api" tabindex="-1"><a class="header-anchor" href="#one-api"><span>One-api</span></a></h2><p><s>源仓库没有提供 freebsd 平台的二进制文件，需要自己构建，但是很简单</s>。我已经写了一个仓库用于自动化构建 freebsd 版本的 one-api 二进制文件，可以直接下载使用。</p>`,18),j={href:"https://github.com/k0baya/new-api-freebsd",target:"_blank",rel:"noopener noreferrer"},H=t(`<p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 One-API 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载 one-api</span>
<span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/k0baya/one-api-freebsd/releases/latest<span class="token variable">)</span></span>
<span class="token assign-left variable">asset_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&#39;.assets[] | select(.name != &quot;source code&quot;) | .browser_download_url&#39;</span><span class="token variable">)</span></span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-o</span> one-api <span class="token string">&quot;<span class="token variable">$asset_url</span>&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x one-api
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>新建启动脚本：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> start.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/sh
# 如果你有设置主题的需要，可以取消注释下一行，然后按照自己的需求设置。
# export THEME=&quot;berry&quot;
export TIKTOKEN_CACHE_DIR=&quot;<span class="token environment constant">$PWD</span>&quot;
# 把下一行的 PORT 改为自己放行的端口
exec ./one-api --port PORT --log-dir ./logs
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>添加可执行权限：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x start.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>保存后回到 terminal 中，测试运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./start.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>确定运行没有问题后，按 <code>Ctrl+c</code>即可停止运行。</p></blockquote><p>使用 pm2 启动并管理：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./start.sh <span class="token parameter variable">--name</span> one-api
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>同样的，你还可以使用 Cloudflared 隧道添加域名，而不选择使用 Proxy 。</p></blockquote><h2 id="uptime-kuma" tabindex="-1"><a class="header-anchor" href="#uptime-kuma"><span>Uptime-Kuma</span></a></h2><p>受限于 FreeBSD 的平台限制，1.23 版本内置了 PlayWright ，无法运行，所以只能安装 1.22 版本。切记先去 Panel 中放行 TCP 端口。</p><p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Uptime-Kuma 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载 v1.22.1 版本的源代码</span>
<span class="token builtin class-name">cd</span> ~/domains <span class="token operator">&amp;&amp;</span> <span class="token function">wget</span> https://github.com/louislam/uptime-kuma/archive/refs/tags/1.22.1.zip <span class="token operator">&amp;&amp;</span> <span class="token function">unzip</span> <span class="token number">1.22</span>.1.zip <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> public_html <span class="token operator">&amp;&amp;</span> <span class="token function">mv</span> <span class="token parameter variable">-f</span> uptime-kuma-1.22.1 public_html <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token number">1.22</span>.1.zip <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> public_html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>设置生产模式：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> ci <span class="token parameter variable">--production</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>下载 dist 文件：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://github.com/louislam/uptime-kuma/releases/download/1.22.1/dist.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> dist.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> dist.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装补充依赖：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装过程中多少会有报错，无视就好，实际上最后可以正常运行。内置的 Cloudflared 反向代理在 FreeBSD 平台上无法使用，但是可以使用上述的外置的 Cloudflared 进行反代，使用自己的域名。</p><p>测试运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">node</span> server/server.js <span class="token parameter variable">--port</span><span class="token operator">=</span>PORT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>记得把 PORT 替换成你放行的端口。确定运行没有问题后，按 <code>Ctrl+c</code>即可停止运行。</p></blockquote><p>使用 pm2 管理后台运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start server/server.js <span class="token parameter variable">--name</span> uptime-kuma -- <span class="token parameter variable">--port</span><span class="token operator">=</span>PORT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>记得把 PORT 替换成你放行的端口。</p></blockquote><blockquote><p>如果你不希望自己的 Uptime-Kuma 被人使用 <code>http://IP:PORT</code>的方式访问，你可以在最后的执行命令添加 <code>--host=127.0.0.1</code> 的尾缀，这样就只能通过反向代理的域名进行访问了:</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start server/server.js <span class="token parameter variable">--name</span> uptime-kuma -- <span class="token parameter variable">--port</span><span class="token operator">=</span>PORT <span class="token parameter variable">--host</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>同样的，你还可以使用 Cloudflared 隧道添加域名，而不选择使用 Proxy 。</p></blockquote><h2 id="bingo-暂时无法正常使用" tabindex="-1"><a class="header-anchor" href="#bingo-暂时无法正常使用"><span>Bingo（暂时无法正常使用）</span></a></h2><p>先放行一个端口。在 Panel 中进入 File manager 选项卡，点击左侧的 My Files 进入你的用户根目录，找到 <code>.profile</code>文件，右键选择 View/Edit &gt; Choose other &gt;Source Editor 进行编辑，在最末加上以上两行并保存：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">alias</span> <span class="token assign-left variable">node</span><span class="token operator">=</span><span class="token string">&#39;node20&#39;</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">npm</span><span class="token operator">=</span><span class="token string">&#39;npm20&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>应用更改：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">source</span> ~/.profile
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>先新建一个目录用于存放 Bingo 的相关文件，进入目录后执行下述操作。</p></blockquote><p>下载源码：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/weaigc/bingo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>进入源码所在目录：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> bingo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装依赖：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>npm20 <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>下载 build 好的 <code>.next</code>资源：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-O</span> next.tar.gz https://pan.saika.free.hr/d/local/next.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> next.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> next.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>添加环境变量文件：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cp</span> .env.example .env
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>接着在 Panel 中进入 File manager 选项卡，进入 Bingo 源码所在的目录，找到 <code>server.js</code>文件，右键选择 View/Edit &gt; Choose other &gt;Source Editor 进行编辑，修改第 7 行中的端口为你放行的端口。再编辑 <code>.env</code>文件，添加你的 <code>BING_HEADER</code>。</p><p>测试启动：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>npm20 run start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>确定运行没有问题后，按 <code>Ctrl+c</code>即可停止运行。</p></blockquote><p>使用 pm2 启动并管理：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start <span class="token function">npm</span> <span class="token parameter variable">--name</span> bingo -- run start
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="refresh-gpt-chat" tabindex="-1"><a class="header-anchor" href="#refresh-gpt-chat"><span>Refresh-gpt-chat</span></a></h2><p>用来对接 ninja、warpgpt 等能够使用 access_Token 作为 API Key 请求 GPT 的工具，以使用永久有效期的 Refresh_token 来获取更好的体验。</p><p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Refresh-gpt-chat 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载 refresh-gpt-chat</span>
<span class="token function">wget</span> <span class="token parameter variable">-O</span> refresh-gpt-chat.jar https://github.com/Yanyutin753/refresh-gpt-chat/releases/download/v0.0.3/refresh-gpt-chat-0.0.3-SNAPSHOT.jar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 pm2 启动：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start java19 <span class="token parameter variable">--name</span> refresh-gpt-chat -- <span class="token parameter variable">-jar</span> refresh-gpt-chat.jar <span class="token parameter variable">--server.port</span><span class="token operator">=</span>端口 --server.servlet.context-path<span class="token operator">=</span>/ <span class="token parameter variable">--getAccessTokenUrl</span><span class="token operator">=</span>https://你的ninja地址/auth/refresh_token <span class="token parameter variable">--chatUrl</span><span class="token operator">=</span>https://你的ninja地址/v1/chat/completions
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>再套域名，接下来就可以直接使用 <code>https://你套的域名/v1/chat/completions/</code> 当作 API 端点，使用 <code>refresh_token</code> 做 API_Keys ，使用 ChatGPT 了。</p><p>然后在 one-api 中添加自定义渠道， <code>Base URL</code> 填写你 <code>https://你套的域名</code>，模型填入你的 refresh_token 对应的账号所支持的模型，如果和我一样手持大把 3.5 的账号想用来做 API 用，可以选择全部 GPT3.5 的相关模型，然后在 <code>模型重定向</code> 中填入以下内容：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;gpt-3.5-turbo-0301&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gpt-3.5-turbo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gpt-3.5-turbo-0613&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gpt-3.5-turbo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gpt-3.5-turbo-16k&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gpt-3.5-turbo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gpt-3.5-turbo-16k-0613&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gpt-3.5-turbo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gpt-3.5-turbo-1106&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gpt-3.5-turbo&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gpt-3.5-turbo-instruct&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gpt-3.5-turbo&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>密钥填写你的 <code>refresh_token</code>即可，如果你有多个账号，可以将批量勾选上，然后一行写一个 <code>refresh_token</code>。</p><blockquote><p>同样的，你还可以使用 Cloudflared 隧道添加域名，而不选择使用 Proxy 。</p></blockquote>`,77),C={id:"gpt4-copilot-java",tabindex:"-1"},I={class:"header-anchor",href:"#gpt4-copilot-java"},F={href:"https://github.com/Yanyutin753/gpt4-copilot-java-sh",target:"_blank",rel:"noopener noreferrer"},B=a("p",null,"支持 cocopilot 的 ccu 和 copilot 的 ghu 调用 copilot 转 GPT-4 的接口转换工具。 Java 写的，可以在 Serv00 运行。",-1),W={href:"https://blog.rappit.site/2024/02/07/copilot-to-api-free-temp/#lvguanjun-copilot-to-chatgpt4",target:"_blank",rel:"noopener noreferrer"},K=t(`<blockquote><p>比起 Gpt4-copilot-java 更轻量更强大。</p></blockquote><p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Gpt4-copilot-java 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载 fat jar 包</span>
<span class="token assign-left variable">RELEASE_INFO</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token string">&quot;https://api.github.com/repos/Yanyutin753/gpt4-copilot-java-sh/releases/latest&quot;</span><span class="token variable">)</span></span>
<span class="token assign-left variable">JAR_DOWNLOAD_URL</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$RELEASE_INFO</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> &#39;.assets<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> select<span class="token punctuation">(</span>.name<span class="token operator">|</span>test<span class="token punctuation">(</span><span class="token string">&quot;.jar$&quot;</span><span class="token punctuation">)</span><span class="token variable">)</span></span> <span class="token operator">|</span> .browser_download_url&#39;<span class="token punctuation">)</span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-o</span> gpt4-copilot-java.jar <span class="token string">&quot;<span class="token variable">$JAR_DOWNLOAD_URL</span>&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 把PORT改为自己放行的端口，最后的server.servlet.context-path参数可以改成自己喜欢的尾缀</span>
java19 <span class="token parameter variable">-jar</span> gpt4-copilot-java.jar <span class="token parameter variable">--server.port</span><span class="token operator">=</span>PORT --server.servlet.context-path<span class="token operator">=</span>/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>测试没有问题之后，按 <code>Ctrl+c</code>即可停止运行。</p></blockquote><p>使用 pm2 启动并管理：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start java19 <span class="token parameter variable">--name</span> gpt4-copilot-java -- <span class="token parameter variable">-jar</span> gpt4-copilot-java.jar <span class="token parameter variable">--server.port</span><span class="token operator">=</span>PORT --server.servlet.context-path<span class="token operator">=</span>/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>始皇的公车：ghu_ThisIsARealFreeCopilotKeyByCoCopilot （已失效）</p></blockquote><p>免费公车白嫖请求示例：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">--location</span> <span class="token string">&#39;http(s)://ip:port_or_URL/cocopilot/v1/chat/completions&#39;</span> 
<span class="token parameter variable">--header</span> <span class="token string">&#39;Content-Type: application/json&#39;</span> 
<span class="token parameter variable">--header</span> <span class="token string">&#39;Authorization: Bearer ghu_ThisIsARealFreeCopilotKeyByCoCopilot&#39;</span> 
<span class="token parameter variable">--data</span> <span class="token string">&#39;{
&quot;model&quot;: &quot;gpt-4&quot;,
&quot;messages&quot;: [{&quot;role&quot;: &quot;user&quot;, &quot;content&quot;: &quot;鲁迅打周树人&quot;}]
}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>同样的，你还可以使用 Cloudflared 隧道添加域名，而不选择使用 Proxy 。</p></blockquote>`,16),G={id:"zfile",tabindex:"-1"},$={class:"header-anchor",href:"#zfile"},V={href:"https://zfile.vip/",target:"_blank",rel:"noopener noreferrer"},X=t(`<p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Zfile 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载 fat jar 包</span>
<span class="token function">wget</span> --no-check-certificate <span class="token parameter variable">-O</span> zfile.jar https://c.jun6.net/ZFILE/zfile-release.jar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>测试运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>java19 <span class="token parameter variable">-jar</span> <span class="token parameter variable">-Duser.timezone</span><span class="token operator">=</span>Asia/Shanghai zfile.jar <span class="token parameter variable">--zfile.log.path</span><span class="token operator">=</span><span class="token environment constant">$PWD</span>/logs <span class="token parameter variable">--zfile.db.path</span><span class="token operator">=</span><span class="token environment constant">$PWD</span>/zfile <span class="token parameter variable">--server.port</span><span class="token operator">=</span>PORT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>记得把端口改成自己的。测试没有问题之后，按 <code>Ctrl+c</code>即可停止运行。</p></blockquote><p>使用 pm2 启动并管理：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start java19 <span class="token parameter variable">--name</span> zfile -- <span class="token parameter variable">-jar</span> <span class="token parameter variable">-Duser.timezone</span><span class="token operator">=</span>Asia/Shanghai zfile.jar <span class="token parameter variable">--zfile.log.path</span><span class="token operator">=</span><span class="token environment constant">$PWD</span>/logs <span class="token parameter variable">--zfile.db.path</span><span class="token operator">=</span><span class="token environment constant">$PWD</span>/zfile <span class="token parameter variable">--server.port</span><span class="token operator">=</span>PORT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>同样的，你还可以使用 Cloudflared 隧道添加域名，而不选择使用 Proxy 。</p></blockquote><h2 id="halo" tabindex="-1"><a class="header-anchor" href="#halo"><span>Halo</span></a></h2><blockquote><p><strong>慎重部署，内存会超 100%，不知道会不会封号</strong></p></blockquote>`,14),Q={href:"https://github.com/halo-dev/halo",target:"_blank",rel:"noopener noreferrer"},Y={href:"https://github.com/Lu7fer/Jar4Halo",target:"_blank",rel:"noopener noreferrer"},Z={href:"https://github.com/halo-dev/halo/releases/tag/v2.12.0-alpha.1",target:"_blank",rel:"noopener noreferrer"},J=t(`<p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Halo 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>并在 MySQL 选项卡中中新建 MySQL 数据库，用于填入接入 Halo 。</p><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载jar包</span>
<span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/halo-dev/halo/releases/latest<span class="token variable">)</span></span>
<span class="token assign-left variable">jar_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> &#39;.assets<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> select<span class="token punctuation">(</span>.name <span class="token operator">|</span> endswith<span class="token punctuation">(</span><span class="token string">&quot;.jar&quot;</span><span class="token punctuation">)</span><span class="token variable">)</span></span> <span class="token operator">|</span> .browser_download_url&#39;<span class="token punctuation">)</span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">&quot;<span class="token variable">$jar_url</span>&quot;</span> <span class="token parameter variable">-o</span> halo.jar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 <code>halo.jar</code> 所在路径下新建 <code>.halo2</code> 文件夹，进入其中，新建文件 <code>application.yaml</code> 然后并配置其内容：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 新建文件夹</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> .halo2
<span class="token comment"># 新建并填入配置</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> .halo2/application.yaml <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
server:
  port: 你在面板中放行的端口
  # Response data gzip.
  compression:
    enabled: false
spring:
  #sql:
  #  init.platform: mysql
  r2dbc:
    url: r2dbc:pool:mysql://数据库地址:3306/数据库名
    username: 数据库用户名
    password: 数据库密码
halo:
  # Your admin client path is https://your-domain/{admin-path}
  admin-path: admin
  # memory or level
  cache: level
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在 <code>halo.jar</code> 所在路径下新建 <code>run.sh</code> 运行脚本：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> run.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/bash
export HALO_WORK_DIR=&quot;<span class="token environment constant">$PWD</span>/.halo2&quot;
export HALO_EXTERNAL_URL=&quot;https://你的域名&quot;
exec java17 -server -Xms128m -Xmx256m -jar -Duser.timezone=Asia/Shanghai <span class="token environment constant">$PWD</span>/halo.jar --spring.config.additional-location=<span class="token environment constant">$PWD</span>/.halo2/application.yaml
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x run.sh <span class="token operator">&amp;&amp;</span> ./run.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>确定运行没有问题后，按 <code>Ctrl+c</code>即可停止运行。</p></blockquote><p>使用 pm2 管理运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x run.sh <span class="token operator">&amp;&amp;</span> pm2 start ./run.sh <span class="token parameter variable">--name</span> halo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>同样的，你还可以使用 Cloudflared 隧道添加域名，而不选择使用 Proxy 。</p></blockquote><h2 id="go-proxy-bingai" tabindex="-1"><a class="header-anchor" href="#go-proxy-bingai"><span>Go-proxy-bingai</span></a></h2>`,18),aa={href:"https://github.com/adams549659584/go-proxy-bingai",target:"_blank",rel:"noopener noreferrer"},sa={href:"https://github.com/Harry-zklcdc/go-proxy-bingai",target:"_blank",rel:"noopener noreferrer"},ea=t(`<p><s>虽然原仓库的 Release 中并未提供 FreeBSD 系统适用的二进制文件，但是我们能够自己构建。我已经构建了一份放在这篇博客底部的 QQ 群的群文件中</s>。<s>我写了一个仓库用于自动化构建 FreeBSD 版本的 go-proxy-bingai ，可以从我的仓库下载使用。</s> 作者已经开始提供 FreeBSD 的构建，故我的仓库已经存档。</p><p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Go-proxy-bingai 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载可执行文件</span>
<span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/Harry-zklcdc/go-proxy-bingai/releases <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&#39;[.[] | select(.prerelease==false)][0]&#39;</span><span class="token variable">)</span></span>
<span class="token assign-left variable">download_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&#39;.assets[] | select(.name==&quot;go-proxy-bingai-freebsd-amd64.tar.gz&quot;) | .browser_download_url&#39;</span><span class="token variable">)</span></span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">&quot;<span class="token variable">$download_url</span>&quot;</span> <span class="token parameter variable">-o</span> go-proxy-bingai-freebsd-amd64.tar.gz<span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> <span class="token parameter variable">-xzf</span> go-proxy-bingai-freebsd-amd64.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> go-proxy-bingai-freebsd-amd64.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x go-proxy-bingai
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>新建启动脚本：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> entrypoint.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/bash
# 被注释的环境变量请根据自己的需求，按照原仓库的 wiki 中的介绍进行填入。
export BYPASS_SERVER=&quot;https://bypass.zklcdc.xyz&quot;  # 作者本人的公共bypass服务，可用性未知。
# export Go_Proxy_BingAI_USER_TOKEN_1=&quot;xxx&quot;
# export Go_Proxy_BingAI_USER_TOKEN_2=&quot;xxx&quot;
# export USER_KievRPSSecAuth=&quot;xxx&quot;
# export USER_RwBf=&quot;xxx&quot;
# export USER_MUID=&quot;xxx&quot;
# export APIKEY=&quot;sk-xxx&quot;
# export BING_BASE_URL=&quot;https://www.bing.com&quot;
# export SYDNEY_BASE_URL=&quot;https://sydney.bing.com&quot;
# export HTTP_PROXY=&quot;http://172.17.0.1:18080&quot;
# export HTTPS_PROXY=&quot;http://172.17.0.1:18080&quot;
# export Go_Proxy_BingAI_AUTH_KEY=&quot;xxx&quot;
# 请把下一行双引号中的内容替换成你放行的端口。
export PORT=&quot;xxx&quot;
chmod +x go-proxy-bingai &amp;&amp; exec ./go-proxy-bingai
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 测试运行</span>
<span class="token function">chmod</span> +x entrypoint.sh <span class="token operator">&amp;&amp;</span> ./entrypoint.sh
<span class="token comment"># 使用 pm2 管理运行</span>
pm2 start ./entrypoint.sh <span class="token parameter variable">--name</span> go-proxy-bingai
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>请注意，如果你需要使用其 web 功能，而不仅仅是 api 功能，请务必使用 https 访问，不然无法打开。你可以选择使用面板自带的 proxy 添加域名并申请 ssl 证书，亦或者直接使用 cloudflared 隧道。</strong></p></blockquote><blockquote><p>同样的，你还可以使用 Cloudflared 隧道添加域名，而不选择使用 Proxy 。</p></blockquote>`,13),na={id:"pentaract",tabindex:"-1"},ta={class:"header-anchor",href:"#pentaract"},la={href:"https://github.com/Dominux/Pentaract",target:"_blank",rel:"noopener noreferrer"},oa=a("blockquote",null,[a("p",null,"不建议使用，目前 Bug 众多，而且对 Telegram 账号有一定要求，目前暂不清楚 Telegram 限制账号的评定标准。")],-1),ra=a("p",null,"可以自行构建或者使用使用我构建的成品。由于该应用需要使用具有超级管理员权限的 PostgreSQL ，故不可使用 Serv00 自带的 PostgreSQL ，需要远程连接。",-1),ia={href:"https://pan.rappit.site/download/%E6%8D%AF%E9%A5%AC/pentaract-freebsd_X64.tar.gz",target:"_blank",rel:"noopener noreferrer"},pa=t(`<p>前端构建简单，这里不再赘述，而且由于其 <code>Dockerfile</code> 内构建前端使用的是 Node.js 21 而目前 FreeBSD Port 最高只有 Node.js 20 ，故不推荐在 FreeBSD 上直接构建，可以使用 GItHub Actions 进行构建，或是自己在 Node.js 21 的环境下构建再复制，甚至干脆直接从作者预构建的 Docker 镜像内打包出来使用。（经过测试，使用 Nodejs20 构建也可以正常使用。）</p><p>Serv00 上的构建法：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 切换 Node.js 版本为 Nodejs20</span>
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">node</span><span class="token operator">=</span>node20
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">npm</span><span class="token operator">=</span>npm20
<span class="token comment"># 全局安装 pnpm</span>
<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">pnpm</span>
<span class="token builtin class-name">source</span> ~/.bashrc
<span class="token comment"># 构建前端</span>
<span class="token function">pnpm</span> <span class="token function">install</span>
<span class="token assign-left variable">VITE_API_BASE</span><span class="token operator">=</span><span class="token string">&#39;/api&#39;</span> <span class="token function">pnpm</span> run build
<span class="token comment"># 移动构建产物到工作目录</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ~/pentaract/ui <span class="token operator">&amp;&amp;</span> <span class="token function">cp</span> <span class="token parameter variable">-R</span> ./dist/* ~/pentaract/ui
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>后端的构建，可以使用 GItHub Actions ，或者本地 FreeBSD 虚拟机，甚至直接在 Serv00 上构建。这里记录一下在 Serv00 上构建的方法：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 克隆仓库到 Serv00 上</span>
<span class="token function">git</span> clone https://github.com/Dominux/Pentaract <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> Pentaract/pentaract
<span class="token comment"># 构建</span>
<span class="token assign-left variable">LIBCLANG_PATH</span><span class="token operator">=</span>/usr/local/llvm16/lib cpuset <span class="token parameter variable">-l</span> <span class="token number">0</span> <span class="token function">cargo</span> build <span class="token parameter variable">--release</span>
<span class="token comment"># 移动构建产物到工作目录</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> ~/pentaract <span class="token operator">&amp;&amp;</span> <span class="token function">cp</span> ./target/release/pentaract ~/pentaract/pentaract
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),da={href:"https://supabase.com/",target:"_blank",rel:"noopener noreferrer"},ca=t(`<p>接着在 <code>~/pentaract</code> 路径下新建一个启动脚本，按照要求填入所有的环境变量：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> start.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/bash
export PORT=xxxx
export WORKERS=4
export CHANNEL_CAPACITY=32
export SUPERUSER_EMAIL=xxxx@xxxx.com
export SUPERUSER_PASS=xxxx
export ACCESS_TOKEN_EXPIRE_IN_SECS=1800
export REFRESH_TOKEN_EXPIRE_IN_DAYS=14
export SECRET_KEY=xxx
export TELEGRAM_API_BASE_URL=https://api.telegram.org
export DATABASE_USER=xxxx
export DATABASE_PASSWORD=xxxx
export DATABASE_NAME=xxxx
export DATABASE_HOST=xxxx
export DATABASE_PORT=5432
chmod +x pentaract &amp;&amp; exec ./pentaract
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>给启动脚本赋权：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x start.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><s>前端的 <code>index-22eec6d1.js</code> 文件内的 <code>http://localhost:8000</code> 需要更改为 serv00 的 url 或者 ip:port 。你可以去文件管理中编辑，查找替换即可，也可以使用 sed 命令简单更改一下：</s> 已经重新构建前端并替换，现无需此步。</p><p>测试运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./start.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用 pm2 管理：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./start.sh <span class="token parameter variable">--name</span> pentaract
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,9),ua={id:"onelist",tabindex:"-1"},va={class:"header-anchor",href:"#onelist"},ma={href:"https://github.com/msterzhang/onelist",target:"_blank",rel:"noopener noreferrer"},ba=t(`<p>原作者似乎已经弃坑，故我的仓库没有做自动检测构建。但是体验还不错，有 Emby 既视感了，配合小雅的 Alist 岂不美哉。</p><p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 OneList 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载 OneList</span>
<span class="token function">wget</span> https://github.com/k0baya/onelist-freebsd/releases/download/v2.0.5/onelist
<span class="token comment"># 初始化配置</span>
<span class="token function">chmod</span> +x onelist <span class="token operator">&amp;&amp;</span> ./onelist <span class="token parameter variable">-run</span> config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着回到 Panel 中，进入 File manager 选项卡，进入 OneList 所在路径，可以看到一个名为 <code>config.env</code> 的文件，右键点击，选择 View/Edit &gt; Source Editor，进行编辑：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 服务设置</span>
<span class="token comment"># 注意要改为未被占用的端口</span>
<span class="token assign-left variable">API_PORT</span><span class="token operator">=</span><span class="token number">5245</span>
<span class="token assign-left variable">FaviconicoUrl</span><span class="token operator">=</span>https://wework.qpic.cn/wwpic/818353_fizV30xbQCGPQRP_1677394564/0
<span class="token assign-left variable">API_SECRET</span><span class="token operator">=</span>fRVvjcNd11gYGI85StVaeCtPVSmJTRRE

<span class="token comment"># Env有两种模式，Debug及Release，主要用在数据库为mysql时候，需要注意修改Env环境和mysql密码对应</span>
<span class="token assign-left variable">Env</span><span class="token operator">=</span>Debug

<span class="token comment"># 管理员账户设置，用于初始化管理员账户</span>
<span class="token assign-left variable">UserEmail</span><span class="token operator">=</span>xxxx.@qq.com
<span class="token assign-left variable">UserPassword</span><span class="token operator">=</span>xxxxx

<span class="token comment"># 数据库设置</span>
<span class="token assign-left variable">DB_DRIVER</span><span class="token operator">=</span>sqlite
<span class="token assign-left variable">DB_USER</span><span class="token operator">=</span>root
<span class="token assign-left variable">DbName</span><span class="token operator">=</span>onelist

<span class="token comment"># 如果上面DB_DRIVER类型为mysql，就需要正确填下以下参数</span>
<span class="token assign-left variable">DB_PASSWORD_Debug</span><span class="token operator">=</span><span class="token number">123456</span>
<span class="token assign-left variable">DB_PASSWORD_Release</span><span class="token operator">=</span><span class="token number">123456</span>

<span class="token comment"># TheMovieDb Key</span>
<span class="token comment"># 在https://www.themoviedb.org网站申请</span>
<span class="token assign-left variable">KeyDb</span><span class="token operator">=</span>22f10ca52f109158ac7fe064ebbcf697
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你可以按照自己的需求配置端口、管理员账户、数据库。 MySQL 性能更好哦~</p><p>测试运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./onelist <span class="token parameter variable">-run</span> server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用 pm2 管理：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./onelist -- <span class="token parameter variable">-run</span> server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,14),ha={id:"warpgpt",tabindex:"-1"},ka={class:"header-anchor",href:"#warpgpt"},ga={href:"https://github.com/oliverkirk-sudo/WarpGPT",target:"_blank",rel:"noopener noreferrer"},fa=a("p",null,"这个没什么多说的，可以使用 access_Token 作为 API Key 请求 ChatGPT 接口，也就是所谓的 chat2api 。配合前文的 Refresh-gpt-chat 就可以把永久有效期的 Refresh_token 作为 API Key 来使用，十分的好用。",-1),xa={href:"https://github.com/k0baya/warpgpt-freebsd",target:"_blank",rel:"noopener noreferrer"},_a=t(`<p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 WarpGPT 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载二进制文件</span>
<span class="token function">wget</span> https://github.com/k0baya/warpgpt-freebsd/releases/download/latest/warpgpt <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x warpgpt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>添加启动脚本：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> start.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/bash
export TMPDIR=&quot;<span class="token environment constant">$PWD</span>&quot;
chmod +x warpgpt &amp;&amp; exec ./warpgpt
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>给启动脚本赋权：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x start.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>配置环境变量：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> .env <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
proxy = &quot;http://127.0.0.1:10809&quot;   #代理地址 （选填）
port = 5000                        #程序运行端口
host = &#39;127.0.0.1&#39;                 #可访问ip，0.0.0.0允许所有ip
verify = false                     #是否对访问进行验证
auth_key = &quot;&quot;                      #若开启访问验证，则需要在Header中添加AuthKey字段，且值为auth_key的值才能访问 （选填）
arkose_must = false                #是否强行gpt3.5进行验证
OpenAI_HOST = &quot;chat.openai.com&quot;    #openai网页api接口地址 （选填）
openai_api_host = &quot;api.openai.com&quot; #openai官方api接口 （选填）
proxy_pool_url=&quot;&quot;                  #ipidea代理池链接 （选填）
#示例http://api.proxy.ipidea.io/getProxyIp?num=10&amp;return_type=json&amp;lb=1&amp;sb=0&amp;flow=1&amp;regions=us&amp;protocol=http，根据访问频次设置num值
log_level = &quot;debug&quot;                #日志等级

redis_address = &quot;127.0.0.1:6379&quot;   #redis地址（若不开启代理池可选填）
redis_passwd = &quot;&quot;                  #redis密码
redis_db = 0                       #选择的redis数据库
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,12),ya={href:"https://docs.serv00.com/Redis/",target:"_blank",rel:"noopener noreferrer"},qa=t(`<p>使用 pm2 管理运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start <span class="token function">bash</span> <span class="token parameter variable">--name</span> warpgpt -- start.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),Sa={id:"coze-discord-proxy",tabindex:"-1"},Pa={class:"header-anchor",href:"#coze-discord-proxy"},Ea={href:"https://github.com/deanxv/coze-discord-proxy",target:"_blank",rel:"noopener noreferrer"},Aa=a("p",null,"代理 Discord 对话 Coze-Bot ，实现以 API 形式请求 GPT4 模型，提供对话、文生图、图生文、知识库检索等功能。功能不多赘述，详细去源仓库查看。",-1),Ra={href:"https://github.com/k0baya/coze-discord-proxy-freebsd",target:"_blank",rel:"noopener noreferrer"},Ta={href:"https://linux.do/u/reno/summary",target:"_blank",rel:"noopener noreferrer"},wa=t(`<p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Coze-discord-proxy 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 下载二进制文件</span>
<span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/k0baya/coze-discord-proxy-freebsd/releases/latest<span class="token variable">)</span></span>
<span class="token assign-left variable">asset_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&#39;.assets[] | select(.name != &quot;source code&quot;) | .browser_download_url&#39;</span><span class="token variable">)</span></span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-o</span> coze-discord-proxy <span class="token string">&quot;<span class="token variable">$asset_url</span>&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x coze-discord-proxy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>添加启动脚本：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> start.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/bash
# 根据你的需求自行填入环境变量
export PORT=&quot;PORT&quot;
export USER_AUTHORIZATION=&quot;XXXXXX&quot;
export BOT_TOKEN=&quot;XXXXXX&quot;
export GUILD_ID=&quot;XXXXXX&quot;
export COZE_BOT_ID=&quot;XXXXXX&quot;
export PROXY_SECRET=&quot;XXXXXX&quot;
export CHANNEL_ID=&quot;XXXXXX&quot;
export TZ=&quot;Asia/Shanghai&quot;
export DATA_GYM_CACHE_DIR=&quot;<span class="token environment constant">$PWD</span>&quot;
chmod +x coze-discord-proxy &amp;&amp; exec ./coze-discord-proxy
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>给启动脚本赋权：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x coze-discord-proxy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>添加多机器人配置文件：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> app/coze-discord-proxy/data/config
<span class="token function">touch</span> app/coze-discord-proxy/data/config/bot_config.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后回到 Panel 中，进入 File manager 选项卡，进入 <code>bot_config.json</code> 所在路径，右键点击它，选择 View/Edit &gt; Source Editor，进行编辑：</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;proxySecret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// 接口请求密钥(PROXY_SECRET)(注意:此密钥在环境变量PROXY_SECRET中存在时该Bot才可以被匹配到!)</span>
    <span class="token property">&quot;cozeBotId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12***************31&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// coze托管的机器人ID</span>
    <span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;gpt-3.5&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;gpt-3.5-16k&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 模型名称(数组格式)(与请求参数中的model对应,如请求中的model在该json中未匹配到则会抛出异常)</span>
    <span class="token property">&quot;channelId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12***************56&quot;</span>
    <span class="token comment">// [可选]discord频道ID(机器人必须在此频道所在的服务器)(目前版本下该参数仅用来活跃机器人)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;proxySecret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cozeBotId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12***************64&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;gpt-4&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;gpt-4-16k&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;channelId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12***************78&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;proxySecret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;789&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cozeBotId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12***************12&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;model&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;dall-e-3&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;channelId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12***************24&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 pm2 管理运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start <span class="token function">bash</span> <span class="token parameter variable">--name</span> coze-discord-proxy -- start.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,16),Da={id:"memos",tabindex:"-1"},Na={class:"header-anchor",href:"#memos"},La={href:"https://github.com/usememos/memos",target:"_blank",rel:"noopener noreferrer"},Ua=a("p",null,"一款开源、轻量级的笔记服务。轻松捕捉并分享您的精彩想法。",-1),Ma={href:"https://github.com/usememos/memos/blob/edc7645086d285f50e484861705ffee3a626f97a/server/server.go#L85",target:"_blank",rel:"noopener noreferrer"},Oa={href:"https://github.com/k0baya/memos-binary",target:"_blank",rel:"noopener noreferrer"},za=t(`<p>首先在 Panel 中放行<strong>两个相邻的端口</strong>，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>刚刚放行的<strong>两个相邻的端口中小的那一个</strong></td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token assign-left variable">API_URL</span><span class="token operator">=</span><span class="token string">&quot;https://api.github.com/repos/k0baya/memos-binary/releases/latest&quot;</span>
<span class="token assign-left variable">DOWNLOAD_URL</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> $API_URL <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&quot;.assets[] | select(.name == <span class="token entity" title="\\&quot;">\\&quot;</span>memos-freebsd-amd64.tar.gz<span class="token entity" title="\\&quot;">\\&quot;</span>) | .browser_download_url&quot;</span><span class="token variable">)</span></span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token variable">$DOWNLOAD_URL</span> <span class="token parameter variable">-o</span> memos-freebsd-amd64.tar.gz
<span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> memos-freebsd-amd64.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> memos-freebsd-amd64.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x memos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关于运行，有两种方式进行：</p><p>① SQLite</p><p>如果选择使用 SQLite 作为数据库运行，则可以直接运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 假定你的数据文件打算存储在 /home/username/domains/xxx.USERNAME.serv00.net/public_html/data</span>
<span class="token comment"># 新建数据文件夹</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/username/domains/xxx.USERNAME.serv00.net/public_html/data
<span class="token comment"># 测试运行</span>
./memos <span class="token parameter variable">--mode</span> prod <span class="token parameter variable">--port</span> PORT <span class="token parameter variable">--data</span> /home/username/domains/xxx.USERNAME.serv00.net/public_html/data
<span class="token comment"># 使用 pm2 管理</span>
pm2 start ./memos <span class="token parameter variable">--name</span> memos -- <span class="token parameter variable">--mode</span> prod <span class="token parameter variable">--port</span> PORT <span class="token parameter variable">--data</span> /home/username/domains/xxx.USERNAME.serv00.net/public_html/data
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>② 外接 MySQL / PostgreSQL</p><p>你可以使用面板自带的 MySQL / PostgreSQL 新建数据库，或者使用其他平台提供的远程数据库：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 假定你的数据文件打算存储在 /home/username/domains/xxx.USERNAME.serv00.net/public_html/data</span>
<span class="token comment"># 新建数据文件夹</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /home/username/domains/xxx.USERNAME.serv00.net/public_html/data
<span class="token comment"># 测试运行（MySQL）（MySQL需要管理员权限，你可以选择远程连接）</span>
./memos <span class="token parameter variable">--mode</span> prod <span class="token parameter variable">--port</span> PORT <span class="token parameter variable">--data</span> /home/username/domains/xxx.USERNAME.serv00.net/public_html/data <span class="token parameter variable">--driver</span> mysql <span class="token parameter variable">--dsn</span> mysql://root:password123@localhost:3306/mydb
<span class="token comment"># 测试运行（PostgreSQL）</span>
./memos <span class="token parameter variable">--mode</span> prod <span class="token parameter variable">--port</span> PORT <span class="token parameter variable">--data</span> /home/username/domains/xxx.USERNAME.serv00.net/public_html/data <span class="token parameter variable">--driver</span> postgres <span class="token parameter variable">--dsn</span> postgresql://user:password123@localhost:5432/mydb?sslmode<span class="token operator">=</span>disable
<span class="token comment"># 使用 pm2 管理（MySQL）（MySQL需要管理员权限，你可以选择远程连接）</span>
pm2 start ./memos <span class="token parameter variable">--name</span> memos -- <span class="token parameter variable">--mode</span> prod <span class="token parameter variable">--port</span> PORT <span class="token parameter variable">--data</span> /home/username/domains/xxx.USERNAME.serv00.net/public_html/data <span class="token parameter variable">--driver</span> mysql <span class="token parameter variable">--dsn</span> mysql://root:password123@localhost:3306/mydb
<span class="token comment"># 使用 pm2 管理（PostgreSQL）</span>
pm2 start ./memos <span class="token parameter variable">--name</span> memos -- <span class="token parameter variable">--mode</span> prod <span class="token parameter variable">--port</span> PORT <span class="token parameter variable">--data</span> /home/username/domains/xxx.USERNAME.serv00.net/public_html/data <span class="token parameter variable">--driver</span> postgres <span class="token parameter variable">--dsn</span> postgresql://user:password123@localhost:5432/mydb?sslmode<span class="token operator">=</span>disable
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="frps" tabindex="-1"><a class="header-anchor" href="#frps"><span>Frps</span></a></h2>`,14),ja={href:"https://gofrp.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"},Ha={href:"https://blog.theyouyi.site/archives/serv00-frps",target:"_blank",rel:"noopener noreferrer"},Ca=t(`<p>首先在 Panel 中放行两个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来映射转发内网服务的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><blockquote><p>同样的，你可以设置多个域名使用 Proxy 指向同一个端口，在 Frpc 客户端配置中使用域名分发不同的服务。具体可以查阅官方文档。</p></blockquote><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/fatedier/frp/releases/latest<span class="token variable">)</span></span>
<span class="token assign-left variable">download_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> &#39;.assets<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> select<span class="token punctuation">(</span>.name <span class="token operator">|</span> contains<span class="token punctuation">(</span><span class="token string">&quot;freebsd_amd64.tar.gz&quot;</span><span class="token punctuation">)</span><span class="token variable">)</span></span> <span class="token operator">|</span> .browser_download_url&#39;<span class="token punctuation">)</span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">&quot;<span class="token variable">$download_url</span>&quot;</span> <span class="token parameter variable">-o</span> frp_freebsd_amd64.tar.gz 
<span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> frp_freebsd_amd64.tar.gz --strip-components<span class="token operator">=</span><span class="token number">1</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> frp_freebsd_amd64.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接着编辑配置文件：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 按照自己的实际情况和需求进行配置，这里只做最简单的http转发配置示例</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> frps.toml <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
bindPort = 监听端口
vhostHTTPPort = 映射转发端口
auth.token = &quot;密码&quot;
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./frps -- <span class="token parameter variable">-c</span> frps.toml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>客户端配置示例：</p><div class="language-toml line-numbers-mode" data-ext="toml" data-title="toml"><pre class="language-toml"><code><span class="token key property">serverAddr</span> <span class="token punctuation">=</span> <span class="token string">&quot;x.x.x.x&quot;</span>
<span class="token key property">serverPort</span> <span class="token punctuation">=</span> Frps 的监听端口
<span class="token key property">auth.token</span> <span class="token punctuation">=</span> <span class="token string">&quot;密码&quot;</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">proxies</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;web&quot;</span>
<span class="token key property">type</span> <span class="token punctuation">=</span> <span class="token string">&quot;http&quot;</span>
<span class="token key property">localPort</span> <span class="token punctuation">=</span> <span class="token number">80</span>
<span class="token key property">customDomains</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;www.yourdomain.com&quot;</span><span class="token punctuation">]</span>

<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token table class-name">proxies</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token key property">name</span> <span class="token punctuation">=</span> <span class="token string">&quot;web2&quot;</span>
<span class="token key property">type</span> <span class="token punctuation">=</span> <span class="token string">&quot;http&quot;</span>
<span class="token key property">localPort</span> <span class="token punctuation">=</span> <span class="token number">8080</span>
<span class="token key property">customDomains</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">&quot;www.yourdomain2.com&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,13),Ia={id:"rclone",tabindex:"-1"},Fa={class:"header-anchor",href:"#rclone"},Ba={href:"https://rclone.org/",target:"_blank",rel:"noopener noreferrer"},Wa=a("p",null,"Rclone 是一款管理云存储文件的命令行程序。它功能丰富，可替代云供应商的网络存储界面。超过 70 种云存储产品支持 Rclone，包括 S3 对象存储、企业和消费者文件存储服务以及标准传输协议。",-1),Ka={href:"https://rclone.org/docs/",target:"_blank",rel:"noopener noreferrer"},Ga=t(`<p>如果你需要使用 Rclone 的 web ui ，你可以按照前文所述的大多数应用一样，先放行端口，添加域名，申请好 SSL 证书，并进入其目录下的 <code>public_html</code> 路径下再进行程序本体的下载部署。</p><p>下载最新版 Rclone：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/rclone/rclone/releases/latest<span class="token variable">)</span></span>
<span class="token assign-left variable">download_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> &#39;.assets<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> select<span class="token punctuation">(</span>.name <span class="token operator">|</span> contains<span class="token punctuation">(</span><span class="token string">&quot;-freebsd-amd64.zip&quot;</span><span class="token punctuation">)</span><span class="token variable">)</span></span> <span class="token operator">|</span> .browser_download_url<span class="token string">&#39;)
curl -L &quot;$download_url&quot; -o rclone-freebsd-amd64.zip
outer_folder=$(unzip -l rclone-freebsd-amd64.zip | grep &#39;</span>/<span class="token string">&#39; | sed -n &#39;</span>1p<span class="token string">&#39; | sed &#39;</span>s<span class="token comment">#^.* \\([^/]*\\)/.*$#\\1#&#39;)</span>
<span class="token function">unzip</span> rclone-freebsd-amd64.zip
<span class="token function">mv</span> <span class="token string">&quot;<span class="token variable">$outer_folder</span>&quot;</span>/* <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token string">&quot;<span class="token variable">$outer_folder</span>&quot;</span> rclone-freebsd-amd64.zip
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),$a=a("code",null,"mount",-1),Va={href:"https://github.com/rclone/rclone/issues/7432",target:"_blank",rel:"noopener noreferrer"},Xa={href:"https://github.com/rclone/rclone/issues/5843#issuecomment-1784149722",target:"_blank",rel:"noopener noreferrer"},Qa=t(`<p>下载 v1.63.1 版本 Rclone ：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-L</span> https://github.com/rclone/rclone/releases/download/v1.63.1/rclone-v1.63.1-freebsd-amd64.zip <span class="token parameter variable">-o</span> rclone-freebsd-amd64.zip
<span class="token assign-left variable">outer_folder</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">unzip</span> <span class="token parameter variable">-l</span> rclone-freebsd-amd64.zip <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&#39;1p&#39;</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">&#39;s#^.* \\([^/]*\\)/.*$#\\1#&#39;</span><span class="token variable">)</span></span>
<span class="token function">unzip</span> rclone-freebsd-amd64.zip
<span class="token function">mv</span> <span class="token string">&quot;<span class="token variable">$outer_folder</span>&quot;</span>/* <span class="token builtin class-name">.</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token string">&quot;<span class="token variable">$outer_folder</span>&quot;</span> rclone-freebsd-amd64.zip
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置 Rclone 的存储：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./rclone config
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>启动 web ui：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./rclone rcd --rc-web-gui --rc-user 用户名 --rc-pass 密码 --rc-addr :端口
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>pm2 管理 web ui：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./rclone -- rcd --rc-web-gui --rc-user 用户名 --rc-pass 密码 --rc-addr :端口
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,8),Ya={id:"cloudreve",tabindex:"-1"},Za={class:"header-anchor",href:"#cloudreve"},Ja={href:"https://cloudreve.org/",target:"_blank",rel:"noopener noreferrer"},as=a("p",null,"Cloudreve 可助你即刻构建出兼备自用或公用的网盘服务，通过多种存储策略的支持、虚拟文件系统等特性实现灵活的文件管理体验。",-1),ss={href:"https://github.com/k0baya/cloudreve-freebsd",target:"_blank",rel:"noopener noreferrer"},es=a("code",null,"static",-1),ns=t(`<p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 Cloudreve 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/k0baya/cloudreve-freebsd/releases/latest<span class="token variable">)</span></span>
<span class="token assign-left variable">download_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> &#39;.assets<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> select<span class="token punctuation">(</span>.name <span class="token operator">|</span> contains<span class="token punctuation">(</span><span class="token string">&quot;freebsd-amd64.tar.gz&quot;</span><span class="token punctuation">)</span><span class="token variable">)</span></span> <span class="token operator">|</span> .browser_download_url&#39;<span class="token punctuation">)</span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">&quot;<span class="token variable">$download_url</span>&quot;</span> <span class="token parameter variable">-o</span> cloudreve-freebsd-amd64.tar.gz 
<span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> cloudreve-freebsd-amd64.tar.gz
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> cloudreve-freebsd-amd64.tar.gz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Cloudreve 在首次启动时，会创建初始管理员账号，请注意保管管理员密码，此密码只会在首次启动时出现。如果您忘记初始管理员密码，需要删除同级目录下的 <code>cloudreve.db</code> ，重新启动主程序以初始化新的管理员账户。</p><p>Cloudreve 默认会监听 <code>5212</code> 端口。首次启动时，Cloudreve 会在同级目录下创建名为 <code>conf.ini</code> 的配置文件，你可以修改此文件进行一些参数的配置（比如端口），保存后需要重新启动 Cloudreve 生效。</p><p>一个完整的配置文件示例如下：</p><div class="language-ini line-numbers-mode" data-ext="ini" data-title="ini"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">System</span><span class="token punctuation">]</span></span>
<span class="token comment">; 运行模式</span>
<span class="token key attr-name">Mode</span> <span class="token punctuation">=</span> <span class="token value attr-value">master</span>
<span class="token comment">; 监听端口</span>
<span class="token key attr-name">Listen</span> <span class="token punctuation">=</span> <span class="token value attr-value">:5212</span>
<span class="token comment">; 是否开启 Debug</span>
<span class="token key attr-name">Debug</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>
<span class="token comment">; Session 密钥, 一般在首次启动时自动生成</span>
<span class="token key attr-name">SessionSecret</span> <span class="token punctuation">=</span> <span class="token value attr-value">23333</span>
<span class="token comment">; Hash 加盐, 一般在首次启动时自动生成</span>
<span class="token key attr-name">HashIDSalt</span> <span class="token punctuation">=</span> <span class="token value attr-value">something really hard to guss</span>
<span class="token comment">; 呈递客户端 IP 时使用的 Header</span>
<span class="token key attr-name">ProxyHeader</span> <span class="token punctuation">=</span> <span class="token value attr-value">X-Forwarded-For</span>

<span class="token comment">; SSL 相关</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">SSL</span><span class="token punctuation">]</span></span>
<span class="token comment">; SSL 监听端口</span>
<span class="token key attr-name">Listen</span> <span class="token punctuation">=</span> <span class="token value attr-value">:443</span>
<span class="token comment">; 证书路径</span>
<span class="token key attr-name">CertPath</span> <span class="token punctuation">=</span> <span class="token value attr-value">C:\\Users\\i\\Documents\\fullchain.pem</span>
<span class="token comment">; 私钥路径</span>
<span class="token key attr-name">KeyPath</span> <span class="token punctuation">=</span> <span class="token value attr-value">C:\\Users\\i\\Documents\\privkey.pem</span>

<span class="token comment">; 启用 Unix Socket 监听</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">UnixSocket</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">Listen</span> <span class="token punctuation">=</span> <span class="token value attr-value">/run/cloudreve/cloudreve.sock</span>
<span class="token comment">; 设置产生的 socket 文件的权限</span>
<span class="token key attr-name">Perm</span> <span class="token punctuation">=</span> <span class="token value attr-value">0666</span>

<span class="token comment">; 数据库相关，如果你只想使用内置的 SQLite 数据库，这一部分直接删去即可</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Database</span><span class="token punctuation">]</span></span>
<span class="token comment">; 数据库类型，目前支持 sqlite/mysql/mssql/postgres</span>
<span class="token key attr-name">Type</span> <span class="token punctuation">=</span> <span class="token value attr-value">mysql</span>
<span class="token comment">; MySQL 端口</span>
<span class="token key attr-name">Port</span> <span class="token punctuation">=</span> <span class="token value attr-value">3306</span>
<span class="token comment">; 用户名</span>
<span class="token key attr-name">User</span> <span class="token punctuation">=</span> <span class="token value attr-value">root</span>
<span class="token comment">; 密码</span>
<span class="token key attr-name">Password</span> <span class="token punctuation">=</span> <span class="token value attr-value">root</span>
<span class="token comment">; 数据库地址</span>
<span class="token key attr-name">Host</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1</span>
<span class="token comment">; 数据库名称</span>
<span class="token key attr-name">Name</span> <span class="token punctuation">=</span> <span class="token value attr-value">v3</span>
<span class="token comment">; 数据表前缀</span>
<span class="token key attr-name">TablePrefix</span> <span class="token punctuation">=</span> <span class="token value attr-value">cd_</span>
<span class="token comment">; 字符集</span>
<span class="token key attr-name">Charset</span> <span class="token punctuation">=</span> <span class="token value attr-value">utf8mb4</span>
<span class="token comment">; SQLite 数据库文件路径</span>
<span class="token key attr-name">DBFile</span> <span class="token punctuation">=</span> <span class="token value attr-value">cloudreve.db</span>
<span class="token comment">; 进程退出前安全关闭数据库连接的缓冲时间</span>
<span class="token key attr-name">GracePeriod</span> <span class="token punctuation">=</span> <span class="token value attr-value">30</span>
<span class="token comment">; 使用 Unix Socket 连接到数据库</span>
<span class="token key attr-name">UnixSocket</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>

<span class="token comment">; 从机模式下的配置</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Slave</span><span class="token punctuation">]</span></span>
<span class="token comment">; 通信密钥</span>
<span class="token key attr-name">Secret</span> <span class="token punctuation">=</span> <span class="token value attr-value">1234567891234567123456789123456712345678912345671234567891234567</span>
<span class="token comment">; 回调请求超时时间 (s)</span>
<span class="token key attr-name">CallbackTimeout</span> <span class="token punctuation">=</span> <span class="token value attr-value">20</span>
<span class="token comment">; 签名有效期</span>
<span class="token key attr-name">SignatureTTL</span> <span class="token punctuation">=</span> <span class="token value attr-value">60</span>

<span class="token comment">; 跨域配置</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">CORS</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">AllowOrigins</span> <span class="token punctuation">=</span> <span class="token value attr-value">*</span>
<span class="token key attr-name">AllowMethods</span> <span class="token punctuation">=</span> <span class="token value attr-value">OPTIONS,GET,POST</span>
<span class="token key attr-name">AllowHeaders</span> <span class="token punctuation">=</span> <span class="token value attr-value">*</span>
<span class="token key attr-name">AllowCredentials</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>
<span class="token key attr-name">SameSite</span> <span class="token punctuation">=</span> <span class="token value attr-value">Default</span>
<span class="token key attr-name">Secure</span> <span class="token punctuation">=</span> <span class="token value attr-value">lse</span>

<span class="token comment">; Redis 相关</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">Redis</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">Server</span> <span class="token punctuation">=</span> <span class="token value attr-value">127.0.0.1:6379</span>
<span class="token key attr-name">Password</span> <span class="token punctuation">=</span>
<span class="token key attr-name">DB</span> <span class="token punctuation">=</span> <span class="token value attr-value">0</span>

<span class="token comment">; 从机配置覆盖</span>
<span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">OptionOverwrite</span><span class="token punctuation">]</span></span>
<span class="token comment">; 可直接使用 \`设置名称 = 值\` 的格式覆盖</span>
<span class="token key attr-name">max_worker_num</span> <span class="token punctuation">=</span> <span class="token value attr-value">50</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你可以使用 <code>vim</code> 或者 Panel 中的 File manager 选项卡，进入 <code>conf.ini</code> 所在路径路径，右键点击，选择 View/Edit &gt; Source Editor ，进行编辑。</p><p>修改完配置文件后，测试启动：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./cloudreve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用 pm2 管理：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./cloudreve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,15),ts={id:"panindex",tabindex:"-1"},ls={class:"header-anchor",href:"#panindex"},os={href:"https://github.com/px-org/PanIndex",target:"_blank",rel:"noopener noreferrer"},rs=a("p",null,"一个简易的网盘目录列表。",-1),is={href:"https://github.com/k0baya/panindex-freebsd",target:"_blank",rel:"noopener noreferrer"},ps=t(`<blockquote><p>后台地址（默认）：<code>http://ip:port/admin</code> 默认账号：<code>admin</code> 默认密码：<code>PanIndex</code></p></blockquote><p>首先在 Panel 中放行一个端口，接着按照下表 Add a New Website ：</p><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Domain</td><td><code>xxx.USERNAME.serv00.net</code>（也可以把原有的 USERNAME.serv00.net 删掉后重新添加）</td></tr><tr><td>Website Type</td><td>proxy</td></tr><tr><td>Proxy Target</td><td>localhost</td></tr><tr><td>Proxy URL</td><td>留空</td></tr><tr><td>Proxy port</td><td>你准备用来部署 PanIndex 的端口</td></tr><tr><td>Use HTPPS</td><td>False</td></tr><tr><td>DNS support</td><td>True</td></tr></tbody></table><p>添加完新站点后，继续点击上方的 Manage SSL certificates ，接着在出口 IP 的右侧点击 Manage ，再点击 Add certificate ：</p><table><thead><tr><th>Type</th><th>Domain</th></tr></thead><tbody><tr><td>Generate Let’s Encrypted certificate</td><td>与刚刚添加的站点域名保持一致（如果是原有的<code>USERNAME.serv00.net</code> ，可以省略此步）</td></tr></tbody></table><p>接着 SSH 登入，并进入刚刚你新建的域名目录下的 <code>public_html</code> 路径下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token assign-left variable">release_info</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://api.github.com/repos/k0baya/panindex-freebsd/releases/latest<span class="token variable">)</span></span>
<span class="token assign-left variable">asset_url</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$release_info</span>&quot;</span> <span class="token operator">|</span> jq <span class="token parameter variable">-r</span> <span class="token string">&#39;.assets[] | select(.name != &quot;source code&quot;) | .browser_download_url&#39;</span><span class="token variable">)</span></span>
<span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-o</span> panindex <span class="token string">&quot;<span class="token variable">$asset_url</span>&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x panindex
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建配置文件：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> config.json <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
{
  &quot;host&quot;: &quot;0.0.0.0&quot;,
  &quot;port&quot;: 5238,
  &quot;log_level&quot;: &quot;info&quot;,
  &quot;data_path&quot;: &quot;&quot;,
  &quot;cert_file&quot;: &quot;&quot;,
  &quot;key_file&quot;: &quot;&quot;,
  &quot;config_query&quot;: &quot;&quot;,
  &quot;db_type&quot;: &quot;&quot;,
  &quot;dsn&quot;: &quot;&quot;,
  &quot;ui&quot;: &quot;&quot;
}
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>数据库支持 sqlite (默认)、mysql、postgres ，如果需要接入 MySQL 或者 PostgreSQL ，请写成数据库链接的方式填入 dsn 。注意，如果是 Serv00 自带的 PostgreSQL ，请在数据库链接最末加上 <code>?sslmode=disable</code> 以禁用 SSL 连接。</p></blockquote><p>编写好配置文件后，测试运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>./panindex <span class="token parameter variable">-c</span><span class="token operator">=</span>config.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用 pm2 管理：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./panindex -- <span class="token parameter variable">-c</span><span class="token operator">=</span>config.json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,14),ds={id:"artalk",tabindex:"-1"},cs={class:"header-anchor",href:"#artalk"},us={href:"https://github.com/ArtalkJS/Artalk",target:"_blank",rel:"noopener noreferrer"},vs=t(`<h1 id="收尾工作" tabindex="-1"><a class="header-anchor" href="#收尾工作"><span>收尾工作</span></a></h1><p>听说 Serv00 会不定时重启机器，所以我们把 pm2 添加开机自启，可以保证每次重启都能由 pm2 调动 Alist 和 Cloudflared 。而且 Serv00 每三个月内必须要有一次登录面板或者 SSH 连接，不然会删号，也可以通过一个脚本解决问题，接下来我会详细说明。</p><h2 id="自动续期" tabindex="-1"><a class="header-anchor" href="#自动续期"><span>自动续期</span></a></h2><p>可以用青龙面板的自动任务定期登录 SSH 解决。在青龙面板中添加 Linux 依赖 <code>sshpass</code> ，然后添加定时任务：名称随意，命令/脚本 <code>sshpass -p &#39;密码&#39; ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -tt 用户名@地址 &quot;exit&quot;</code> ，定时规则 <code>1 1 1 * *</code>。这样就会每个月自动 ssh 连接一次，实现续期。</p><p>你还可以使用自身 SSH 自身的方式进行自动续期，操作如下： 进入一个自己喜欢的路径，使用 <code>cat</code> 命令新建 <code>auto-renew.sh</code> 脚本：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> auto-renew.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/bash

while true; do
  sshpass -p &#39;密码&#39; ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -tt 用户名@地址 &quot;exit&quot; &amp;
  sleep 259200  #30天为259200秒
done
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>记得把其中的密码、用户名、ssh 的地址修改为你自己的。 给 <code>auto-renew.sh</code>添加可执行权限：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x auto-renew.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>使用 pm2 启动：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 start ./auto-renew.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样就会每隔一个月自动执行一次 SSH 连接，自己 SSH 自己进行续期。</p><h2 id="自动启动" tabindex="-1"><a class="header-anchor" href="#自动启动"><span>自动启动</span></a></h2><p>听说 Serv00 的主机会不定时重启，所以需要添加自启任务。</p><p>在 Panel 中找到 Cron jobs 选项卡，使用 Add cron job 功能添加任务，Specify time 选择 After reboot，即为重启后运行。Form type 选择 Advanced，Command 写：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>/home/你的用户名/.npm-global/bin/pm2 resurrect
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>记得把你的用户名改为你的用户名</p></blockquote><p>添加完之后，在 SSH 窗口保存 pm2 的当前任务列表快照：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pm2 save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样每次 serv00 不定时重启任务时，都能自动调用 pm2 读取保存的任务列表快照，恢复任务列表。<strong>如果在保存了任务列表快照后又改变了任务 pm2 的任务列表，需要重新执行 <code>pm2 save</code> 以更新任务列表。</strong></p><h1 id="serv00-主机部署-go-proxy-bingai-一" tabindex="-1"><a class="header-anchor" href="#serv00-主机部署-go-proxy-bingai-一"><span>serv00 主机部署 go-proxy-bingai (一)</span></a></h1><h2 id="开始之前" tabindex="-1"><a class="header-anchor" href="#开始之前"><span>开始之前</span></a></h2>`,21),ms=a("li",null,"注册 cf 账号并绑定域名",-1),bs={href:"https://www.serv00.com/",target:"_blank",rel:"noopener noreferrer"},hs=t(`<h2 id="安装-go-proxy-bingai" tabindex="-1"><a class="header-anchor" href="#安装-go-proxy-bingai"><span>安装 go-proxy-bingai</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> ~/domains/bingai <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">cd</span> ~/domains/bingai <span class="token operator">&amp;&amp;</span> <span class="token function">wget</span> https://github.com/Harry-zklcdc/go-proxy-bingai/releases/download/v2.1.1/go-proxy-bingai-freebsd-amd64.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">tar</span> <span class="token parameter variable">-xzvf</span> go-proxy-bingai-freebsd-amd64.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-fr</span> go-proxy-bingai-freebsd-amd64.tar.gz <span class="token operator">&amp;&amp;</span> <span class="token function">chmod</span> +x go-proxy-bingai 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>项目地址</strong> 帮作者点个 <code>star</code> 吧</p>`,3),ks={href:"https://github.com/Harry-zklcdc/go-proxy-bingai",target:"_blank",rel:"noopener noreferrer"},gs=t(`<figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/3fb4b19417d7af5a57084d93d5b914f80866b719_2_690x345.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="安装-pm2" tabindex="-1"><a class="header-anchor" href="#安装-pm2"><span>安装 pm2</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">bash</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://raw.githubusercontent.com/k0baya/alist_repl/main/serv00/install-pm2.sh<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="编写-auto-renew-sh-可选" tabindex="-1"><a class="header-anchor" href="#编写-auto-renew-sh-可选"><span>编写 auto-renew.sh （可选）</span></a></h2><p>如果你不常登录，建议设置 30 日自动登陆一次，注意修改用户名、密码、ssh 的地址，并将文件保存在 domains 目录下，如果开启了 2FA，需要关闭。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
  sshpass <span class="token parameter variable">-p</span> <span class="token string">&#39;密码&#39;</span> <span class="token function">ssh</span> <span class="token parameter variable">-o</span> <span class="token assign-left variable">StrictHostKeyChecking</span><span class="token operator">=</span>no <span class="token parameter variable">-o</span> <span class="token assign-left variable">UserKnownHostsFile</span><span class="token operator">=</span>/dev/null <span class="token parameter variable">-tt</span> 用户名@地址 <span class="token string">&quot;exit&quot;</span> <span class="token operator">&amp;</span>
  <span class="token function">sleep</span> <span class="token number">2592000</span>  <span class="token comment">#30天为2592000秒</span>
<span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="编写-entrypoint-sh" tabindex="-1"><a class="header-anchor" href="#编写-entrypoint-sh"><span>编写 entrypoint.sh</span></a></h2><p>注意更换 Port 为你在 serv00 开放的端口号，并根据需求自行修改环境变量，并将文件保存在 bingai 目录下</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> entrypoint.sh <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
#!/bin/bash

# export Go_Proxy_BingAI_USER_TOKEN_1=&quot;xxx&quot;
# export Go_Proxy_BingAI_USER_TOKEN_2=&quot;xxx&quot;
# export USER_KievRPSSecAuth=&quot;xxx&quot;
# export USER_RwBf=&quot;xxx&quot;
# export USER_MUID=&quot;xxx&quot;
# export APIKEY=&quot;sk-xxx&quot;
# export BING_BASE_URL=&quot;https://www.bing.com&quot;
# export SYDNEY_BASE_URL=&quot;https://sydney.bing.com&quot;
# export HTTP_PROXY=&quot;http://172.17.0.1:18080&quot;
# export HTTPS_PROXY=&quot;http://172.17.0.1:18080&quot;
# export Go_Proxy_BingAI_AUTH_KEY=&quot;xxx&quot;
# export BYPASS_SERVER=&quot;https://bypass.zklcdc.xyz&quot; # 作者提供的通关站，建议自行搭建
export PORT=&quot;Port&quot;
chmod +x go-proxy-bingai &amp;&amp; ./go-proxy-bingai
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="搭建隧道" tabindex="-1"><a class="header-anchor" href="#搭建隧道"><span>搭建隧道</span></a></h2>`,10),fs={href:"https://one.dash.cloudflare.com/",target:"_blank",rel:"noopener noreferrer"},xs=a("code",null,"eyJ",-1),_s=a("code",null,"token",-1),ys=t(`<hr><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/534ebc8fa22d8e17e808fe6a6db0ddc6535aaf50_2_690x266.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>继续点击 Next，并添加域名，Service 选择 HTTP，URL 写 localhost:PORT，其中 PORT 为你服务对应的端口然后点击 Save Tunnel</p><h2 id="编写-ecosystem-config-js" tabindex="-1"><a class="header-anchor" href="#编写-ecosystem-config-js"><span>编写 ecosystem.config.js</span></a></h2><p>注意替换 <code>$username</code> 和 隧道的 <code>token</code> ，并将文件保存到 domains 目录下</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  apps: <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      name: <span class="token string">&quot;tunnel&quot;</span>,
      script: <span class="token string">&quot;./cloudflared&quot;</span>,
      cwd: <span class="token string">&quot;/home/<span class="token variable">$username</span>/domains/cloudflared&quot;</span>,
      args: <span class="token string">&quot;tunnel --edge-ip-version auto --protocol http2 --heartbeat-interval 10s run --token eyJ_***&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
      name: <span class="token string">&quot;auto-renew&quot;</span>,
      script: <span class="token string">&quot;./auto-renew.sh&quot;</span>,
      cwd: <span class="token string">&quot;/home/<span class="token variable">$username</span>/domains&quot;</span>,
      interpreter: <span class="token string">&quot;bash&quot;</span>
    <span class="token punctuation">}</span>,
    <span class="token punctuation">{</span>
      name: <span class="token string">&quot;entrypoint&quot;</span>,
      script: <span class="token string">&quot;./entrypoint.sh&quot;</span>,
      cwd: <span class="token string">&quot;/home/<span class="token variable">$username</span>/domains/bingai&quot;</span>,
      interpreter: <span class="token string">&quot;bash&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="一键启动" tabindex="-1"><a class="header-anchor" href="#一键启动"><span>一键启动</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span>  ~/domains <span class="token operator">&amp;&amp;</span> ~/.npm-global/bin/pm2 start ecosystem.config.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>启动后记得保存快照</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token operator">~</span><span class="token operator">/</span><span class="token punctuation">.</span>npm<span class="token operator">-</span><span class="token keyword">global</span><span class="token operator">/</span><span class="token builtin">bin</span><span class="token operator">/</span>pm2 save
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="一键关闭" tabindex="-1"><a class="header-anchor" href="#一键关闭"><span>一键关闭</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span>  ~/domains <span class="token operator">&amp;&amp;</span> ~/.npm-global/bin/pm2 <span class="token function">kill</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="开机自启" tabindex="-1"><a class="header-anchor" href="#开机自启"><span>开机自启</span></a></h2><p>在 Panel 中找到 Cron jobs 选项卡，使用 Add cron job 功能添加任务：</p><hr><h3 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h3>`,16),qs={href:"https://blog.rappit.site/2024/01/27/serv00_logs",target:"_blank",rel:"noopener noreferrer"};function Ss(Ps,Es){const e=o("ExternalLinkIcon");return r(),i("div",null,[d,a("p",null,[a("a",c,[s("这个平台"),n(e)]),s("是个 Virtual Host ，没有 Root ，还是 FreeBSD 的系统，不是 Linux ，不太好用。但是优点是隔离性差， Memory 和 vCPU 能短时间内超过 100% 进行调用。")]),u,a("p",null,[s("已经玩了不少时间了，起初看到 Github 上有使用 Serv00 搭建 Vless 节点的"),a("a",v,[s("仓库"),n(e)]),s(" ，就上手玩了一下，后来发现极其不稳， screen 运行的进程总是过一段时间就掉了（后经网友讨论确认为 Serv00 有时候会重启宿主机），又得 ssh 上去启动，相当不友好，且后来又发现了 Hax 这样的玩具，就对 Serv00 视如敝履了。")]),a("p",null,[s("但是这两天有"),a("a",m,[s("群友"),n(e)]),s("突然提醒我才想起，我在 Hax 上用的很舒服的 pm2 也可以在 Serv00 上使用，这个十年有效期的玩具突然显得有用了起来。")]),b,a("p",null,[s("Cloudflared 官方仓库并没有构建 FreeBSD 系统上能够使用的二进制文件，但是同样的，我找到了"),a("a",h,[s("第三方的构筑"),n(e)]),s("。使用第三方构筑的二进制文件，就能愉快的使用隧道了。")]),k,a("blockquote",null,[a("p",null,[s("关于设定 PHP 版本、插件、参数等配置均可参考文档的"),a("a",g,[s(".htaccess"),n(e)]),s("部分进行配置，由于 PHP 的应用部署实在是太简单，故本文不会过多介绍。")])]),f,a("p",null,[s("实际上在 serv00 的"),a("a",x,[s("文档"),n(e)]),s("中有搭建网站的示例，没错，示例就有 WordPress ，实际上 WordPress 确实可以搭建，十分简单好用。这里不做过多介绍，按照文档一步步操作即可。")]),_,a("h2",y,[a("a",q,[a("span",null,[a("a",S,[s("Lsky-Pro"),n(e)])])])]),a("p",null,[s("一开始看"),a("a",P,[s("兰空图床的文档"),n(e)]),s("没看到 webdav 功能的相关介绍，只看到几个我都不用的存储介质，遂不感兴趣的搁置了，然而群友近日又提起，我打开 GitHub 才发现首页有个 Commit 的标题就是 webdav 相关，即兰空图床支持 webdav 。于是我便部署了一下，体验感觉还不错，简单易用。")]),E,a("blockquote",null,[A,a("p",null,[s("这里放一个 Serv00 上的，我在 fofa 上搜到的页面作为部署示例："),a("a",R,[s("https://pclwgdwv.serv00.net/"),n(e)])])]),T,a("p",null,[s("Alist 官方仓库没有构筑 FreeBSD 系统下能够运行的 Alist 可执行文件，但是我在 Github 上发现了一个使用 Github Workflow 自动构筑 FreeBSD 适用的 Alist 的"),a("a",w,[s("仓库"),n(e)]),s("，使用这个仓库就可以很便利的在 Serv00 上部署 Alist。")]),D,a("p",null,[s("我主要修改了 CDN、database、scheme 三个部分，其中 CDN 可以在 "),a("a",N,[s("Alist 的官方文档"),n(e)]),s(" 找到，请选择你本地网络连接速度最快的一个。")]),L,a("h2",U,[a("a",M,[a("span",null,[a("a",O,[s("Synctv"),n(e)])])])]),z,a("blockquote",null,[a("p",null,[s("如果你想使用 New-API ，可以使用这个仓库"),a("a",j,[s("k0baya/new-api-freebsd"),n(e)]),s("，用法与本节介绍的 One-API 基本一致，对比 One-API 添加了一些更方便的功能。也许之后 One-API 也会加入这些功能。")])]),H,a("h2",C,[a("a",I,[a("span",null,[a("a",F,[s("Gpt4-copilot-java"),n(e)])])])]),B,a("p",null,[s("目前更推荐这个方法："),a("a",W,[s("lvguanjun/copilot-to-chatgpt4"),n(e)])]),K,a("h2",G,[a("a",$,[a("span",null,[a("a",V,[s("Zfile"),n(e)])])])]),X,a("p",null,[a("a",Q,[s("halo"),n(e)]),s(" 自从升级 2.0 版本开始，很长时间内都没有提供构筑好的 jar 包，甚至于在 GitHub 上都出现了第三方的，使用 GitHub workflow 自动化构筑 jar 包的"),a("a",Y,[s("仓库"),n(e)]),s(" 。但是，自从"),a("a",Z,[s("2.12.0-alpha.1 版本"),n(e)]),s("开始，halo 的官方仓库又开始提供构筑好的 jar 包了，刚好这些天在玩 Serv00 ，遂尝试部署了一下，成功。现记录一下：")]),J,a("p",null,[a("a",aa,[s("这个仓库"),n(e)]),s("是 Bingo 的前身，当初玩 Replit 时我便有在使用，只可惜作者早已弃坑，所以当初我才找到了当时还能用的 Bingo 使用。")]),a("p",null,[s("在 Bingo 也长期未更新，无法正常使用的如今，我的目光转向了另一个"),a("a",sa,[s("二改仓库"),n(e)]),s(" 。Harry-zklcdc 维护的 Go-proxy-bingai 的分支仓库目前还能够正常使用。而且在与开发者反馈了几个 bug 之后，开发者都会花时间认真复现，并快速修复，其体验实在是不错。")]),ea,a("h2",na,[a("a",ta,[a("span",null,[a("a",la,[s("Pentaract"),n(e)])])])]),oa,ra,a("p",null,[s("编译成品下载地址："),a("a",ia,[s("pentaract-freebsd_X64.tar.gz"),n(e)])]),pa,a("p",null,[s("然后去 "),a("a",da,[s("supabase"),n(e)]),s(" 注册一个免费的 PostgreSQL ，记录下数据库的用户名、密码、数据库名、地址，用于后续填入环境变量。")]),ca,a("h2",ua,[a("a",va,[a("span",null,[a("a",ma,[s("OneList"),n(e)])])])]),ba,a("h2",ha,[a("a",ka,[a("span",null,[a("a",ga,[s("WarpGPT"),n(e)])])])]),fa,a("p",null,[s("源仓库没有 Release ，故"),a("a",xa,[s("我的仓库"),n(e)]),s("没有做自动检测构建。如果有更新需求需要手动触发 workflow 。你有需要也可以自己 fork 一份然后手动触发 workflow 。")]),_a,a("blockquote",null,[a("p",null,[s("如果有 redis 需求，可以查阅官方文档："),a("a",ya,[s("Redis"),n(e)])])]),qa,a("h2",Sa,[a("a",Pa,[a("span",null,[a("a",Ea,[s("Coze-discord-proxy"),n(e)])])])]),Aa,a("p",null,[s("同样的，我写了一个用于构建 FreeBSD 版本的"),a("a",Ra,[s("仓库"),n(e)]),s(" 。在这里感谢论坛用户 "),a("a",Ta,[s("Reno"),n(e)]),s(" 的测试，没有测试人员的测试，也不会有部署的过程记录了。")]),wa,a("h2",Da,[a("a",Na,[a("span",null,[a("a",La,[s("Memos"),n(e)])])])]),Ua,a("p",null,[s("这个仓库比较难受的是，其在源码的"),a("a",Ma,[s("这个位置"),n(e)]),s(" 强制要求其 gRPC 服务的端口为 Memos 监听端口+1，故这个应用需要占用两个端口，而且必须是两个连续的端口。")]),a("p",null,[s("同样的，我写了一个用于构建 FreeBSD 版本的"),a("a",Oa,[s("仓库"),n(e)]),s("。")]),za,a("p",null,[s("内网穿透嘛，懂的都懂，这里只做服务端的部署记录，客户端可以查看 "),a("a",ja,[s("Frp 的官方文档"),n(e)]),s(" 自行配置。感谢群友的率先测试："),a("a",Ha,[s("youyi"),n(e)])]),Ca,a("h2",Ia,[a("a",Fa,[a("span",null,[a("a",Ba,[s("Rclone"),n(e)])])])]),Wa,a("p",null,[s("具体用法与配置请查阅其"),a("a",Ka,[s("官方文档"),n(e)]),s("。")]),Ga,a("p",null,[s("经我测试，目前 v1.63.1 之后的版本的 FreeBSD 版的构建都有无法识别 "),$a,s(" 命令的问题，在我查阅其 issue —— "),a("a",Va,[s("#7432"),n(e)]),s(" 、 "),a("a",Xa,[s("#5843"),n(e)]),s(" 后，确定这个 bug 已经好几个月没有修复了。所以我建议在此 bug 修复前，使用 v1.63.1 版本。")]),Qa,a("h2",Ya,[a("a",Za,[a("span",null,[a("a",Ja,[s("Cloudreve"),n(e)])])])]),as,a("p",null,[s("同样的，我编写了一个用于自动化构建 FreeBSD 版本的 Cloudreve 的仓库："),a("a",ss,[s("k0baya/cloudreve-freebsd"),n(e)]),s(" 前后端分离构建，前端静态文件在 Cloudreve 本体同路径下的 "),es,s(" 文件夹内。")]),ns,a("h2",ts,[a("a",ls,[a("span",null,[a("a",os,[s("PanIndex"),n(e)])])])]),rs,a("p",null,[s("同样的，我编写了一个用于自动化构建 FreeBSD 版本的 PanIndex 的仓库："),a("a",is,[s("k0baya/panindex-freebsd"),n(e)]),s("。")]),ps,a("h2",ds,[a("a",cs,[a("span",null,[a("a",us,[s("Artalk"),n(e)])])])]),vs,a("ul",null,[ms,a("li",null,[s("注册"),a("a",bs,[s("serv00"),n(e)]),s("账号并开放端口")])]),hs,a("p",null,[a("a",ks,[s("GitHub"),n(e)])]),gs,a("p",null,[s("访问 cloudflare"),a("a",fs,[s("相关页面"),n(e)]),s("，点击 Networks-Tunnels-create a tunnel ,类型选择 Cloudflared，点击 Next，任意取名，接着点 save tunnel，往下找到 Run the following command 复制，复制好后只要保留 "),xs,s(" 开头的 "),_s,s(" 即可：")]),ys,a("p",null,[a("a",qs,[s("https://blog.rappit.site/2024/01/27/serv00_logs"),n(e)])])])}const Ts=l(p,[["render",Ss],["__file","serv00搭建各种服务.html.vue"]]),ws=JSON.parse('{"path":"/linux/serv00%E6%90%AD%E5%BB%BA%E5%90%84%E7%A7%8D%E6%9C%8D%E5%8A%A1.html","title":"serv00搭建各种服务","lang":"zh-CN","frontmatter":{"author":"xlc520","title":"serv00搭建各种服务","excerpt":null,"description":"Serv00 是一个提供免费虚拟主机的平台，其托管平台使用的是 FreeBSD 系统","date":"2024-03-16T00:00:00.000Z","category":"Linux","tag":"Linux","article":true,"timeline":true,"icon":"linux","head":[["meta",{"property":"og:url","content":"https://blog.ciberviler.top/linux/serv00%E6%90%AD%E5%BB%BA%E5%90%84%E7%A7%8D%E6%9C%8D%E5%8A%A1.html"}],["meta",{"property":"og:site_name","content":"StudyNote - 丰富的知识笔记库"}],["meta",{"property":"og:title","content":"serv00搭建各种服务"}],["meta",{"property":"og:description","content":"Serv00 是一个提供免费虚拟主机的平台，其托管平台使用的是 FreeBSD 系统"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bitbucket.org/xlc520/blogasset/raw/main/images3/3fb4b19417d7af5a57084d93d5b914f80866b719_2_690x345.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T13:32:36.000Z"}],["meta",{"property":"article:author","content":"xlc520"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2024-03-16T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T13:32:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"serv00搭建各种服务\\",\\"image\\":[\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/3fb4b19417d7af5a57084d93d5b914f80866b719_2_690x345.png\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/534ebc8fa22d8e17e808fe6a6db0ddc6535aaf50_2_690x266.png\\"],\\"datePublished\\":\\"2024-03-16T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-27T13:32:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xlc520\\"}]}"]]},"headers":[{"level":2,"title":"域名","slug":"域名","link":"#域名","children":[{"level":3,"title":"SSL 证书申请","slug":"ssl-证书申请","link":"#ssl-证书申请","children":[]},{"level":3,"title":"域名邮箱","slug":"域名邮箱","link":"#域名邮箱","children":[]},{"level":3,"title":"DNS 管理","slug":"dns-管理","link":"#dns-管理","children":[]},{"level":3,"title":"Proxy","slug":"proxy","link":"#proxy","children":[]}]},{"level":2,"title":"运行自己的应用","slug":"运行自己的应用","link":"#运行自己的应用","children":[]},{"level":2,"title":"File manager","slug":"file-manager","link":"#file-manager","children":[]},{"level":2,"title":"Port reservation","slug":"port-reservation","link":"#port-reservation","children":[]},{"level":2,"title":"数据库","slug":"数据库","link":"#数据库","children":[]},{"level":2,"title":"Cron jobs","slug":"cron-jobs","link":"#cron-jobs","children":[]},{"level":2,"title":"Pm2","slug":"pm2","link":"#pm2","children":[]},{"level":2,"title":"Cloudflared","slug":"cloudflared","link":"#cloudflared","children":[]},{"level":2,"title":"安装 go1.22","slug":"安装-go1-22","link":"#安装-go1-22","children":[]},{"level":2,"title":"WordPress","slug":"wordpress","link":"#wordpress","children":[]},{"level":2,"title":"KodBox","slug":"kodbox","link":"#kodbox","children":[]},{"level":2,"title":"Lsky-Pro","slug":"lsky-pro","link":"#lsky-pro","children":[]},{"level":2,"title":"Vless","slug":"vless","link":"#vless","children":[{"level":3,"title":"①","slug":"_1","link":"#_1","children":[]},{"level":3,"title":"②","slug":"_2","link":"#_2","children":[]}]},{"level":2,"title":"Alist","slug":"alist","link":"#alist","children":[]},{"level":2,"title":"Synctv","slug":"synctv","link":"#synctv","children":[]},{"level":2,"title":"One-api","slug":"one-api","link":"#one-api","children":[]},{"level":2,"title":"Uptime-Kuma","slug":"uptime-kuma","link":"#uptime-kuma","children":[]},{"level":2,"title":"Bingo（暂时无法正常使用）","slug":"bingo-暂时无法正常使用","link":"#bingo-暂时无法正常使用","children":[]},{"level":2,"title":"Refresh-gpt-chat","slug":"refresh-gpt-chat","link":"#refresh-gpt-chat","children":[]},{"level":2,"title":"Gpt4-copilot-java","slug":"gpt4-copilot-java","link":"#gpt4-copilot-java","children":[]},{"level":2,"title":"Zfile","slug":"zfile","link":"#zfile","children":[]},{"level":2,"title":"Halo","slug":"halo","link":"#halo","children":[]},{"level":2,"title":"Go-proxy-bingai","slug":"go-proxy-bingai","link":"#go-proxy-bingai","children":[]},{"level":2,"title":"Pentaract","slug":"pentaract","link":"#pentaract","children":[]},{"level":2,"title":"OneList","slug":"onelist","link":"#onelist","children":[]},{"level":2,"title":"WarpGPT","slug":"warpgpt","link":"#warpgpt","children":[]},{"level":2,"title":"Coze-discord-proxy","slug":"coze-discord-proxy","link":"#coze-discord-proxy","children":[]},{"level":2,"title":"Memos","slug":"memos","link":"#memos","children":[]},{"level":2,"title":"Frps","slug":"frps","link":"#frps","children":[]},{"level":2,"title":"Rclone","slug":"rclone","link":"#rclone","children":[]},{"level":2,"title":"Cloudreve","slug":"cloudreve","link":"#cloudreve","children":[]},{"level":2,"title":"PanIndex","slug":"panindex","link":"#panindex","children":[]},{"level":2,"title":"Artalk","slug":"artalk","link":"#artalk","children":[]},{"level":2,"title":"自动续期","slug":"自动续期","link":"#自动续期","children":[]},{"level":2,"title":"自动启动","slug":"自动启动","link":"#自动启动","children":[]},{"level":2,"title":"开始之前","slug":"开始之前","link":"#开始之前","children":[]},{"level":2,"title":"安装 go-proxy-bingai","slug":"安装-go-proxy-bingai","link":"#安装-go-proxy-bingai","children":[]},{"level":2,"title":"安装 pm2","slug":"安装-pm2","link":"#安装-pm2","children":[]},{"level":2,"title":"编写 auto-renew.sh （可选）","slug":"编写-auto-renew-sh-可选","link":"#编写-auto-renew-sh-可选","children":[]},{"level":2,"title":"编写 entrypoint.sh","slug":"编写-entrypoint-sh","link":"#编写-entrypoint-sh","children":[]},{"level":2,"title":"搭建隧道","slug":"搭建隧道","link":"#搭建隧道","children":[]},{"level":2,"title":"编写 ecosystem.config.js","slug":"编写-ecosystem-config-js","link":"#编写-ecosystem-config-js","children":[]},{"level":2,"title":"一键启动","slug":"一键启动","link":"#一键启动","children":[]},{"level":2,"title":"一键关闭","slug":"一键关闭","link":"#一键关闭","children":[]},{"level":2,"title":"开机自启","slug":"开机自启","link":"#开机自启","children":[{"level":3,"title":"参考","slug":"参考","link":"#参考","children":[]}]}],"git":{"createdTime":1714214949000,"updatedTime":1714224756000,"contributors":[{"name":"xlc","email":"2215400217@qq.com","commits":2}]},"readingTime":{"minutes":49.48,"words":14843},"filePathRelative":"linux/serv00搭建各种服务.md","localizedDate":"2024年3月16日"}');export{Ts as comp,ws as data};
