import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";import{o as a,c as n,d as e}from"./app.af82fa7f.js";const p={},t=e(`<h1 id="openssl\u4E00\u952E\u81EA\u7B7E\u8BC1\u4E66" tabindex="-1"><a class="header-anchor" href="#openssl\u4E00\u952E\u81EA\u7B7E\u8BC1\u4E66" aria-hidden="true">#</a> Openssl\u4E00\u952E\u81EA\u7B7E\u8BC1\u4E66</h1><p><code>vim openssl.sh</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">$domain</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">do</span>
    <span class="token builtin class-name">read</span> -p <span class="token string">&quot;\u8F93\u5165\u57DF\u540D/IP(\u5FC5\u586B,\u5982 *.haoduck.com): &quot;</span> domain
<span class="token keyword">done</span>
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;\u8F93\u5165\u90AE\u7BB1(\u9009\u586B,\u9ED8\u8BA4admin@haoduck.com): &quot;</span> mail
<span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">$mail</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token assign-left variable">mail</span><span class="token operator">=</span>admin@haoduck.com
<span class="token builtin class-name">read</span> -p <span class="token string">&quot;\u8F93\u5165\u65E5\u671F(\u9009\u586B,\u9ED8\u8BA43650): &quot;</span> day
<span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">$day</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token assign-left variable">day</span><span class="token operator">=</span><span class="token number">3650</span>
<span class="token assign-left variable">dir</span><span class="token operator">=</span><span class="token variable">$domain</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> -p <span class="token variable">$dir</span>
<span class="token assign-left variable">crt_file</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$dir</span>/<span class="token variable">\${domain}</span>.crt&quot;</span>
<span class="token assign-left variable">key_file</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$dir</span>/<span class="token variable">\${domain}</span>.key&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">command</span> -v openssl<span class="token variable">)</span></span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    openssl req -x509 -nodes -newkey rsa:2048 -days <span class="token variable">$day</span> -keyout <span class="token variable">$key_file</span> -out <span class="token variable">$crt_file</span> -subj <span class="token string">&quot;/C=US/ST=California/L=Los Angeles/O=Haoduck/OU=Aoao/CN=<span class="token variable">\${domain}</span>/emailAddress=<span class="token variable">\${mail}</span>&quot;</span>
    <span class="token builtin class-name">echo</span> -e <span class="token string">&quot;<span class="token entity" title="\\t">\\t</span>\u8BC1\u4E66\uFF1A<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/<span class="token variable">$crt_file</span><span class="token entity" title="\\n">\\n</span><span class="token entity" title="\\t">\\t</span>\u79C1\u94A5\uFF1A<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/<span class="token variable">$key_file</span>&quot;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;openssl \u672A\u5B89\u88C5&quot;</span>
<span class="token keyword">fi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>bash openssl.sh</code></p>`,4),l=[t];function o(i,c){return a(),n("div",null,l)}var u=s(p,[["render",o],["__file","openssl\u4E00\u952E\u81EA\u7B7E\u8BC1\u4E66.html.vue"]]);export{u as default};
