import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as n,a as s}from"./app-BkZy1zYI.js";const t={},i=s(`<h1 id="linux-开机卡在-a-start-job-is-runing-解决" tabindex="-1"><a class="header-anchor" href="#linux-开机卡在-a-start-job-is-runing-解决"><span>Linux 开机卡在 A start job is runing 解决</span></a></h1><p>安装 ubuntu20.04 LTS 系统后，开机卡在“A start job is running for wait for network to be Configured”等待连接两分多钟。（启动作业正在运行，等待配置网络）</p><h2 id="启动作业正在运行-等待配置网络解决办法" tabindex="-1"><a class="header-anchor" href="#启动作业正在运行-等待配置网络解决办法"><span>启动作业正在运行，等待配置网络解决办法</span></a></h2><p>1、进入该目录下，修改配置文件。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /etc/systemd/system/network-online.target.wants/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2、在[Service]下添加 TimeoutStartSec=2sec，（设置超时时间为 2 秒）如下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>/etc/systemd/system/network-online.target.wants
<span class="token function">sudo</span> <span class="token function">vi</span> systemd-networkd-wait-online.service

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>oneshot
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/lib/systemd/systemd-networkd-wait-online
<span class="token assign-left variable">RemainAfterExit</span><span class="token operator">=</span>yes
<span class="token assign-left variable">TimeoutStartSec</span><span class="token operator">=</span>2sec
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、重启验证</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="swap-相关报错-启动必须等-1-分-30-秒" tabindex="-1"><a class="header-anchor" href="#swap-相关报错-启动必须等-1-分-30-秒"><span>swap 相关报错，启动必须等 1 分 30 秒</span></a></h2><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>a start job is running for /dev/disk/by-uuid/xxxxx.(20s / 1 min 30 s )
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1、解决-1" tabindex="-1"><a class="header-anchor" href="#_1、解决-1"><span><strong>1、解决 1</strong></span></a></h3><p>1.1 查看交换分区挂载情况：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">swapon</span> <span class="token parameter variable">--show</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>1.2 查看交换分区情况：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> blkid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>1.3 然后再查看/etc/fstab 文件中 swap 分区的 UUID。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">cat</span> /etc/fstab
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>两个 UUID 不同，正好解释了为什么 swap 分区会挂载失败。</p><p>解决方法是删除/etc/fstab 文件中 swap 分区的 UUID，</p><p>再用 sudo blkid 命令得出的 swap 分区 UUID 替换。保存文件，重启系统后 a start job is running for</p><p>dev-disk-by 这个错误就消失了。</p><h3 id="_2、解决-2" tabindex="-1"><a class="header-anchor" href="#_2、解决-2"><span><strong>2、解决 2</strong></span></a></h3><p>2.1 修改/etc/fstab 文件，注掉 swap 那一行</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">cat</span> /etc/fstab
<span class="token comment"># /etc/fstab: static file system information.</span>
<span class="token comment">## Use &#39;blkid&#39; to print the universally unique identifier for a# device; this may be used with UUID= as a more robust way to name device# that works even if disks are added and removed. See fstab(5).</span>
<span class="token comment">## &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;</span>
<span class="token comment"># / was on /dev/sda2 during curtin installation/dev/disk/by-uuid/cxxxx06-xxxxc-4xxxx0-xxxxx80-xxxxxxxaac / ext4 defaults 0 1#/swap.img      none    swap    sw      0       0    </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.2 重启不让加载 swap 分区，即可解决此报错</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置等待时间的原因是为了给系统提供足够的时间来完成启动过程中一些必要的工作，如网络配置、服务启动等。如果系统在启动过程中遇到问题，等待时间可以给系统提供足够的时间来尝试解决问题，避免系统在遇到问题时立即崩溃或无法正常启动。同时，等待时间也可以保证系统在启动完成后能够及时提供服务，提高系统的可用性和可靠性。但是，如果等待时间过长，会导致系统启动时间过长，影响用户体验。因此，需要根据实际情况设置合理的等待时间，以保证系统的正常启动和运行。</p>`,28),r=[i];function l(o,d){return a(),n("div",null,r)}const u=e(t,[["render",l],["__file","Linux开机卡在 A start job is runing解决.html.vue"]]),m=JSON.parse('{"path":"/linux/Linux%E5%BC%80%E6%9C%BA%E5%8D%A1%E5%9C%A8%20A%20start%20job%20is%20runing%E8%A7%A3%E5%86%B3.html","title":"Linux开机卡在 A start job is runing解决","lang":"zh-CN","frontmatter":{"author":"xlc520","title":"Linux开机卡在 A start job is runing解决","excerpt":null,"description":"Linux 开机卡在 A start job is runing 解决 安装 ubuntu20.04 LTS 系统后，开机卡在“A start job is running for wait for network to be Configured”等待连接两分多钟。（启动作业正在运行，等待配置网络） 启动作业正在运行，等待配置网络解决办法 1、进入该...","date":"2024-01-07T00:00:00.000Z","category":"Linux","tag":"Linux","article":true,"timeline":true,"icon":"linux","head":[["meta",{"property":"og:url","content":"https://blog.ciberviler.top/linux/Linux%E5%BC%80%E6%9C%BA%E5%8D%A1%E5%9C%A8%20A%20start%20job%20is%20runing%E8%A7%A3%E5%86%B3.html"}],["meta",{"property":"og:site_name","content":"StudyNote - 丰富的知识笔记库"}],["meta",{"property":"og:title","content":"Linux开机卡在 A start job is runing解决"}],["meta",{"property":"og:description","content":"Linux 开机卡在 A start job is runing 解决 安装 ubuntu20.04 LTS 系统后，开机卡在“A start job is running for wait for network to be Configured”等待连接两分多钟。（启动作业正在运行，等待配置网络） 启动作业正在运行，等待配置网络解决办法 1、进入该..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T13:32:36.000Z"}],["meta",{"property":"article:author","content":"xlc520"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2024-01-07T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T13:32:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Linux开机卡在 A start job is runing解决\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-01-07T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-27T13:32:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xlc520\\"}]}"]]},"headers":[{"level":2,"title":"启动作业正在运行，等待配置网络解决办法","slug":"启动作业正在运行-等待配置网络解决办法","link":"#启动作业正在运行-等待配置网络解决办法","children":[]},{"level":2,"title":"swap 相关报错，启动必须等 1 分 30 秒","slug":"swap-相关报错-启动必须等-1-分-30-秒","link":"#swap-相关报错-启动必须等-1-分-30-秒","children":[{"level":3,"title":"1、解决 1","slug":"_1、解决-1","link":"#_1、解决-1","children":[]},{"level":3,"title":"2、解决 2","slug":"_2、解决-2","link":"#_2、解决-2","children":[]}]}],"git":{"createdTime":1706885633000,"updatedTime":1714224756000,"contributors":[{"name":"xlc","email":"2215400217@qq.com","commits":2}]},"readingTime":{"minutes":2.15,"words":644},"filePathRelative":"linux/Linux开机卡在 A start job is runing解决.md","localizedDate":"2024年1月7日","autoDesc":true}');export{u as comp,m as data};
