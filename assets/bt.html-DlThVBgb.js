import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as e,a}from"./app-CMd4NNER.js";const s={},p=a(`<h1 id="宝塔面板-v7-7-0-解锁-nginx-防火墙及网站监控报表-绕过绑定账号" tabindex="-1"><a class="header-anchor" href="#宝塔面板-v7-7-0-解锁-nginx-防火墙及网站监控报表-绕过绑定账号"><span>宝塔面板 v7.7.0-解锁 Nginx 防火墙及网站监控报表-绕过绑定账号</span></a></h1><p>测试环境：Ubuntu / Debian / CentOS 测试时间：2021-12-20 宝塔版本： 7.7.0 仅测试了 Nginx 防火墙及网站监控报表两款插件，其它收费插件未测试 其它系统及版本未进行测试，请自行验证，请勿在生产环境下进行测试！ 注意：修改代码后需要重启面板服务才能使其生效，如果面板出现乱码重启服务器即可；</p><p>解锁所有付费插件为永不过期</p><p>文件路径：www/server/panel/data/plugin.json 搜索字符串：&quot;endtime&quot;: -1 全部替换为 &quot;endtime&quot;: 999999999999 显示永久专业版或企业版标识</p><p>文件路径：www/server/panel/data/plugin.json 查找字符串：name&quot;: &quot;coll_admin&quot;，将 panel_pro 或 panel_ltd 后面的-1 改为 0 禁止解锁插件后自动修复为免费版</p><p>文件路径：www/server/panel/data/repair.json 查找字符串：&quot;id&quot;: 16，将这段修复权限的代码删除 禁止宝塔面板检测升级，防止失效</p><p>文件路径：www/server/panel/data/plugin.json 查找字符串：name&quot;: &quot;coll_admin&quot;，将这段里的 update_mgs 删除或者改为 null 下面是 2021/08/24 的方法，上面是最新的 修改后不能使用问题：如果修改后出现软件中心页面空白，那是因为代码位置有问题，可以参考下面示例图代码位置 位置一定要一致 开始 打开目录/www/server/panel/class 找到并编辑 panelplugin.py 文件 使用 Ctrl+F 搜索并找到 softList[&#39;list&#39;] = tmpList 这段代码，在其下方添加如下代码：</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>                softList<span class="token punctuation">[</span><span class="token string">&#39;pro&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">for</span> soft <span class="token keyword">in</span> softList<span class="token punctuation">[</span><span class="token string">&#39;list&#39;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            soft<span class="token punctuation">[</span><span class="token string">&#39;endtime&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例： <img src="https://static.linch.eu.org/bt_2.png" alt="" loading="lazy"></p><p>修改完成后重启面板，重启完成后就可以直接安装收费的插件了，Nginx 防火墙也可以直接安装使用</p><p>网站监控报表 如果需要使用网站监控报表还需另外修改一次代码： 安装好网站监控报表插件后打开/www/server/panel/plugin/total 目录并编辑 total_main.py 文件 使用 Ctrl+F 搜索并找到 if &#39;bt_total&#39; in session: return public.returnMsg(True,&#39;OK!&#39;);这段代码 在这段代码前加上#将其注释掉，并在其下方加入以下代码：</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>        session<span class="token punctuation">[</span><span class="token string">&#39;bt_total&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> public<span class="token punctuation">.</span>returnMsg<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">,</span><span class="token string">&#39;OK!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>示例： <img src="https://static.linch.eu.org/bt_1.png" alt="" loading="lazy"></p><p>然后再次重启面板，即可使用网站监控报表插件了；</p><p>一键消除宝塔的强制登录方法简单粗暴，但是非常有效~</p><p>复制该命令到终端运行即可：<code>rm -f /www/server/panel/data/bind.pl</code></p>`,16),o=[p];function i(l,r){return n(),e("div",null,o)}const d=t(s,[["render",i],["__file","bt.html.vue"]]),m=JSON.parse('{"path":"/linux/bt.html","title":"宝塔面板绕过绑定账号","lang":"zh-CN","frontmatter":{"author":"xlc520","title":"宝塔面板绕过绑定账号","excerpt":null,"description":"宝塔面板v7.7.0-解锁Nginx防火墙及网站监控报表-绕过绑定账号","date":"2022-01-14T00:00:00.000Z","category":"Linux","tag":"Linux","article":true,"timeline":true,"icon":"type","head":[["meta",{"property":"og:url","content":"https://blog.ciberviler.top/linux/bt.html"}],["meta",{"property":"og:site_name","content":"StudyNote"}],["meta",{"property":"og:title","content":"宝塔面板绕过绑定账号"}],["meta",{"property":"og:description","content":"宝塔面板v7.7.0-解锁Nginx防火墙及网站监控报表-绕过绑定账号"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://static.linch.eu.org/bt_2.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T13:32:36.000Z"}],["meta",{"property":"article:author","content":"xlc520"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2022-01-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T13:32:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"宝塔面板绕过绑定账号\\",\\"image\\":[\\"https://static.linch.eu.org/bt_2.png\\",\\"https://static.linch.eu.org/bt_1.png\\"],\\"datePublished\\":\\"2022-01-14T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-27T13:32:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xlc520\\"}]}"]]},"headers":[],"git":{"createdTime":1647698494000,"updatedTime":1714224756000,"contributors":[{"name":"xlc520","email":"2215400217@qq.com","commits":4},{"name":"xlc","email":"2215400217@qq.com","commits":1}]},"readingTime":{"minutes":2.23,"words":669},"filePathRelative":"linux/bt.md","localizedDate":"2022年1月14日"}');export{d as comp,m as data};
