import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as t,c as a,a as l}from"./app-Clq2mtAP.js";const o={},c=l('<h1 id="cloudfalre-tunnels-实现内网穿透" tabindex="-1"><a class="header-anchor" href="#cloudfalre-tunnels-实现内网穿透"><span>Cloudfalre Tunnels 实现内网穿透</span></a></h1><h2 id="前提条件" tabindex="-1"><a class="header-anchor" href="#前提条件"><span>前提条件</span></a></h2><ul><li>注册一个 Cloudflare 账号，选择免费计划就行</li><li>准备一个域名，没有就买一个，不想买可以自己找免费的</li></ul><h2 id="将域名解析转移到-cloudflare" tabindex="-1"><a class="header-anchor" href="#将域名解析转移到-cloudflare"><span>将域名解析转移到 Cloudflare</span></a></h2><p>1、登录 Cloudfalre，将你的域名添加到<code>Zones</code>中，然后在<code>DNS</code>上找到名称服务器的网址，如下图红框所示，两个网址就是： <img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-0.jpeg" alt="图片" loading="lazy"><code>将域名添加到Cloudflare中并找到NS服务网址</code></p><p>2、比如，域名是从腾讯云购买的，则找到你的域名，在管理中将 DNS 解析服务器改成 Cloudfalre 的名称服务器网址即可，如下图 <img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-1.jpeg" alt="图片" loading="lazy"><code>在腾讯云控制台中修改域名的DNS解析服务器</code></p><h2 id="创建-tunnels" tabindex="-1"><a class="header-anchor" href="#创建-tunnels"><span>创建 Tunnels</span></a></h2><p>1、打开 Cloudfalre 控制台，依次点击<code>Zero Trust</code>-&gt; <code>Access</code> -&gt; <code>Tunnels</code><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-2.jpeg" alt="图片" loading="lazy">----&gt; <img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-3.jpeg" alt="图片" loading="lazy"></p><p>2、创建 Tunnel 1）点击<code>Create Tunnel</code>按钮，创建一个新的隧道 <img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-4.jpeg" alt="图片" loading="lazy"></p><p>2）名称按自己想法填，然后点击<code>Save Tunnel</code><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-5.jpeg" alt="图片" loading="lazy"> 3)保存后，回到 Tunnels 界面，找到上面创建的 Tunnel，点击右边三个点，选择<code>Configure</code>,到达配置页面 <img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-6.jpeg" alt="图片" loading="lazy"></p><p>4)在配置界面，切换到<code>Public Hostname</code>页签，点击<code>Add a Public Hostname</code>,创建一个新的穿通域名 <img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-7.jpeg" alt="图片" loading="lazy"></p><blockquote><p>参考图中的说明进行填写，划重点： <code>Subdomain</code>:就是你要用的子域名，比如你想用 x.abc.com 访问家中的服务，就填 a <code>Domain</code>:就是你的域名，直接选择 <code>Path</code>:路径，不用填 <code>type</code>:内网服务的协议，一般是 http，如果你非要给内网服务配置了 https，你就选 https <code>URL</code>:内网服务的 ip+端口，比如你想穿透到内网的 WP 博客，则填写 WP 的 ip 和端口。 <code>注意:此处如果内网服务是docker部署的，需要注意使用合适的ip和端口</code></p></blockquote><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-8.jpeg" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><ol><li>设置并保存后，回到域名的 DNS 记录页面，会看到已经自动添加了一个 CNAME 记录，并且开启了代理。什么都不要动，保持就行。</li></ol><h2 id="部署-connector" tabindex="-1"><a class="header-anchor" href="#部署-connector"><span>部署 connector</span></a></h2><p>上面的步骤已经完成了域名配置以及隧道配置，但是要想让域名自动找到你的内网服务，还需要你在内网安装一个程序，或者叫连接器，用于与 Cloudfalre Tunnel 进行通信。 1、回到 Tunnels 界面，并点击<code>Configure</code>进入配置页面，在<code>Overview</code>页签中，可以看到选择安装环境的按钮，选择一个，然后安装下面的提示安装即可。 <img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-9.jpeg" alt="图片" loading="lazy"></p><p>2、本文以<code>Docker</code>为例，选择<code>Docker</code> 按钮，下面会显示出一键启动镜像的命令，把命令复制到你的内网机器上，打开终端，直接执行即可。实际上就是启动了一个<code>Cloudflared</code>容器 <img src="https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-10.jpeg" alt="图片" loading="lazy"></p>',17),n=[c];function i(r,s){return t(),a("div",null,n)}const p=e(o,[["render",i],["__file","Cloudfalre Tunnels实现内网穿透.html.vue"]]),u=JSON.parse('{"path":"/linux/Cloudfalre%20Tunnels%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F.html","title":"Cloudfalre Tunnels实现内网穿透","lang":"zh-CN","frontmatter":{"author":"xlc520","title":"Cloudfalre Tunnels实现内网穿透","excerpt":null,"description":"Cloudfalre Tunnels 实现内网穿透 前提条件 注册一个 Cloudflare 账号，选择免费计划就行 准备一个域名，没有就买一个，不想买可以自己找免费的 将域名解析转移到 Cloudflare 1、登录 Cloudfalre，将你的域名添加到Zones中，然后在DNS上找到名称服务器的网址，如下图红框所示，两个网址就是： 图片 将域名添...","date":"2023-09-29T00:00:00.000Z","category":"Linux","tag":"Linux","article":true,"timeline":true,"icon":"linux","head":[["meta",{"property":"og:url","content":"https://blog.ciberviler.top/linux/Cloudfalre%20Tunnels%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F.html"}],["meta",{"property":"og:site_name","content":"StudyNote - 丰富的知识笔记库"}],["meta",{"property":"og:title","content":"Cloudfalre Tunnels实现内网穿透"}],["meta",{"property":"og:description","content":"Cloudfalre Tunnels 实现内网穿透 前提条件 注册一个 Cloudflare 账号，选择免费计划就行 准备一个域名，没有就买一个，不想买可以自己找免费的 将域名解析转移到 Cloudflare 1、登录 Cloudfalre，将你的域名添加到Zones中，然后在DNS上找到名称服务器的网址，如下图红框所示，两个网址就是： 图片 将域名添..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-0.jpeg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T13:32:36.000Z"}],["meta",{"property":"article:author","content":"xlc520"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2023-09-29T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T13:32:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Cloudfalre Tunnels实现内网穿透\\",\\"image\\":[\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-0.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-1.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-2.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-3.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-4.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-5.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595244-6.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-7.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-8.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-9.jpeg\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images3/640-1695954595245-10.jpeg\\"],\\"datePublished\\":\\"2023-09-29T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-27T13:32:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xlc520\\"}]}"]]},"headers":[{"level":2,"title":"前提条件","slug":"前提条件","link":"#前提条件","children":[]},{"level":2,"title":"将域名解析转移到 Cloudflare","slug":"将域名解析转移到-cloudflare","link":"#将域名解析转移到-cloudflare","children":[]},{"level":2,"title":"创建 Tunnels","slug":"创建-tunnels","link":"#创建-tunnels","children":[]},{"level":2,"title":"部署 connector","slug":"部署-connector","link":"#部署-connector","children":[]}],"git":{"createdTime":1697037217000,"updatedTime":1714224756000,"contributors":[{"name":"xlc","email":"2215400217@qq.com","commits":2},{"name":"xlc520","email":"2215400217@qq.com","commits":1}]},"readingTime":{"minutes":2.56,"words":767},"filePathRelative":"linux/Cloudfalre Tunnels实现内网穿透.md","localizedDate":"2023年9月29日","autoDesc":true}');export{p as comp,u as data};
