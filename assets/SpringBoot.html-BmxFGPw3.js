import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as s,a as i}from"./app-DDjfOKh-.js";const p={};function r(l,e){return n(),s("div",null,e[0]||(e[0]=[i(`<h1 id="springboot-拦截器-自定义异常-自定义注解-全局异常处理" tabindex="-1"><a class="header-anchor" href="#springboot-拦截器-自定义异常-自定义注解-全局异常处理"><span>SpringBoot+拦截器+自定义异常+自定义注解+全局异常处理</span></a></h1><ul><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">前言</a></p></li><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">资源权限</a></p></li><li><ul><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">1.静态资源准备</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">2.自定义一个异常，便于拦截抛出</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">3.全局异常处理</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">4.controller 层</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">5.拦截器创建</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">6.将拦截器注入应用</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">7.验证查看结果</a></li></ul></li><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">操作权限</a></p></li><li><ul><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">1.和上面一样使用静态资源</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">2.自定义注解</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">3.controller 层</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">4.修改一下之前的拦截器</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">5.验证结果</a></li></ul></li><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">角色权限</a></p></li><li><ul><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">1.静态对应关系</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">2.修改 controller</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">3.修改一下拦截器</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">4.结果测试</a></li></ul></li><li><p><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect" target="_blank" rel="noopener noreferrer">总结</a></p></li></ul><hr><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">前言</a></span></a></h2><p>提到权限管理这块肯定很多人第一想到的就是 Springboot Security 或者是 Shiro 安全框架，但本文介绍的并不是这两种，不是因为他们不好用，实在是自己太懒了，我觉得一个拦截器加上其他的一些处理就能满足项目的需求，我又何必去多用一个框架呢，这篇文章也不是去对比谁好谁坏，各位自行抉择。</p><p>我将权限管理分为三块：</p><ol><li><strong>资源权限</strong> ：将 url 当做资源，可以给每个账号动态划分 Url 权限，访问不同的 URl；</li><li><strong>操作权限</strong> ：将所有 URL 分为增、删、改、查 4 种操作权限，给用户分配对应的操作权限，如某个用户只有查操作权限那么他就无法做其他的操作；</li><li><strong>角色权限</strong> ：系统有多个角色，每个角色的权限都不同，如一个管理后台有着账号管理模块、商品模块等，为超级管理员的角色就可以看到所有模块并操作，而为售后的角色就只能看到商品模块，即使他知道账号管理模块下的 URL 也无权限操作。然后为用户设置角色就有对应的权限；</li></ol><blockquote><p>“</p><p>推荐下自己做的 Spring Boot 的实战项目：</p><p><a href="https://github.com/YunaiV/ruoyi-vue-pro" target="_blank" rel="noopener noreferrer">https://github.com/YunaiV/ruoyi-vue-pro</a></p></blockquote><h2 id="资源权限" tabindex="-1"><a class="header-anchor" href="#资源权限"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">资源权限</a></span></a></h2><h3 id="_1-静态资源准备" tabindex="-1"><a class="header-anchor" href="#_1-静态资源准备"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">1.静态资源准备</a></span></a></h3><p>这里方便演示就不直接操作数据库了，对应的权限建表关系也很简单，这里直接建立静态的用户对应的 URL 关系。</p><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" data-title="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public class Constant {</span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * 权限管理</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public static Map&lt;Integer,String[]&gt; permission=new HashMap&lt;&gt;();</span></span>
<span class="line"><span>    static {</span></span>
<span class="line"><span>        String[] frist={&quot;/url1&quot;,&quot;/url2&quot;,&quot;/url3&quot;,&quot;/url4&quot;,&quot;/url5&quot;,&quot;/url6&quot;,&quot;/url7&quot;};//用户1所拥有的URL权限</span></span>
<span class="line"><span>        String[] second={&quot;/url1&quot;,&quot;/url2&quot;,&quot;/url3&quot;,&quot;/url4&quot;,&quot;/url5&quot;};//用户2所拥有的URL权限</span></span>
<span class="line"><span>        String[] third={&quot;/url1&quot;,&quot;/url2&quot;,&quot;/url3&quot;};//用户3所拥有的URL权限</span></span>
<span class="line"><span>        permission.put(1,frist);</span></span>
<span class="line"><span>        permission.put(2,second);</span></span>
<span class="line"><span>        permission.put(3,third);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-自定义一个异常-便于拦截抛出" tabindex="-1"><a class="header-anchor" href="#_2-自定义一个异常-便于拦截抛出"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">2.自定义一个异常，便于拦截抛出</a></span></a></h3><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" data-title="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public class APIException extends RuntimeException {</span></span>
<span class="line"><span>    private static final long serialVersionUID = 1L;</span></span>
<span class="line"><span>    private String msg;</span></span>
<span class="line"><span>    public APIException(String msg) {</span></span>
<span class="line"><span>        super(msg);</span></span>
<span class="line"><span>        this.msg = msg;</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span></span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-全局异常处理" tabindex="-1"><a class="header-anchor" href="#_3-全局异常处理"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">3.全局异常处理</a></span></a></h3><p>便于异常后返回统一规范的结果,正常应该是正常返回自定义 Vo，但这里目标是为了演示结果，再加上各位应该都有自己的 Vo 类，所以这里就不用了</p><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" data-title="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@RestControllerAdvice</span></span>
<span class="line"><span>public class WebExceptionControl {</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>    @ExceptionHandler(APIException.class)</span></span>
<span class="line"><span>    public String APIExceptionHandler(APIException e) {</span></span>
<span class="line"><span>        return e.getMessage();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-controller-层" tabindex="-1"><a class="header-anchor" href="#_4-controller-层"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">4.controller 层</a></span></a></h3><p>很简单创建对应的 URL 就好</p><figure><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241051.webp" alt="图片" tabindex="0" loading="lazy"><figcaption>图片</figcaption></figure><h3 id="_5-拦截器创建" tabindex="-1"><a class="header-anchor" href="#_5-拦截器创建"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">5.拦截器创建</a></span></a></h3><p>一般是要先验证 token，后根据 token 取到用户对应信息，这里没有登录所以就直接在 token 里传对应用户的 key 值了</p><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" data-title="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>/**</span></span>
<span class="line"><span> * 权限管理URL拦截器</span></span>
<span class="line"><span> */</span></span>
<span class="line"><span>public class URLInterceptor implements HandlerInterceptor {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    // 预处理回调方法，在接口调用之前使用  true代表放行  false代表不放行</span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) {</span></span>
<span class="line"><span>        HttpServletRequest httpServletRequest = (HttpServletRequest) request;</span></span>
<span class="line"><span>        String token = httpServletRequest.getHeader(&quot;token&quot;);</span></span>
<span class="line"><span>        String requestURL = httpServletRequest.getRequestURI();</span></span>
<span class="line"><span>        //1.根据token判断用户是否登录</span></span>
<span class="line"><span>        if (token==null){   //正常情况下这里还需判断与redis中的token是否匹配</span></span>
<span class="line"><span>            // 如果没有token或者token不匹配, 直接抛出异常  提示未登录</span></span>
<span class="line"><span>            throw  new APIException(&quot;当前用户未登录&quot;);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        //2.登录成功后 根据用户token中的信息获取到用户对应的URL权限集合</span></span>
<span class="line"><span>        String[] strings = Constant.permission.get(Integer.valueOf(token));</span></span>
<span class="line"><span>        boolean hasPermission = false;</span></span>
<span class="line"><span>        //3.再根据用户对应的URL集合去与当前请求的URL对比  有匹配的则放行  反之则抛出异常</span></span>
<span class="line"><span>        for (int i =0;i&lt;strings.length;i++) {</span></span>
<span class="line"><span>            if (strings[i].equals(requestURL)){</span></span>
<span class="line"><span>                hasPermission = true;</span></span>
<span class="line"><span>                break;</span></span>
<span class="line"><span>            }</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>        if (hasPermission){</span></span>
<span class="line"><span>            return true;</span></span>
<span class="line"><span>        }else {</span></span>
<span class="line"><span>            throw  new APIException(&quot;当前用户没有访问路径&quot; + requestURL + &quot;的权限&quot;);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-将拦截器注入应用" tabindex="-1"><a class="header-anchor" href="#_6-将拦截器注入应用"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">6.将拦截器注入应用</a></span></a></h3><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" data-title="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@Configuration</span></span>
<span class="line"><span>public class WebMvcConfg implements WebMvcConfigurer {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @Override</span></span>
<span class="line"><span>    public void addInterceptors(InterceptorRegistry registry) {</span></span>
<span class="line"><span>        //权限拦截器</span></span>
<span class="line"><span>        registry.addInterceptor(urlInterceptor()).addPathPatterns(&quot;/**&quot;);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    @Bean</span></span>
<span class="line"><span>    public URLInterceptor urlInterceptor(){</span></span>
<span class="line"><span>        return new URLInterceptor();</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-验证查看结果" tabindex="-1"><a class="header-anchor" href="#_7-验证查看结果"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">7.验证查看结果</a></span></a></h3><p>分别在 token 中传入用户 1-3 的 key，访问不同 url 就可以看到效果，如下</p><figure><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241052.webp" alt="图片" tabindex="0" loading="lazy"></a><figcaption>图片</figcaption></figure><figure><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241053.webp" alt="图片" tabindex="0" loading="lazy"></a><figcaption>图片</figcaption></figure><blockquote><p>“</p><p>推荐下自己做的 Spring Cloud 的实战项目：</p><p><a href="https://github.com/YunaiV/onemall" target="_blank" rel="noopener noreferrer">https://github.com/YunaiV/onemall</a></p></blockquote><h2 id="操作权限" tabindex="-1"><a class="header-anchor" href="#操作权限"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">操作权限</a></span></a></h2><h3 id="_1-和上面一样使用静态资源" tabindex="-1"><a class="header-anchor" href="#_1-和上面一样使用静态资源"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">1.和上面一样使用静态资源</a></span></a></h3><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" data-title="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public class Constant {</span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * 权限管理</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public static Map&lt;Integer,String[]&gt; permission=new HashMap&lt;&gt;();</span></span>
<span class="line"><span>    static {</span></span>
<span class="line"><span>        String[] frist={&quot;insert&quot;,&quot;delete&quot;,&quot;select&quot;,&quot;update&quot;};//用户1所拥有的操作权限</span></span>
<span class="line"><span>        String[] second={&quot;insert&quot;,&quot;select&quot;,&quot;update&quot;};//用户2所拥有的URL权限</span></span>
<span class="line"><span>        String[] third={&quot;select&quot;};//用户3所拥有的URL权限</span></span>
<span class="line"><span>        permission.put(1,frist);</span></span>
<span class="line"><span>        permission.put(2,second);</span></span>
<span class="line"><span>        permission.put(3,third);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-自定义注解" tabindex="-1"><a class="header-anchor" href="#_2-自定义注解"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">2.自定义注解</a></span></a></h3><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" data-title="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>@Target(ElementType.METHOD)</span></span>
<span class="line"><span>@Retention(RetentionPolicy.RUNTIME)</span></span>
<span class="line"><span>public @interface UrlAnnotation {</span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * 操作类型(type):添加,删除,修改,插入</span></span>
<span class="line"><span>     * </span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    String type();</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-controller-层" tabindex="-1"><a class="header-anchor" href="#_3-controller-层"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">3.controller 层</a></span></a></h3><p>打上自定义的注解，代表对应方法是什么操作</p><figure><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241054.webp" alt="图片" tabindex="0" loading="lazy"></a><figcaption>图片</figcaption></figure><h3 id="_4-修改一下之前的拦截器" tabindex="-1"><a class="header-anchor" href="#_4-修改一下之前的拦截器"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">4.修改一下之前的拦截器</a></span></a></h3><p>添加对注解上面的操作类型的获取，并用 type 类型去对比判断</p><figure><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241055.webp" alt="图片" tabindex="0" loading="lazy"></a><figcaption>图片</figcaption></figure><h3 id="_5-验证结果" tabindex="-1"><a class="header-anchor" href="#_5-验证结果"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">5.验证结果</a></span></a></h3><p>其他都不变</p><figure><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241056.webp" alt="图片" tabindex="0" loading="lazy"></a><figcaption>图片</figcaption></figure><figure><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241157.webp" alt="图片" tabindex="0" loading="lazy"></a><figcaption>图片</figcaption></figure><h2 id="角色权限" tabindex="-1"><a class="header-anchor" href="#角色权限"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">角色权限</a></span></a></h2><p>这里其实和上面的操作大同小异，我这里简单演示一下，以两个模块为例</p><h3 id="_1-静态对应关系" tabindex="-1"><a class="header-anchor" href="#_1-静态对应关系"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">1.静态对应关系</a></span></a></h3><div class="language-plain line-numbers-mode" data-highlighter="shiki" data-ext="plain" data-title="plain" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public class Constant {</span></span>
<span class="line"><span>    /**</span></span>
<span class="line"><span>     * 权限管理</span></span>
<span class="line"><span>     */</span></span>
<span class="line"><span>    public static Map&lt;Integer,String[]&gt; permission=new HashMap&lt;&gt;();</span></span>
<span class="line"><span>    static {</span></span>
<span class="line"><span>        String[] frist={&quot;test&quot;,&quot;test1&quot;};//用户1所拥有的模块权限  这里的test是模块URL入口  例如：test模块下所有URL都是/test/**</span></span>
<span class="line"><span>        String[] second={&quot;test&quot;};//用户2所拥有的模块权限</span></span>
<span class="line"><span>        permission.put(1,frist); //这里的1其实是用户对应ID为1的角色</span></span>
<span class="line"><span>        permission.put(2,second);//这个2同理</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-修改-controller" tabindex="-1"><a class="header-anchor" href="#_2-修改-controller"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">2.修改 controller</a></span></a></h3><p>模拟两个模块</p><figure><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241158.webp" alt="图片" tabindex="0" loading="lazy"></a><figcaption>图片</figcaption></figure><h3 id="_3-修改一下拦截器" tabindex="-1"><a class="header-anchor" href="#_3-修改一下拦截器"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">3.修改一下拦截器</a></span></a></h3><figure><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241159.webp" alt="图片" tabindex="0" loading="lazy"></a><figcaption>图片</figcaption></figure><h3 id="_4-结果测试" tabindex="-1"><a class="header-anchor" href="#_4-结果测试"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">4.结果测试</a></span></a></h3><figure><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241160.webp" alt="图片" tabindex="0" loading="lazy"></a><figcaption>图片</figcaption></figure><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span><a href="https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">总结</a></span></a></h2><p>其实用自定义的拦截器去做权限，不管是什么类型其实都大同小异，根据需求灵活的去处理才是最重要的，上面的静态权限变通一下，建立角色表、用户表、路径表以及对应关系，就很容易做出 URL 的动态权限配置了，灵活运用自定义注解搭配可以做到更细致。</p>`,58)]))}const f=a(p,[["render",r],["__file","SpringBoot.html.vue"]]),d=JSON.parse('{"path":"/dev/SpringBoot.html","title":"SpringBoot+拦截器+自定义异常+自定义注解+全局异常处理","lang":"zh-CN","frontmatter":{"author":"xlc520","title":"SpringBoot+拦截器+自定义异常+自定义注解+全局异常处理","excerpt":null,"description":"SpringBoot+拦截器+自定义异常+自定义注解+全局异常处理","date":"2022-01-15T00:00:00.000Z","category":"java","tag":"java,springboot","article":true,"timeline":true,"icon":"type","head":[["meta",{"property":"og:url","content":"https://blog.ciberviler.top/dev/SpringBoot.html"}],["meta",{"property":"og:site_name","content":"StudyNote - 丰富的知识笔记库"}],["meta",{"property":"og:title","content":"SpringBoot+拦截器+自定义异常+自定义注解+全局异常处理"}],["meta",{"property":"og:description","content":"SpringBoot+拦截器+自定义异常+自定义注解+全局异常处理"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241051.webp"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T13:32:36.000Z"}],["meta",{"property":"article:author","content":"xlc520"}],["meta",{"property":"article:tag","content":"java,springboot"}],["meta",{"property":"article:published_time","content":"2022-01-15T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T13:32:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"SpringBoot+拦截器+自定义异常+自定义注解+全局异常处理\\",\\"image\\":[\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241051.webp\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241052.webp\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241053.webp\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241054.webp\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241055.webp\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241056.webp\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241157.webp\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241158.webp\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241159.webp\\",\\"https://bitbucket.org/xlc520/blogasset/raw/main/images2/640-164346343241160.webp\\"],\\"datePublished\\":\\"2022-01-15T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-27T13:32:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xlc520\\"}]}"]]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"资源权限","slug":"资源权限","link":"#资源权限","children":[{"level":3,"title":"1.静态资源准备","slug":"_1-静态资源准备","link":"#_1-静态资源准备","children":[]},{"level":3,"title":"2.自定义一个异常，便于拦截抛出","slug":"_2-自定义一个异常-便于拦截抛出","link":"#_2-自定义一个异常-便于拦截抛出","children":[]},{"level":3,"title":"3.全局异常处理","slug":"_3-全局异常处理","link":"#_3-全局异常处理","children":[]},{"level":3,"title":"4.controller 层","slug":"_4-controller-层","link":"#_4-controller-层","children":[]},{"level":3,"title":"5.拦截器创建","slug":"_5-拦截器创建","link":"#_5-拦截器创建","children":[]},{"level":3,"title":"6.将拦截器注入应用","slug":"_6-将拦截器注入应用","link":"#_6-将拦截器注入应用","children":[]},{"level":3,"title":"7.验证查看结果","slug":"_7-验证查看结果","link":"#_7-验证查看结果","children":[]}]},{"level":2,"title":"操作权限","slug":"操作权限","link":"#操作权限","children":[{"level":3,"title":"1.和上面一样使用静态资源","slug":"_1-和上面一样使用静态资源","link":"#_1-和上面一样使用静态资源","children":[]},{"level":3,"title":"2.自定义注解","slug":"_2-自定义注解","link":"#_2-自定义注解","children":[]},{"level":3,"title":"3.controller 层","slug":"_3-controller-层","link":"#_3-controller-层","children":[]},{"level":3,"title":"4.修改一下之前的拦截器","slug":"_4-修改一下之前的拦截器","link":"#_4-修改一下之前的拦截器","children":[]},{"level":3,"title":"5.验证结果","slug":"_5-验证结果","link":"#_5-验证结果","children":[]}]},{"level":2,"title":"角色权限","slug":"角色权限","link":"#角色权限","children":[{"level":3,"title":"1.静态对应关系","slug":"_1-静态对应关系","link":"#_1-静态对应关系","children":[]},{"level":3,"title":"2.修改 controller","slug":"_2-修改-controller","link":"#_2-修改-controller","children":[]},{"level":3,"title":"3.修改一下拦截器","slug":"_3-修改一下拦截器","link":"#_3-修改一下拦截器","children":[]},{"level":3,"title":"4.结果测试","slug":"_4-结果测试","link":"#_4-结果测试","children":[]}]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]}],"git":{"createdTime":1647698494000,"updatedTime":1714224756000,"contributors":[{"name":"xlc","email":"2215400217@qq.com","commits":2},{"name":"xlc520","email":"2215400217@qq.com","commits":2}]},"readingTime":{"minutes":8.37,"words":2512},"filePathRelative":"dev/SpringBoot.md","localizedDate":"2022年1月15日","excerpt":"\\n<ul>\\n<li>\\n<p><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">前言</a></p>\\n</li>\\n<li>\\n<p><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">资源权限</a></p>\\n</li>\\n<li>\\n<ul>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">1.静态资源准备</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">2.自定义一个异常，便于拦截抛出</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">3.全局异常处理</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">4.controller 层</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">5.拦截器创建</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">6.将拦截器注入应用</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">7.验证查看结果</a></li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">操作权限</a></p>\\n</li>\\n<li>\\n<ul>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">1.和上面一样使用静态资源</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">2.自定义注解</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">3.controller 层</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">4.修改一下之前的拦截器</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">5.验证结果</a></li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">角色权限</a></p>\\n</li>\\n<li>\\n<ul>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">1.静态对应关系</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">2.修改 controller</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">3.修改一下拦截器</a></li>\\n<li><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">4.结果测试</a></li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\"https://mp.weixin.qq.com/s?__biz=MzUzMTA2NTU2Ng==&amp;mid=2247487551&amp;idx=1&amp;sn=18f64ba49f3f0f9d8be9d1fdef8857d9&amp;chksm=fa496f8ecd3ee698f4954c00efb80fe955ec9198fff3ef4011e331aa37f55a6a17bc8c0335a8&amp;scene=21&amp;token=899450012&amp;lang=zh_CN#wechat_redirect\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">总结</a></p>\\n</li>\\n</ul>"}');export{f as comp,d as data};
