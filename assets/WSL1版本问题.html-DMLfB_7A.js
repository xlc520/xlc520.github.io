import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r,o as i,c as l,b as e,d as n,e as o,a as s}from"./app-BxuroukW.js";const d={},c=s('<h1 id="wsl-问题" tabindex="-1"><a class="header-anchor" href="#wsl-问题"><span>WSL 问题</span></a></h1><h2 id="启动-docker-后卡住-starting-the-engine" tabindex="-1"><a class="header-anchor" href="#启动-docker-后卡住-starting-the-engine"><span>启动 docker 后卡住 starting the engine</span></a></h2><p>检查发现是 wsl2 没配置好</p><h2 id="wsl2-配置以及微软官方的-docker-配置教程" tabindex="-1"><a class="header-anchor" href="#wsl2-配置以及微软官方的-docker-配置教程"><span>wsl2 配置以及微软官方的 docker 配置教程</span></a></h2>',4),p={href:"https://learn.microsoft.com/zh-cn/windows/wsl/install",target:"_blank",rel:"noopener noreferrer"},h={href:"https://learn.microsoft.com/zh-cn/windows/wsl/tutorials/wsl-containers",target:"_blank",rel:"noopener noreferrer"},u=e("h2",{id:"问题-3-wsl-17-error-utiltranslatepathlist-2853-failed-to-translate-d-software-microsoft-vs-code-bin",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#问题-3-wsl-17-error-utiltranslatepathlist-2853-failed-to-translate-d-software-microsoft-vs-code-bin"},[e("span",null,"问题：<3>WSL (17) ERROR: UtilTranslatePathList:2853: Failed to translate D:\\Software\\Microsoft VS Code\\bin")])],-1),m=e("p",null,"查看我并没有这个路径，在环境变量中找到删除即可。",-1),g=e("h2",{id:"问题-占位程序接收到错误数据。-error-code-wsl-service-0x800706f7",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#问题-占位程序接收到错误数据。-error-code-wsl-service-0x800706f7"},[e("span",null,"问题：占位程序接收到错误数据。 Error code: Wsl/Service/0x800706f7")])],-1),k=e("p",null,"解决：",-1),w={href:"https://blog.csdn.net/qq_44652876/article/details/126697937",target:"_blank",rel:"noopener noreferrer"},L=e("p",null,[e("strong",null,"如果重启电脑后反复遇到占位程序接收到错误数据：")],-1),v={href:"http://www.proxifier.com/tmp/Test20200228/NoLsp.exe%E3%80%82",target:"_blank",rel:"noopener noreferrer"},f=e("li",null,"使用管理员权限启动命令提示符（CMD）或 PowerShell，并 cd 到 nolsp.exe 的位置。",-1),b=e("li",null,"在命令行中输入以下命令（假设 NoLsp.exe 位于当前目录）：",-1),x=s(`<div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>NoLsp.exe c:\\windows\\system32\\wsl.exe
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>4.如果命令返回“success”，则表示操作成功。</p><ol start="5"><li>继续输入并运行以下命令：</li></ol><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>netsh winsock reset
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="6"><li>不需要重启，打开一个新的命令行输入 wsl，已经可以启动</li></ol><blockquote><p>使用 NoLsp 防止 LSP DLL 加载到 WSL 进程是什么原理？</p><p>使用 NoLsp.exe 防止 LSP DLL 加载到 WSL（Windows Subsystem for Linux）进程的原理涉及到了几个关键概念：LSP（Layered Service Provider）、DLL（Dynamic Link Library）和 WSL 本身的工作原理。让我们逐一解释： LSP（Layered Service Provider） <strong>定义</strong>: LSP 是一种 Windows 套接字（Winsock）层，它可以插入自己的网络服务提供者来监视和修改网络数据。这通常用于数据包过滤、网络流量监控、代理服务等。 <strong>工作原理</strong>: LSP 作为中间层，能截获并操控 Winsock API 的调用。这使得它可以在数据发送到网络协议栈之前，或在数据从协议栈返回到应用程序之前，对数据进行处理。 DLL（Dynamic Link Library） <strong>定义</strong>: DLL 是包含可以被多个程序同时使用的代码和数据的库。在这种情况下，LSP 通常以 DLL 的形式存在。 <strong>影响</strong>: 当一个程序（如 WSL）启动时，如果系统配置了特定的 LSP，相关的 DLL 就会被加载到程序的进程空间中，可能会影响程序的网络行为。 WSL（Windows Subsystem for Linux） <strong>工作原理</strong>: WSL 允许 Windows 用户运行 Linux 环境和命令行工具，而不必安装完整的 Linux 操作系统。WSL 使用 Windows 的网络堆栈，因此受到 LSP 的影响。 使用 NoLsp.exe 的原理 <strong>目的</strong>: NoLsp.exe 的目的是阻止特定的 LSP DLL 加载到 WSL 进程中，从而避免由这些 LSP 引起的潜在问题，如网络连接问题或性能下降。 <strong>操作</strong>: 它通过修改 Windows 的网络配置，特别是针对 wsl.exe 进程，来实现这一目的。这样，即使系统上安装了 LSP，它们也不会影响到 WSL 的运行。 总的来说，使用 NoLsp.exe 是一种确保 WSL 不受系统中安装的 LSP 影响的方法。这对于解决由于网络配置不当引起的 WSL 启动问题或性能问题非常有用。</p></blockquote><h2 id="问题-wsl-检测到-localhost-代理配置-但未镜像到-wsl。nat-模式下的-wsl-不支持-localhost-代理" tabindex="-1"><a class="header-anchor" href="#问题-wsl-检测到-localhost-代理配置-但未镜像到-wsl。nat-模式下的-wsl-不支持-localhost-代理"><span>问题：wsl: 检测到 localhost 代理配置，但未镜像到 WSL。NAT 模式下的 WSL 不支持 localhost 代理</span></a></h2><p>解决：</p>`,8),_={href:"https://zhuanlan.zhihu.com/p/657110386",target:"_blank",rel:"noopener noreferrer"},S=e("p",null,[e("strong",null,"请注意这篇文章中关于 docker 服务的 WSL 配置！否则会产生本文中的下一个问题！")],-1),W=e("h2",{id:"问题-windows-家庭版寄主机无法连接到-docker-desktop-中的-mysql-容器问题",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#问题-windows-家庭版寄主机无法连接到-docker-desktop-中的-mysql-容器问题"},[e("span",null,"问题：Windows 家庭版寄主机无法连接到 Docker Desktop 中的 MySQL 容器问题")])],-1),y={href:"https://zhuanlan.zhihu.com/p/668874450",target:"_blank",rel:"noopener noreferrer"},D=s(`<h2 id="error-response-from-daemon-open-pipe-docker-engine-windows" tabindex="-1"><a class="header-anchor" href="#error-response-from-daemon-open-pipe-docker-engine-windows"><span>Error response from daemon:<code>open \\\\.\\pipe\\docker_engine_windows</code></span></a></h2><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>docker config ls 

Error response from daemon: open \\\\.\\pipe\\docker_engine_windows: The system cannot find the file specified.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="第一种解决方法" tabindex="-1"><a class="header-anchor" href="#第一种解决方法"><span>第一种解决方法</span></a></h3><p>Try running the below commands in the Powershell and start the docker</p><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>Net stop com.docker.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>And then</p><div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>Net start com.docker.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="第二种" tabindex="-1"><a class="header-anchor" href="#第二种"><span>第二种</span></a></h3>`,8),P={href:"https://twitter.com/jflh",target:"_blank",rel:"noopener noreferrer"},E=s(`<ul><li><p>Fire up a console as Administrator</p></li><li><p>Run <code>cd &#39;C:\\Program Files\\Docker\\Docker\\resources\\&#39;</code></p><p>Run <code>.\\dockerd.exe -G docker-users --config-file c:\\programdata\\docker\\config\\daemon.json --register-service</code></p></li><li><p>Run <code>start-service docker</code></p></li></ul><p>Now this did not work for me - trying to register the docker service raised an error that the service already existed. However I was able to work out a slight alternative to this which did seem to work for me:</p><ul><li>Fire up a console as Administrator</li><li>Run <code>stop-service docker</code></li><li>Run <code>cd &#39;C:\\Program Files\\Docker\\Docker\\resources\\&#39;</code></li><li>Run \`\`.\\dockerd.exe --unregister-service\`</li><li>Reboot the computer</li><li>Run \`\`.\\dockerd.exe -G docker-users --config-file c:\\programdata\\docker\\config\\daemon.json --register-service\`</li><li>Reboot the computer</li><li>Restart Docker Desktop</li><li>Put Docker Desktop back into Windows Containers mode</li></ul><p>Having done this, I was able to start my containers again, and I could see that the &quot;missing&quot; named pipe had now appeared.</p><p>Docker do suggest you might need to change the Docker Engine config in</p><p><code>c:\\programdata\\docker\\config\\daemon.json</code></p><p>to</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;experimental&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;hosts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;npipe:////./pipe/docker_engine_windows&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>But I didn&#39;t find this necessary for my machines - which perhaps makes sense because the software was clearly looking for that pipe originally, so it shouldn&#39;t need to be told to?</p><h3 id="第三种" tabindex="-1"><a class="header-anchor" href="#第三种"><span>第三种</span></a></h3><p>Try add Optional Feature - Container and Hyper-V to windows. In Windows 11: Apps → Optional features → More Windows features → Check Containers and Hyper-V and click OK</p><p>or try run:</p><div class="language-powershell line-numbers-mode" data-ext="powershell" data-title="powershell"><pre class="language-powershell"><code><span class="token function">Enable-WindowsOptionalFeature</span> <span class="token operator">-</span>Online <span class="token operator">-</span>FeatureName containers –All
<span class="token function">Enable-WindowsOptionalFeature</span> <span class="token operator">-</span>Online <span class="token operator">-</span>FeatureName Microsoft-Hyper-V –All
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,13);function N(R,T){const t=r("ExternalLinkIcon");return i(),l("div",null,[c,e("p",null,[e("a",p,[n("安装 WSL"),o(t)])]),e("p",null,[e("a",h,[n("WSL 上的 Docker 容器入门"),o(t)])]),u,m,g,k,e("p",null,[e("a",w,[n("关于 Windows 下 Linux 子系统的安装问题 0x800701bc 与 wsl2 出现“占位程序接收到错误数据”的解决办法-CSDN 博客"),o(t)])]),L,e("ol",null,[e("li",null,[n("下载 NoLsp 工具："),e("a",v,[n("http://www.proxifier.com/tmp/Test20200228/NoLsp.exe。"),o(t)])]),f,b]),x,e("p",null,[e("a",_,[n("hez2010：WSL2 的 2.0 更新彻底解决网络问题"),o(t)])]),S,W,e("p",null,[e("a",y,[n("季风：23 年 11 月 解决 Windows 家庭版寄主机无法连接到 Docker Desktop 中的 MySQL 容器问题"),o(t)])]),D,e("p",null,[n("Alongside the googling I tried asking about this on Sitecore Slack's Docker channel. And "),e("a",P,[n("Jeff L'Heureux"),o(t)]),n(" from Sitecore suggested that they'd had dealings with Docker Support over a related issue, and had been given a potential fix. And this one didn't involve any uninstalling. The steps he relayed are:")]),E])}const C=a(d,[["render",N],["__file","WSL1版本问题.html.vue"]]),F=JSON.parse('{"path":"/linux/WSL1%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98.html","title":"WSL 问题","lang":"zh-CN","frontmatter":{"author":"xlc520","title":"WSL 问题","excerpt":null,"description":"WSL 问题 启动 docker 后卡住 starting the engine 检查发现是 wsl2 没配置好 wsl2 配置以及微软官方的 docker 配置教程 安装 WSL WSL 上的 Docker 容器入门 问题：<3>WSL (17) ERROR: UtilTranslatePathList:2853: Failed to transla...","date":"2023-01-26T00:00:00.000Z","category":"Linux","tag":["Linux","WSL"],"article":true,"timeline":true,"icon":"linux","head":[["meta",{"property":"og:url","content":"https://blog.ciberviler.top/linux/WSL1%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98.html"}],["meta",{"property":"og:site_name","content":"StudyNote - 丰富的知识笔记库"}],["meta",{"property":"og:title","content":"WSL 问题"}],["meta",{"property":"og:description","content":"WSL 问题 启动 docker 后卡住 starting the engine 检查发现是 wsl2 没配置好 wsl2 配置以及微软官方的 docker 配置教程 安装 WSL WSL 上的 Docker 容器入门 问题：<3>WSL (17) ERROR: UtilTranslatePathList:2853: Failed to transla..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T13:32:36.000Z"}],["meta",{"property":"article:author","content":"xlc520"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:tag","content":"WSL"}],["meta",{"property":"article:published_time","content":"2023-01-26T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T13:32:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"WSL 问题\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-01-26T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-27T13:32:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xlc520\\"}]}"]]},"headers":[{"level":2,"title":"启动 docker 后卡住 starting the engine","slug":"启动-docker-后卡住-starting-the-engine","link":"#启动-docker-后卡住-starting-the-engine","children":[]},{"level":2,"title":"wsl2 配置以及微软官方的 docker 配置教程","slug":"wsl2-配置以及微软官方的-docker-配置教程","link":"#wsl2-配置以及微软官方的-docker-配置教程","children":[]},{"level":2,"title":"问题：<3>WSL (17) ERROR: UtilTranslatePathList:2853: Failed to translate D:\\\\Software\\\\Microsoft VS Code\\\\bin","slug":"问题-3-wsl-17-error-utiltranslatepathlist-2853-failed-to-translate-d-software-microsoft-vs-code-bin","link":"#问题-3-wsl-17-error-utiltranslatepathlist-2853-failed-to-translate-d-software-microsoft-vs-code-bin","children":[]},{"level":2,"title":"问题：占位程序接收到错误数据。 Error code: Wsl/Service/0x800706f7","slug":"问题-占位程序接收到错误数据。-error-code-wsl-service-0x800706f7","link":"#问题-占位程序接收到错误数据。-error-code-wsl-service-0x800706f7","children":[]},{"level":2,"title":"问题：wsl: 检测到 localhost 代理配置，但未镜像到 WSL。NAT 模式下的 WSL 不支持 localhost 代理","slug":"问题-wsl-检测到-localhost-代理配置-但未镜像到-wsl。nat-模式下的-wsl-不支持-localhost-代理","link":"#问题-wsl-检测到-localhost-代理配置-但未镜像到-wsl。nat-模式下的-wsl-不支持-localhost-代理","children":[]},{"level":2,"title":"问题：Windows 家庭版寄主机无法连接到 Docker Desktop 中的 MySQL 容器问题","slug":"问题-windows-家庭版寄主机无法连接到-docker-desktop-中的-mysql-容器问题","link":"#问题-windows-家庭版寄主机无法连接到-docker-desktop-中的-mysql-容器问题","children":[]},{"level":2,"title":"Error response from daemon:open \\\\\\\\.\\\\pipe\\\\docker_engine_windows","slug":"error-response-from-daemon-open-pipe-docker-engine-windows","link":"#error-response-from-daemon-open-pipe-docker-engine-windows","children":[{"level":3,"title":"第一种解决方法","slug":"第一种解决方法","link":"#第一种解决方法","children":[]},{"level":3,"title":"第二种","slug":"第二种","link":"#第二种","children":[]},{"level":3,"title":"第三种","slug":"第三种","link":"#第三种","children":[]}]}],"git":{"createdTime":1674909474000,"updatedTime":1714224756000,"contributors":[{"name":"xlc","email":"2215400217@qq.com","commits":2},{"name":"xlc520","email":"2215400217@qq.com","commits":2}]},"readingTime":{"minutes":4.43,"words":1328},"filePathRelative":"linux/WSL1版本问题.md","localizedDate":"2023年1月26日","autoDesc":true}');export{C as comp,F as data};
