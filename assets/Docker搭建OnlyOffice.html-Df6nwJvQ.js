import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as i,c,d as n,e,b as t,a as s}from"./app-BkZy1zYI.js";const r={},p=s(`<h1 id="docker-搭建-onlyoffice" tabindex="-1"><a class="header-anchor" href="#docker-搭建-onlyoffice"><span>Docker 搭建 OnlyOffice</span></a></h1><h2 id="onlyoffice-是什么" tabindex="-1"><a class="header-anchor" href="#onlyoffice-是什么"><span>OnlyOffice 是什么</span></a></h2><blockquote><p>OnlyOffice 是一款开源的办公套件，提供了一系列用于文档管理、项目管理、客户关系管理（CRM）、邮件管理和社交网络的工具。它最初是由 Ascensio System SIA 公司于 2009 年发布的，旨在为小型和中型企业提供一种云办公的解决方案。</p><p>OnlyOffice 包括以下主要组件：</p><ol><li>文档编辑器：OnlyOffice 提供了一个在线的文档编辑器，支持文本文档、电子表格和演示文稿。这些编辑器兼容 Microsoft Office 文件格式，并提供了丰富的格式化和协作功能。</li><li>文档管理：OnlyOffice 包含了一个全功能的文档管理系统，支持版本控制、权限管理、在线查看和编辑文档等功能。</li><li>项目管理：OnlyOffice 提供了一套项目管理工具，支持任务分配、时间跟踪、报告和协作。</li><li>客户关系管理（CRM）：OnlyOffice 的 CRM 系统支持联系人管理、销售机会跟踪、报告和邮件营销。</li><li>邮件管理：OnlyOffice 可以集成你的电子邮件账户，让你在一个统一的界面中管理你的邮件。</li><li>团队协作：OnlyOffice 提供了一些社交网络功能，如新闻订阅、论坛、博客和 wiki，支持团队成员之间的协作和交流。</li></ol><p>OnlyOffice 可以在云端运行，也可以部署在本地服务器上。它提供了一个开放的 API，允许开发者扩展其功能或将其集成到其他系统中。</p></blockquote><h2 id="安装教程" tabindex="-1"><a class="header-anchor" href="#安装教程"><span>安装教程</span></a></h2><ol><li><p><strong>安装 Docker</strong></p><p>对于大多数主流的 Linux 发行版可以使用下面的命令来安装 Docker：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://get.docker.com <span class="token parameter variable">-o</span> get-docker.sh
<span class="token function">sudo</span> <span class="token function">sh</span> get-docker.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这将会下载一个脚本并执行，这个脚本会自动检测你的操作系统类型并安装相应的 Docker 版本。</p></li><li><p><strong>安装 Docker Compose</strong></p><p>使用下面的命令来安装 Docker Compose：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token string">&quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-s</span><span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-m</span><span class="token variable">)</span></span>&quot;</span> <span class="token parameter variable">-o</span> /usr/local/bin/docker-compose
<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这将会下载 Docker Compose 的二进制文件并将其放在 /usr/local/bin 目录下，然后添加执行权限。</p></li><li><p><strong>配置并运行 OnlyOffice</strong></p><p>首先，创建一个目录来保存你的配置文件和数据：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /root/onlyoffice
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后，在这个目录下创建一个 docker-compose.yml 文件，并填入以下内容：</p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">onlyoffice</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> onlyoffice/documentserver<span class="token punctuation">:</span>latest
    <span class="token key atrule">stdin_open</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">tty</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> 5545<span class="token punctuation">:</span><span class="token number">80</span>
      <span class="token punctuation">-</span> 2345<span class="token punctuation">:</span><span class="token number">443</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /root/onlyoffice/data<span class="token punctuation">:</span>/var/www/onlyoffice/Data
      <span class="token punctuation">-</span> /root/onlyoffice/logs<span class="token punctuation">:</span>/var/log/onlyoffice
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这个配置文件会启动一个 OnlyOffice 文档服务器，它会监听 5545 和 2345 端口，并将数据和日志存储在 /root/onlyoffice/data 和 /root/onlyoffice/logs 目录下。</p><p>最后，进入到包含 docker-compose.yml 文件的目录，然后运行以下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/onlyoffice
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这个命令会下载 OnlyOffice 的 Docker 镜像（如果本地没有的话），然后启动一个 OnlyOffice 的容器。</p></li></ol>`,5),d={href:"http://localhost:5545",target:"_blank",rel:"noopener noreferrer"},u=s(`<div class="language-plain line-numbers-mode" data-ext="plain" data-title="plain"><pre class="language-plain"><code>进去后，按照提示依次执行三个方框里的三行sudo命令，然后点GO TO TEST EXAMPLE就可以了
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="以下是一些常用的-docker-和-docker-compose-命令" tabindex="-1"><a class="header-anchor" href="#以下是一些常用的-docker-和-docker-compose-命令"><span>以下是一些常用的 Docker 和 Docker Compose 命令</span></a></h2><ol><li><p><strong>重启服务</strong></p><p>如果你想要重启 OnlyOffice 服务，你可以使用 <code>docker-compose restart</code> 命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/onlyoffice
<span class="token function">docker-compose</span> restart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>更新服务</strong></p><p>如果你想要更新 OnlyOffice 到最新版本，你可以先停止服务，然后拉取最新的 Docker 镜像，最后再重新启动服务：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/onlyoffice
<span class="token function">docker-compose</span> down
<span class="token function">docker-compose</span> pull
<span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>停止并卸载服务</strong></p><p>如果你想要停止并卸载 OnlyOffice 服务，你可以使用 <code>docker-compose down</code> 命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/onlyoffice
<span class="token function">docker-compose</span> down
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：这个命令只会停止服务并删除容器，但不会删除你的数据和配置文件。如果你想要完全删除所有的数据和配置，你需要手动删除 <code>/root/onlyoffice</code> 目录。</p></li><li><p><strong>查看服务状态</strong></p><p>如果你想要查看 OnlyOffice 服务的状态，你可以使用 <code>docker-compose ps</code> 命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/onlyoffice
<span class="token function">docker-compose</span> <span class="token function">ps</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>查看服务日志</strong></p><p>如果你想要查看 OnlyOffice 服务的日志，你可以使用 <code>docker-compose logs</code> 命令：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/onlyoffice
<span class="token function">docker-compose</span> logs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你只想要查看最新的日志，你可以加上 <code>-f</code> 参数来实时查看日志：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/onlyoffice
<span class="token function">docker-compose</span> logs <span class="token parameter variable">-f</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,3);function m(f,k){const a=l("ExternalLinkIcon");return i(),c("div",null,[p,n("p",null,[e("现在，你应该可以通过浏览器访问 "),n("a",d,[e("http://localhost:5545"),t(a)]),e(" 来使用 OnlyOffice 了。如果你的 Docker 主机不在本地，那么你需要将 localhost 替换为 Docker 主机的 IP 地址。")]),u])}const h=o(r,[["render",m],["__file","Docker搭建OnlyOffice.html.vue"]]),y=JSON.parse('{"path":"/linux/Docker%E6%90%AD%E5%BB%BAOnlyOffice.html","title":"Docker搭建OnlyOffice","lang":"zh-CN","frontmatter":{"author":"xlc520","title":"Docker搭建OnlyOffice","excerpt":null,"description":"Docker 搭建 OnlyOffice OnlyOffice 是什么 OnlyOffice 是一款开源的办公套件，提供了一系列用于文档管理、项目管理、客户关系管理（CRM）、邮件管理和社交网络的工具。它最初是由 Ascensio System SIA 公司于 2009 年发布的，旨在为小型和中型企业提供一种云办公的解决方案。 OnlyOffice 包...","date":"2023-09-07T00:00:00.000Z","category":"Linux","tag":"Linux","article":true,"timeline":true,"icon":"linux","head":[["meta",{"property":"og:url","content":"https://blog.ciberviler.top/linux/Docker%E6%90%AD%E5%BB%BAOnlyOffice.html"}],["meta",{"property":"og:site_name","content":"StudyNote - 丰富的知识笔记库"}],["meta",{"property":"og:title","content":"Docker搭建OnlyOffice"}],["meta",{"property":"og:description","content":"Docker 搭建 OnlyOffice OnlyOffice 是什么 OnlyOffice 是一款开源的办公套件，提供了一系列用于文档管理、项目管理、客户关系管理（CRM）、邮件管理和社交网络的工具。它最初是由 Ascensio System SIA 公司于 2009 年发布的，旨在为小型和中型企业提供一种云办公的解决方案。 OnlyOffice 包..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-27T13:32:36.000Z"}],["meta",{"property":"article:author","content":"xlc520"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2023-09-07T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-27T13:32:36.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker搭建OnlyOffice\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-09-07T00:00:00.000Z\\",\\"dateModified\\":\\"2024-04-27T13:32:36.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"xlc520\\"}]}"]]},"headers":[{"level":2,"title":"OnlyOffice 是什么","slug":"onlyoffice-是什么","link":"#onlyoffice-是什么","children":[]},{"level":2,"title":"安装教程","slug":"安装教程","link":"#安装教程","children":[]},{"level":2,"title":"以下是一些常用的 Docker 和 Docker Compose 命令","slug":"以下是一些常用的-docker-和-docker-compose-命令","link":"#以下是一些常用的-docker-和-docker-compose-命令","children":[]}],"git":{"createdTime":1697037217000,"updatedTime":1714224756000,"contributors":[{"name":"xlc","email":"2215400217@qq.com","commits":1},{"name":"xlc520","email":"2215400217@qq.com","commits":1}]},"readingTime":{"minutes":3.8,"words":1140},"filePathRelative":"linux/Docker搭建OnlyOffice.md","localizedDate":"2023年9月7日","autoDesc":true}');export{h as comp,y as data};
